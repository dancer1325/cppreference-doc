[C++](../../../cpp.html "cpp")

[Compiler support](../../compiler_support.html "cpp/compiler support")  
---  
[Freestanding and hosted](../../freestanding.html "cpp/freestanding")  
[Language](../../language.html "cpp/language")  
[Standard library](../../standard_library.html "cpp/standard library")  
[Standard library headers](../../headers.html "cpp/header")  
[Named requirements](../../iterator/concepts.html "cpp/named req")  
[Feature test macros](../../experimental/feature_test.html "cpp/feature test") (C++20)  
[Language support library](../../utility.html#Language_support "cpp/utility")  
[Concepts library](../../concepts.html "cpp/concepts") (C++20)  
[Diagnostics library](../../error.html "cpp/error")  
[Memory management library](../../memory.html "cpp/memory")  
[Metaprogramming library](../../meta.html "cpp/meta") (C++11)  
[General utilities library](../../utility.html "cpp/utility")  
[Containers library](../../container.html "cpp/container")  
[Iterators library](../../iterator.html "cpp/iterator")  
[Ranges library](../../ranges.html "cpp/ranges") (C++20)  
[Algorithms library](../../algorithm.html "cpp/algorithm")  
[Strings library](../../string.html "cpp/string")  
[Text processing library](../../text.html "cpp/text")  
[Numerics library](../../numeric.html "cpp/numeric")  
[Date and time library](../../chrono.html "cpp/chrono")  
[Input/output library](../../io.html "cpp/io")  
[Filesystem library](../../filesystem.html "cpp/filesystem") (C++17)  
[Concurrency support library](../../atomic.html "cpp/thread") (C++11)  
[Execution control library](../../experimental/execution.html "cpp/execution") (C++26)  
[Technical specifications](../../experimental.html "cpp/experimental")  
[Symbols index](../../symbol_index.html "cpp/symbol index")  
[External libraries](../../links/libs.html "cpp/links/libs")  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/navbar_content&action=edit)

[Text processing library](../../text.html "cpp/text")

[Localization library](../../locale.html "cpp/locale")  
---  
[Regular expressions library](../../regex.html "cpp/regex") (C++11)  
[Formatting library](../../utility/format.html "cpp/utility/format") (C++20)  
[Null-terminated sequence utilities](../../text.html#Null-terminated_sequence_utilities "cpp/text")  
[Byte strings](../../string/byte.html "cpp/string/byte")  
[Multibyte strings](../../string/multibyte.html "cpp/string/multibyte")  
[Wide strings](../../string/wide.html "cpp/string/wide")  
[Primitive numeric conversions](../../text.html#Primitive_numeric_conversions "cpp/text")  
| [to_chars](../../utility/to_chars.html "cpp/utility/to chars")(C++17)  
---  
[to_chars_result](../../utility/to_chars_result.html "cpp/utility/to chars result")(C++17)  
[from_chars](../../utility/from_chars.html "cpp/utility/from chars")(C++17)  
[from_chars_result](../../utility/from_chars_result.html "cpp/utility/from chars result")(C++17)  
[chars_format](../../utility/chars_format.html "cpp/utility/chars format")(C++17)  
  
[Text encoding identifications](../../text.html#Text_encoding_identifications "cpp/text")  
| [text_encoding](../text_encoding.html "cpp/text/text encoding")(C++26)  
---  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/text/navbar_content&action=edit)

[Localization library](../../locale.html "cpp/locale")

| [Locales and facets](../../locale.html#Locales_and_facets "cpp/locale")` `  
---  
[Locales](../../locale.html#Locales "cpp/locale")  
[has_facet](../has_facet.html "cpp/locale/has facet")  
[use_facet](../use_facet.html "cpp/locale/use facet")  
[locale](../locale.html "cpp/locale/locale")  
[Facet category  
base classes](../../locale.html#Facet_category_base_classes "cpp/locale")  
[ctype_base](../ctype_base.html "cpp/locale/ctype base")  
[codecvt_base](../codecvt_base.html "cpp/locale/codecvt base")  
[messages_base](../messages_base.html "cpp/locale/messages base")  
[time_base](../time_base.html "cpp/locale/time base")  
[money_base](../money_base.html "cpp/locale/money base")  
[ctype facets](../../locale.html#ctype_facets "cpp/locale")  
[ctype](../ctype.html "cpp/locale/ctype")  
[ctype<char>](../ctype_char.html "cpp/locale/ctype char")  
[ctype_byname](../ctype_byname.html "cpp/locale/ctype byname")  
[codecvt](../codecvt.html "cpp/locale/codecvt")  
[codecvt_byname](../codecvt_byname.html "cpp/locale/codecvt byname")  
[numeric facets](../../locale.html#numeric_facets "cpp/locale")  
[num_get](../num_get.html "cpp/locale/num get")  
[num_put](../num_put.html "cpp/locale/num put")  
[numpunct](../numpunct.html "cpp/locale/numpunct")  
[numpunct_byname](../numpunct_byname.html "cpp/locale/numpunct byname")  
[collate facets](../../locale.html#collate_facets "cpp/locale")  
[collate](../collate.html "cpp/locale/collate")  
[collate_byname](../collate_byname.html "cpp/locale/collate byname")  
[time facets](../../locale.html#time_facets "cpp/locale")  
[time_get](../time_get.html "cpp/locale/time get")  
[time_put](../time_put.html "cpp/locale/time put")  
[time_get_byname](../time_get_byname.html "cpp/locale/time get byname")  
[time_put_byname](../time_put_byname.html "cpp/locale/time put byname")  
  
| [monetary facets](../../locale.html#monetary_facets "cpp/locale")  
---  
[money_get](../money_get.html "cpp/locale/money get")  
[money_put](../money_put.html "cpp/locale/money put")  
[moneypunct](../moneypunct.html "cpp/locale/moneypunct")  
[moneypunct_byname](../moneypunct_byname.html "cpp/locale/moneypunct byname")  
[messages facets](../../locale.html#messages_facets "cpp/locale")  
[messages](../messages.html "cpp/locale/messages")  
[messages_byname](../messages_byname.html "cpp/locale/messages byname")  
[Character classification and conversion](../../locale.html#Character_classification_and_conversion "cpp/locale")  
[Character classification](../../locale.html#Character_classification "cpp/locale")  
|  | [isspace](../isspace.html "cpp/locale/isspace")` `  
---  
[iscntrl](../iscntrl.html "cpp/locale/iscntrl")  
[isupper](../isupper.html "cpp/locale/isupper")  
  
| [islower](../islower.html "cpp/locale/islower")` `  
---  
[isalpha](../isalpha.html "cpp/locale/isalpha")  
[ispunct](../ispunct.html "cpp/locale/ispunct")  
  
| [isdigit](../isdigit.html "cpp/locale/isdigit")` `  
---  
[isxdigit](../isxdigit.html "cpp/locale/isxdigit")  
[isalnum](../isalnum.html "cpp/locale/isalnum")  
  
| [isblank](../isblank.html "cpp/locale/isblank")(C++11)  
---  
[isprint](../isprint.html "cpp/locale/isprint")  
[isgraph](../isgraph.html "cpp/locale/isgraph")  
  
[Character conversions](../../locale.html#Character_conversions "cpp/locale")  
|  | [toupper](../toupper.html "cpp/locale/toupper")` `  
---  
  
| [tolower](../tolower.html "cpp/locale/tolower")  
---  
  
[String and stream conversions](../../locale.html#String_and_stream_conversions "cpp/locale")  
[wstring_convert](../wstring_convert.html "cpp/locale/wstring convert")(C++11/17/26*)  
[wbuffer_convert](../wbuffer_convert.html "cpp/locale/wbuffer convert")(C++11/17/26*)  
[Unicode conversion facets](../../locale.html#Locale-independent_unicode_conversion_facets "cpp/locale")  
[codecvt_utf8](../codecvt_utf8.html "cpp/locale/codecvt utf8")(C++11/17/26*)  
[codecvt_utf16](../codecvt_utf16.html "cpp/locale/codecvt utf16")(C++11/17/26*)  
[codecvt_utf8_utf16](../codecvt_utf8_utf16.html "cpp/locale/codecvt utf8 utf16")(C++11/17/26*)  
[codecvt_mode](../codecvt_mode.html "cpp/locale/codecvt mode")(C++11/17/26*)  
[C library locales](../../locale.html#C_library_locales "cpp/locale")  
|  | [LC_ALLLC_COLLATELC_CTYPELC_MONETARYLC_NUMERICLC_TIME](../LC_categories.html "cpp/locale/LC categories")` `  
---  
  
| [setlocale](../setlocale.html "cpp/locale/setlocale")  
---  
[localeconv](../localeconv.html "cpp/locale/localeconv")  
[lconv](../lconv.html "cpp/locale/lconv")  
  
  
  
  
  
  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/locale/navbar_content&action=edit)

[`std::money_put`](../money_put.html "cpp/locale/money put")

Member functions  
---  
[money_put::money_put](money_put.html "cpp/locale/money put/money put")  
[money_put::~money_put](~money_put.html "cpp/locale/money put/~money put")  
**money_put::put money_put::do_put**  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/locale/money_put/navbar_content&action=edit)

Defined in header `[<locale>](../../header/locale.html "cpp/header/locale")` |  |   
---|---|---  
public:  
iter_type put( iter_type out, bool intl, [std::ios_base](../../io/ios_base.html)& f,  
char_type fill, long double quant ) const; |  (1)  |   
iter_type put( iter_type out, bool intl, [std::ios_base](../../io/ios_base.html)& f,  
char_type fill, const string_type& quant ) const; |  (2)  |   
protected:  
virtual iter_type do_put( iter_type out, bool intl, [std::ios_base](../../io/ios_base.html)& str,  
char_type fill, long double units ) const; |  (3)  |   
virtual iter_type do_put( iter_type out, bool intl, [std::ios_base](../../io/ios_base.html)& str,  
char_type fill, const string_type& digits ) const; |  (4)  |   
| |   
  
Formats monetary value and writes the result to output stream. 

1,2) Public member functions, call the member function `do_put` of the most derived class.

3) The numeric arguments units is converted to a wide character string as if by ct.widen(buf1, buf1 + [std::sprintf](../../io/c/fprintf.html)(buf1, "%.0Lf", units), buf2), where ct is the [std::ctype](../ctype.html "cpp/locale/ctype") facet imbued in str.getloc() and buf1 and buf2 are sufficiently large character buffers. The resulting character string buf2 is processed, formatted, and output to out as desribed below.

4) From the string argument digits, only the optional leading minus sign (as determined by comparing to ct.widen('-'), where ct is the [std::ctype](../ctype.html "cpp/locale/ctype") facet imbued in str.getloc()) and the immediately following digit characters (as classified by ct) are taken as the character sequence to be processed, formatted, and output to out as described below.

Given the character sequence from the previous steps, if the first character equals ct.widen('-'), calls mp.neg_format() to obtain the formatting [pattern](../money_base.html "cpp/locale/money base"), otherwise calls mp.pos_format(), where mp is the [std::moneypunct](../moneypunct.html)<CharT, intl> facet imbued in str.getloc(). 

Thousands separator and decimal point characters are inserted as required by mp.grouping(), mp.frac_digits(), mp.decimal_point(), and mp.thousands_sep(), and the resulting string is placed in the output sequence where [value](../money_base.html "cpp/locale/money base") appears in the formatting pattern. 

If str.flags() & str.showbase is non-zero (the [std::showbase](../../io/manip/showbase.html "cpp/io/manip/showbase") manipulator was used), then the currency symbol or string is generated by calling mp.curr_symbol() and placed in the output sequence where [symbol](../money_base.html "cpp/locale/money base") appears in the formatting pattern. 

If mp.positive_sign() (in case positive format pattern is used) or mp.negative_sign() (in case negative format pattern is used) returns a string with more than one character, the first character returned is placed in the output sequence where [sign](../money_base.html "cpp/locale/money base") appears in the formatting pattern, and the rest of the characters are placed after all other characters, for example, formatting pattern {sign, value, space, symbol} with units 123 and negative_sign of "-" may result in "-1.23 €", while negative_sign of "()" would generate "(1.23 €)". 

If the number of characters generated for the specified format is less than the value returned by str.width(), then copies of fill are inserted to bring the total length of the output sequence to exactly str.width(), as follows: 

  * If str.flags() & str.adjustfield equals str.internal, the fill characters are inserted where `none` or `space` appears in the formatting pattern. 
  * Otherwise, if str.flags() & str.adjustfield equals str.left, the copies of fill are appended after all other characters. 
  * Otherwise, the fill characters are placed before all other characters. 



In the end, calls str.width(0) to cancel the effects of any [std::setw](../../io/manip/setw.html "cpp/io/manip/setw"). 

## Contents

  * [1 Return value](put.html#Return_value)
  * [2 Notes](put.html#Notes)
  * [3 Example](put.html#Example)
  * [4 Defect reports](put.html#Defect_reports)
  * [5 See also](put.html#See_also)

  
---  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/locale/money_put/put&action=edit&section=1 "Edit section: Return value")] Return value

An iterator pointing immediately after the last character produced. 

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/locale/money_put/put&action=edit&section=2 "Edit section: Notes")] Notes

The currency units are assumed to be the smallest non-fractional units of the currency: cents in the U.S, yen in Japan. 

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/locale/money_put/put&action=edit&section=3 "Edit section: Example")] Example

Run this code
    
    
    #include <iomanip>
    #include <iostream>
    #include <locale>
     
    struct my_punct : [std::moneypunct_byname](../moneypunct_byname.html)<char, false>
    {
        my_punct(const char* name) : moneypunct_byname(name) {}
        string_type do_negative_sign() const { return "()"; }
    };
     
    int main()
    {
        [std::locale](../locale.html) loc("ru_RU.utf8");
        [std::cout](../../io/cout.html).imbue(loc);
        long double units = -123.45;
        [std::cout](../../io/cout.html) << "In Russian locale, " << units << " prints as " << [std::showbase](../../io/manip/showbase.html);
     
        // note, the following is equivalent to simply std::put_money(units)
        [std::use_facet](../use_facet.html)<[std::money_put](../money_put.html)<char>>(loc).put(
            {[std::cout](../../io/cout.html)}, false, [std::cout](../../io/cout.html), [std::cout](../../io/cout.html).fill(), units);
        [std::cout](../../io/cout.html) << '\n';
     
        [std::cout](../../io/cout.html).imbue([std::locale](../locale.html)([std::cout](../../io/cout.html).getloc(), new my_punct("ru_RU.utf8")));
        [std::cout](../../io/cout.html) << "With negative_sign set to \"()\", it prints as ";
        [std::use_facet](../use_facet.html)<[std::money_put](../money_put.html)<char>>(loc).put(
            {[std::cout](../../io/cout.html)}, false, [std::cout](../../io/cout.html), [std::cout](../../io/cout.html).fill(), units);
        [std::cout](../../io/cout.html) << '\n';
    }

Output: 
    
    
    In Russian locale, -123,45 prints as -1.23 руб
    With negative_sign set to "()", it prints as (1.23 руб)

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/locale/money_put/put&action=edit&section=4 "Edit section: Defect reports")] Defect reports

The following behavior-changing defect reports were applied retroactively to previously published C++ standards. 

DR  | Applied to  | Behavior as published  | Correct behavior   
---|---|---|---  
[LWG 328](https://cplusplus.github.io/LWG/issue328) | C++98  | the format string used for [std::sprintf](../../io/c/printf.html "cpp/io/c/fprintf") was "%.01f" | corrected to "%.0Lf"  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/locale/money_put/put&action=edit&section=5 "Edit section: See also")] See also

[ moneypunct](../moneypunct.html "cpp/locale/moneypunct") |  defines monetary formatting parameters used by [std::money_get](../money_get.html "cpp/locale/money get") and [std::money_put](../money_put.html "cpp/locale/money put")   
(class template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/locale/dsc_moneypunct&action=edit)  
---|---  
[ money_get](../money_get.html "cpp/locale/money get") |  parses and constructs a monetary value from an input character sequence   
(class template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/locale/dsc_money_get&action=edit)  
[ put_money](../../io/manip/put_money.html "cpp/io/manip/put money")(C++11) |  formats and outputs a monetary value   
(function template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/io/manip/dsc_put_money&action=edit)
