[C++](../../cpp.html "cpp")

[Compiler support](../compiler_support.html "cpp/compiler support")  
---  
[Freestanding and hosted](../freestanding.html "cpp/freestanding")  
[Language](../language.html "cpp/language")  
[Standard library](../standard_library.html "cpp/standard library")  
[Standard library headers](../headers.html "cpp/header")  
[Named requirements](../iterator/concepts.html "cpp/named req")  
[Feature test macros](../experimental/feature_test.html "cpp/feature test") (C++20)  
[Language support library](../utility.html#Language_support "cpp/utility")  
[Concepts library](../concepts.html "cpp/concepts") (C++20)  
[Diagnostics library](../error.html "cpp/error")  
[Memory management library](../memory.html "cpp/memory")  
[Metaprogramming library](../meta.html "cpp/meta") (C++11)  
[General utilities library](../utility.html "cpp/utility")  
[Containers library](../container.html "cpp/container")  
[Iterators library](../iterator.html "cpp/iterator")  
[Ranges library](../ranges.html "cpp/ranges") (C++20)  
[Algorithms library](../algorithm.html "cpp/algorithm")  
[Strings library](../string.html "cpp/string")  
[Text processing library](../text.html "cpp/text")  
[Numerics library](../numeric.html "cpp/numeric")  
[Date and time library](../chrono.html "cpp/chrono")  
[Input/output library](../io.html "cpp/io")  
[Filesystem library](../filesystem.html "cpp/filesystem") (C++17)  
[Concurrency support library](../atomic.html "cpp/thread") (C++11)  
[Execution control library](../experimental/execution.html "cpp/execution") (C++26)  
[Technical specifications](../experimental.html "cpp/experimental")  
[Symbols index](../symbol_index.html "cpp/symbol index")  
[External libraries](../links/libs.html "cpp/links/libs")  
  


[Text processing library](../text.html "cpp/text")

[Localization library](../locale.html "cpp/locale")  
---  
[Regular expressions library](../regex.html "cpp/regex") (C++11)  
[Formatting library](../utility/format.html "cpp/utility/format") (C++20)  
[Null-terminated sequence utilities](../text.html#Null-terminated_sequence_utilities "cpp/text")  
[Byte strings](../string/byte.html "cpp/string/byte")  
[Multibyte strings](../string/multibyte.html "cpp/string/multibyte")  
[Wide strings](../string/wide.html "cpp/string/wide")  
[Primitive numeric conversions](../text.html#Primitive_numeric_conversions "cpp/text")  
| [to_chars](../utility/to_chars.html "cpp/utility/to chars")(C++17)  
---  
[to_chars_result](../utility/to_chars_result.html "cpp/utility/to chars result")(C++17)  
[from_chars](../utility/from_chars.html "cpp/utility/from chars")(C++17)  
[from_chars_result](../utility/from_chars_result.html "cpp/utility/from chars result")(C++17)  
[chars_format](../utility/chars_format.html "cpp/utility/chars format")(C++17)  
  
[Text encoding identifications](../text.html#Text_encoding_identifications "cpp/text")  
| [text_encoding](text_encoding.html "cpp/text/text encoding")(C++26)  
---  
  


[Localization library](../locale.html "cpp/locale")

| [Locales and facets](../locale.html#Locales_and_facets "cpp/locale")` `  
---  
[Locales](../locale.html#Locales "cpp/locale")  
[has_facet](has_facet.html "cpp/locale/has facet")  
[use_facet](use_facet.html "cpp/locale/use facet")  
[locale](locale.html "cpp/locale/locale")  
[Facet category  
base classes](../locale.html#Facet_category_base_classes "cpp/locale")  
[ctype_base](ctype_base.html "cpp/locale/ctype base")  
[codecvt_base](codecvt_base.html "cpp/locale/codecvt base")  
[messages_base](messages_base.html "cpp/locale/messages base")  
[time_base](time_base.html "cpp/locale/time base")  
[money_base](money_base.html "cpp/locale/money base")  
[ctype facets](../locale.html#ctype_facets "cpp/locale")  
[ctype](ctype.html "cpp/locale/ctype")  
[ctype<char>](ctype_char.html "cpp/locale/ctype char")  
[ctype_byname](ctype_byname.html "cpp/locale/ctype byname")  
[codecvt](codecvt.html "cpp/locale/codecvt")  
[codecvt_byname](codecvt_byname.html "cpp/locale/codecvt byname")  
[numeric facets](../locale.html#numeric_facets "cpp/locale")  
[num_get](num_get.html "cpp/locale/num get")  
[num_put](num_put.html "cpp/locale/num put")  
[numpunct](numpunct.html "cpp/locale/numpunct")  
[numpunct_byname](numpunct_byname.html "cpp/locale/numpunct byname")  
[collate facets](../locale.html#collate_facets "cpp/locale")  
[collate](collate.html "cpp/locale/collate")  
[collate_byname](collate_byname.html "cpp/locale/collate byname")  
[time facets](../locale.html#time_facets "cpp/locale")  
[time_get](time_get.html "cpp/locale/time get")  
[time_put](time_put.html "cpp/locale/time put")  
[time_get_byname](time_get_byname.html "cpp/locale/time get byname")  
[time_put_byname](time_put_byname.html "cpp/locale/time put byname")  
  
| [monetary facets](../locale.html#monetary_facets "cpp/locale")  
---  
[money_get](money_get.html "cpp/locale/money get")  
[money_put](money_put.html "cpp/locale/money put")  
[moneypunct](moneypunct.html "cpp/locale/moneypunct")  
[moneypunct_byname](moneypunct_byname.html "cpp/locale/moneypunct byname")  
[messages facets](../locale.html#messages_facets "cpp/locale")  
[messages](messages.html "cpp/locale/messages")  
[messages_byname](messages_byname.html "cpp/locale/messages byname")  
[Character classification and conversion](../locale.html#Character_classification_and_conversion "cpp/locale")  
[Character classification](../locale.html#Character_classification "cpp/locale")  
|  | [isspace](isspace.html "cpp/locale/isspace")` `  
---  
[iscntrl](iscntrl.html "cpp/locale/iscntrl")  
[isupper](isupper.html "cpp/locale/isupper")  
  
| [islower](islower.html "cpp/locale/islower")` `  
---  
[isalpha](isalpha.html "cpp/locale/isalpha")  
[ispunct](ispunct.html "cpp/locale/ispunct")  
  
| [isdigit](isdigit.html "cpp/locale/isdigit")` `  
---  
[isxdigit](isxdigit.html "cpp/locale/isxdigit")  
[isalnum](isalnum.html "cpp/locale/isalnum")  
  
| [isblank](isblank.html "cpp/locale/isblank")(C++11)  
---  
[isprint](isprint.html "cpp/locale/isprint")  
[isgraph](isgraph.html "cpp/locale/isgraph")  
  
[Character conversions](../locale.html#Character_conversions "cpp/locale")  
|  | [toupper](toupper.html "cpp/locale/toupper")` `  
---  
  
| [tolower](tolower.html "cpp/locale/tolower")  
---  
  
[String and stream conversions](../locale.html#String_and_stream_conversions "cpp/locale")  
[wstring_convert](wstring_convert.html "cpp/locale/wstring convert")(C++11/17/26*)  
[wbuffer_convert](wbuffer_convert.html "cpp/locale/wbuffer convert")(C++11/17/26*)  
[Unicode conversion facets](../locale.html#Locale-independent_unicode_conversion_facets "cpp/locale")  
[codecvt_utf8](codecvt_utf8.html "cpp/locale/codecvt utf8")(C++11/17/26*)  
[codecvt_utf16](codecvt_utf16.html "cpp/locale/codecvt utf16")(C++11/17/26*)  
[codecvt_utf8_utf16](codecvt_utf8_utf16.html "cpp/locale/codecvt utf8 utf16")(C++11/17/26*)  
[codecvt_mode](codecvt_mode.html "cpp/locale/codecvt mode")(C++11/17/26*)  
[C library locales](../locale.html#C_library_locales "cpp/locale")  
|  | [LC_ALLLC_COLLATELC_CTYPELC_MONETARYLC_NUMERICLC_TIME](LC_categories.html "cpp/locale/LC categories")` `  
---  
  
| **setlocale**  
---  
[localeconv](localeconv.html "cpp/locale/localeconv")  
[lconv](lconv.html "cpp/locale/lconv")  
  
  
  
  
  
  
  


Defined in header `[<clocale>](../header/clocale.html "cpp/header/clocale")` |  |   
---|---|---  
char* setlocale( int category, const char* locale ); |  |   
| |   
  
The `setlocale` function installs the specified system locale or its portion as the new C locale. The modifications remain in effect and influences the execution of all locale-sensitive C library functions until the next call to `setlocale`. If `locale` is a null pointer, `setlocale` queries the current C locale without modifying it. 

## Contents

  * [1 Parameters](setlocale.html#Parameters)
  * [2 Return value](setlocale.html#Return_value)
  * [3 Notes](setlocale.html#Notes)
  * [4 Example](setlocale.html#Example)
  * [5 See also](setlocale.html#See_also)
  * [6 External links](setlocale.html#External_links)

  
---  
  
### Parameters

category  |  \-  |  locale category identifier, one of the [`LC_xxx`](LC_categories.html "cpp/locale/LC categories") macros. May be ​0​.   
---|---|---  
locale  |  \-  |  system-specific locale identifier. Can be "" for the user-preferred locale or "C" for the minimal locale   
  
### Return value

Pointer to a narrow null-terminated string identifying the C locale after applying the changes, if any, or null pointer on failure. 

A copy of the returned string along with the category used in this call to `std::setlocale` may be used later in the program to restore the locale back to the state at the end of this call. 

### Notes

During program startup, the equivalent of std::setlocale([LC_ALL](LC_categories.html), "C"); is executed before any user code is run. 

Although the return type is char*, modifying the pointed-to characters is undefined behavior. 

Because `setlocale` modifies global state which affects execution of locale-dependent functions, it is undefined behavior to call it from one thread, while another thread is executing any of the following functions: [std::fprintf](../io/c/printf.html "cpp/io/c/fprintf"), std::isprint, [std::iswdigit](../string/wide/iswdigit.html "cpp/string/wide/iswdigit"), [std::localeconv](localeconv.html "cpp/locale/localeconv"), std::tolower, [std::fscanf](../io/c/scanf.html "cpp/io/c/fscanf"), std::ispunct, [std::iswgraph](../string/wide/iswgraph.html "cpp/string/wide/iswgraph"), [std::mblen](../string/multibyte/mblen.html "cpp/string/multibyte/mblen"), std::toupper, std::isalnum, std::isspace, [std::iswlower](../string/wide/iswlower.html "cpp/string/wide/iswlower"), [std::mbstowcs](../string/multibyte/mbstowcs.html "cpp/string/multibyte/mbstowcs"), [std::towlower](../string/wide/towlower.html "cpp/string/wide/towlower"), std::isalpha, std::isupper, [std::iswprint](../string/wide/iswprint.html "cpp/string/wide/iswprint"), [std::mbtowc](../string/multibyte/mbtowc.html "cpp/string/multibyte/mbtowc"), [std::towupper](../string/wide/towupper.html "cpp/string/wide/towupper"), std::isblank, [std::iswalnum](../string/wide/iswalnum.html "cpp/string/wide/iswalnum"), [std::iswpunct](../string/wide/iswpunct.html "cpp/string/wide/iswpunct"), `std::setlocale`, [std::wcscoll](../string/wide/wcscoll.html "cpp/string/wide/wcscoll"), std::iscntrl, [std::iswalpha](../string/wide/iswalpha.html "cpp/string/wide/iswalpha"), [std::iswspace](../string/wide/iswspace.html "cpp/string/wide/iswspace"), [std::strcoll](../string/byte/strcoll.html "cpp/string/byte/strcoll"), [std::wcstod](../string/wide/wcstof.html "cpp/string/wide/wcstof"), std::isdigit, [std::iswblank](../string/wide/iswblank.html "cpp/string/wide/iswblank"), [std::iswupper](../string/wide/iswupper.html "cpp/string/wide/iswupper"), [std::strerror](../string/byte/strerror.html "cpp/string/byte/strerror"), [std::wcstombs](../string/multibyte/wcstombs.html "cpp/string/multibyte/wcstombs"), std::isgraph, [std::iswcntrl](../string/wide/iswcntrl.html "cpp/string/wide/iswcntrl"), [std::iswxdigit](../string/wide/iswxdigit.html "cpp/string/wide/iswxdigit"), [std::strtod](../string/byte/strtof.html "cpp/string/byte/strtof"), [std::wcsxfrm](../string/wide/wcsxfrm.html "cpp/string/wide/wcsxfrm"), std::islower, [std::iswctype](../string/wide/iswctype.html "cpp/string/wide/iswctype"), std::isxdigit. 

POSIX also defines a locale named "POSIX", which is always accessible and is exactly equivalent to the default minimal "C" locale. 

POSIX also specifies that the returned pointer, not just the contents of the pointed-to string, may be invalidated by subsequent calls to `setlocale`. 

### Example

Run this code
    
    
    #include <clocale>
    #include <cstdio>
    #include <ctime>
    #include <cwchar>
    #include <iterator>
    #include <string>
     
    int main()
    {
        // Make a "deep copy" of current locale name.
        [std::string](../string/basic_string.html) prev_loc = std::setlocale([LC_ALL](LC_categories.html), nullptr);
     
        // The C locale will be UTF-8 enabled English,
        // decimal dot will be German,
        // date and time formatting will be Japanese.
        if (const char* loc = std::setlocale([LC_ALL](LC_categories.html), "en_US.UTF-8"))
            [std::wprintf](../io/c/fwprintf.html)(L"New LC_ALL locale: %s\n", loc);
        if (const char* loc = std::setlocale([LC_NUMERIC](LC_categories.html), "de_DE.UTF-8"))
            [std::wprintf](../io/c/fwprintf.html)(L"New LC_NUMERIC locale: %s\n", loc);
        if (const char* loc = std::setlocale([LC_TIME](LC_categories.html), "ja_JP.UTF-8"))
            [std::wprintf](../io/c/fwprintf.html)(L"New LC_TIME locale: %s\n", loc);
     
        wchar_t buf[100];
        [std::time_t](../chrono/c/time_t.html) t = [std::time](../chrono/c/time.html)(nullptr);
        [std::wcsftime](../chrono/c/wcsftime.html)(buf, [std::size](../iterator/size.html)(buf), L"%A %c", [std::localtime](../chrono/c/localtime.html)(&t));
        [std::wprintf](../io/c/fwprintf.html)(L"Number: %.2f\nDate: %Ls\n", 3.14, buf);
     
        // Restore the previous locale.
        if (const char* loc = std::setlocale([LC_ALL](LC_categories.html), prev_loc.c_str()))
            [std::wprintf](../io/c/fwprintf.html)(L"Restorred LC_ALL locale: %s\n", loc);
    }

Possible output: 
    
    
    New LC_ALL locale: en_US.UTF-8
    New LC_NUMERIC locale: de_DE.UTF-8
    New LC_TIME locale: ja_JP.UTF-8
    Number: 3,14
    Date: 日曜日 2022年11月06日 20時40分59秒
    Restorred LC_ALL locale: C

### See also

[ LC_ALLLC_COLLATELC_CTYPELC_MONETARYLC_NUMERICLC_TIME](LC_categories.html "cpp/locale/LC categories") |  locale categories for **std::setlocale**   
(macro constant)   
---|---  
[ locale](locale.html "cpp/locale/locale") |  set of polymorphic facets that encapsulate cultural differences   
(class)   
[C documentation](../../c/locale/setlocale.html "c/locale/setlocale") for setlocale  
  
### External links

1\.  | [List of Windows locale names](https://ss64.com/locale.html).   
---|---  
2\.  | [List of Linux locale names](https://lh.2xlibre.net/locales/). 
