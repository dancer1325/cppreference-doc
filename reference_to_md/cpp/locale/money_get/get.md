[C++](../../../cpp.html "cpp")

[Compiler support](../../compiler_support.html "cpp/compiler support")  
---  
[Freestanding and hosted](../../freestanding.html "cpp/freestanding")  
[Language](../../language.html "cpp/language")  
[Standard library](../../standard_library.html "cpp/standard library")  
[Standard library headers](../../headers.html "cpp/header")  
[Named requirements](../../iterator/concepts.html "cpp/named req")  
[Feature test macros](../../experimental/feature_test.html "cpp/feature test") (C++20)  
[Language support library](../../utility.html#Language_support "cpp/utility")  
[Concepts library](../../concepts.html "cpp/concepts") (C++20)  
[Diagnostics library](../../error.html "cpp/error")  
[Memory management library](../../memory.html "cpp/memory")  
[Metaprogramming library](../../meta.html "cpp/meta") (C++11)  
[General utilities library](../../utility.html "cpp/utility")  
[Containers library](../../container.html "cpp/container")  
[Iterators library](../../iterator.html "cpp/iterator")  
[Ranges library](../../ranges.html "cpp/ranges") (C++20)  
[Algorithms library](../../algorithm.html "cpp/algorithm")  
[Strings library](../../string.html "cpp/string")  
[Text processing library](../../text.html "cpp/text")  
[Numerics library](../../numeric.html "cpp/numeric")  
[Date and time library](../../chrono.html "cpp/chrono")  
[Input/output library](../../io.html "cpp/io")  
[Filesystem library](../../filesystem.html "cpp/filesystem") (C++17)  
[Concurrency support library](../../atomic.html "cpp/thread") (C++11)  
[Execution control library](../../experimental/execution.html "cpp/execution") (C++26)  
[Technical specifications](../../experimental.html "cpp/experimental")  
[Symbols index](../../symbol_index.html "cpp/symbol index")  
[External libraries](../../links/libs.html "cpp/links/libs")  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/navbar_content&action=edit)

[Text processing library](../../text.html "cpp/text")

[Localization library](../../locale.html "cpp/locale")  
---  
[Regular expressions library](../../regex.html "cpp/regex") (C++11)  
[Formatting library](../../utility/format.html "cpp/utility/format") (C++20)  
[Null-terminated sequence utilities](../../text.html#Null-terminated_sequence_utilities "cpp/text")  
[Byte strings](../../string/byte.html "cpp/string/byte")  
[Multibyte strings](../../string/multibyte.html "cpp/string/multibyte")  
[Wide strings](../../string/wide.html "cpp/string/wide")  
[Primitive numeric conversions](../../text.html#Primitive_numeric_conversions "cpp/text")  
| [to_chars](../../utility/to_chars.html "cpp/utility/to chars")(C++17)  
---  
[to_chars_result](../../utility/to_chars_result.html "cpp/utility/to chars result")(C++17)  
[from_chars](../../utility/from_chars.html "cpp/utility/from chars")(C++17)  
[from_chars_result](../../utility/from_chars_result.html "cpp/utility/from chars result")(C++17)  
[chars_format](../../utility/chars_format.html "cpp/utility/chars format")(C++17)  
  
[Text encoding identifications](../../text.html#Text_encoding_identifications "cpp/text")  
| [text_encoding](../text_encoding.html "cpp/text/text encoding")(C++26)  
---  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/text/navbar_content&action=edit)

[Localization library](../../locale.html "cpp/locale")

| [Locales and facets](../../locale.html#Locales_and_facets "cpp/locale")` `  
---  
[Locales](../../locale.html#Locales "cpp/locale")  
[has_facet](../has_facet.html "cpp/locale/has facet")  
[use_facet](../use_facet.html "cpp/locale/use facet")  
[locale](../locale.html "cpp/locale/locale")  
[Facet category  
base classes](../../locale.html#Facet_category_base_classes "cpp/locale")  
[ctype_base](../ctype_base.html "cpp/locale/ctype base")  
[codecvt_base](../codecvt_base.html "cpp/locale/codecvt base")  
[messages_base](../messages_base.html "cpp/locale/messages base")  
[time_base](../time_base.html "cpp/locale/time base")  
[money_base](../money_base.html "cpp/locale/money base")  
[ctype facets](../../locale.html#ctype_facets "cpp/locale")  
[ctype](../ctype.html "cpp/locale/ctype")  
[ctype<char>](../ctype_char.html "cpp/locale/ctype char")  
[ctype_byname](../ctype_byname.html "cpp/locale/ctype byname")  
[codecvt](../codecvt.html "cpp/locale/codecvt")  
[codecvt_byname](../codecvt_byname.html "cpp/locale/codecvt byname")  
[numeric facets](../../locale.html#numeric_facets "cpp/locale")  
[num_get](../num_get.html "cpp/locale/num get")  
[num_put](../num_put.html "cpp/locale/num put")  
[numpunct](../numpunct.html "cpp/locale/numpunct")  
[numpunct_byname](../numpunct_byname.html "cpp/locale/numpunct byname")  
[collate facets](../../locale.html#collate_facets "cpp/locale")  
[collate](../collate.html "cpp/locale/collate")  
[collate_byname](../collate_byname.html "cpp/locale/collate byname")  
[time facets](../../locale.html#time_facets "cpp/locale")  
[time_get](../time_get.html "cpp/locale/time get")  
[time_put](../time_put.html "cpp/locale/time put")  
[time_get_byname](../time_get_byname.html "cpp/locale/time get byname")  
[time_put_byname](../time_put_byname.html "cpp/locale/time put byname")  
  
| [monetary facets](../../locale.html#monetary_facets "cpp/locale")  
---  
[money_get](../money_get.html "cpp/locale/money get")  
[money_put](../money_put.html "cpp/locale/money put")  
[moneypunct](../moneypunct.html "cpp/locale/moneypunct")  
[moneypunct_byname](../moneypunct_byname.html "cpp/locale/moneypunct byname")  
[messages facets](../../locale.html#messages_facets "cpp/locale")  
[messages](../messages.html "cpp/locale/messages")  
[messages_byname](../messages_byname.html "cpp/locale/messages byname")  
[Character classification and conversion](../../locale.html#Character_classification_and_conversion "cpp/locale")  
[Character classification](../../locale.html#Character_classification "cpp/locale")  
|  | [isspace](../isspace.html "cpp/locale/isspace")` `  
---  
[iscntrl](../iscntrl.html "cpp/locale/iscntrl")  
[isupper](../isupper.html "cpp/locale/isupper")  
  
| [islower](../islower.html "cpp/locale/islower")` `  
---  
[isalpha](../isalpha.html "cpp/locale/isalpha")  
[ispunct](../ispunct.html "cpp/locale/ispunct")  
  
| [isdigit](../isdigit.html "cpp/locale/isdigit")` `  
---  
[isxdigit](../isxdigit.html "cpp/locale/isxdigit")  
[isalnum](../isalnum.html "cpp/locale/isalnum")  
  
| [isblank](../isblank.html "cpp/locale/isblank")(C++11)  
---  
[isprint](../isprint.html "cpp/locale/isprint")  
[isgraph](../isgraph.html "cpp/locale/isgraph")  
  
[Character conversions](../../locale.html#Character_conversions "cpp/locale")  
|  | [toupper](../toupper.html "cpp/locale/toupper")` `  
---  
  
| [tolower](../tolower.html "cpp/locale/tolower")  
---  
  
[String and stream conversions](../../locale.html#String_and_stream_conversions "cpp/locale")  
[wstring_convert](../wstring_convert.html "cpp/locale/wstring convert")(C++11/17/26*)  
[wbuffer_convert](../wbuffer_convert.html "cpp/locale/wbuffer convert")(C++11/17/26*)  
[Unicode conversion facets](../../locale.html#Locale-independent_unicode_conversion_facets "cpp/locale")  
[codecvt_utf8](../codecvt_utf8.html "cpp/locale/codecvt utf8")(C++11/17/26*)  
[codecvt_utf16](../codecvt_utf16.html "cpp/locale/codecvt utf16")(C++11/17/26*)  
[codecvt_utf8_utf16](../codecvt_utf8_utf16.html "cpp/locale/codecvt utf8 utf16")(C++11/17/26*)  
[codecvt_mode](../codecvt_mode.html "cpp/locale/codecvt mode")(C++11/17/26*)  
[C library locales](../../locale.html#C_library_locales "cpp/locale")  
|  | [LC_ALLLC_COLLATELC_CTYPELC_MONETARYLC_NUMERICLC_TIME](../LC_categories.html "cpp/locale/LC categories")` `  
---  
  
| [setlocale](../setlocale.html "cpp/locale/setlocale")  
---  
[localeconv](../localeconv.html "cpp/locale/localeconv")  
[lconv](../lconv.html "cpp/locale/lconv")  
  
  
  
  
  
  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/locale/navbar_content&action=edit)

[`std::money_get`](../money_get.html "cpp/locale/money get")

Member functions  
---  
[money_get::money_get](money_get.html "cpp/locale/money get/money get")  
[money_get::~money_get](~money_get.html "cpp/locale/money get/~money get")  
**money_get::get money_get::do_get**  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/locale/money_get/navbar_content&action=edit)

Defined in header `[<locale>](../../header/locale.html "cpp/header/locale")` |  |   
---|---|---  
public:  
iter_type get( iter_type beg, iter_type end, bool intl, [std::ios_base](../../io/ios_base.html)& str,  
[std::ios_base::iostate](../../io/ios_base/iostate.html)& err, long double& units ) const; |  (1)  |   
iter_type get( iter_type beg, iter_type end, bool intl, [std::ios_base](../../io/ios_base.html)& str,  
[std::ios_base::iostate](../../io/ios_base/iostate.html)& err, string_type& digits ) const; |  (2)  |   
protected:  
virtual iter_type do_get( iter_type beg, iter_type end, bool intl, [std::ios_base](../../io/ios_base.html)& str,  
[std::ios_base::iostate](../../io/ios_base/iostate.html)& err, long double& units ) const; |  (3)  |   
virtual iter_type do_get( iter_type beg, iter_type end, bool intl, [std::ios_base](../../io/ios_base.html)& str,  
[std::ios_base::iostate](../../io/ios_base/iostate.html)& err, string_type& digits ) const; |  (4)  |   
| |   
  
Parses monetary value from an input iterator and writes the result to a long double or string. 

1,2) Public member functions, call the member function `do_get` of the most derived class.

3,4) Reads characters from the input iterator beg, expecting to find a monetary value formatted according to the rules specified by the [std::ctype](../ctype.html) facet imbued in str.getloc() (`ct` for the rest of this page), the [std::moneypunct](../moneypunct.html)<CharT, intl> facet imbued in str.getloc() (`mp` for the rest of this page), and the stream formatting flags obtained from str.flags().

If the input iterator beg becomes equal to end before the parsing was completed, sets both failbit and eofbit in err. If parsing fails for another reason, sets the `failbit` in err. Either way, does not modify the output parameter (units or digits) on error. 

If the parsing succeeds, does not change err, and stores the result in units or digits. 

The formatting [pattern](../money_base.html "cpp/locale/money base") used by this function is always mp.neg_format(). 

If mp.grouping() does not permit thousands separators, the first separator encountered is treated as a parsing error, otherwise they are treated as optional. 

If money_base::space or money_base::none is the last element in the [pattern](../money_base.html "cpp/locale/money base"), the parser does not attempt to consume any whitespace after the other components of the monetary value were parsed. Otherwise, one or more whitespace characters are consumed where money_base::space appears. 

If `showbase` flag is set in str.flags(), the currency symbol or currency string is required, if it is not set, the currency symbol is optional. 

If the first character of the string returned by mp.positive_sign() or mp.negative_sign() is found in the money_base::sign position of the formatting pattern, it is consumed, and the rest of the characters in that string are expected and consumed after all other components of the monetary value. If both mp.positive_sign() and mp.negative_sign() are non-empty, the sign is required and must match the first character of one of these strings. If one of theses strings is empty, the sign is optional (and if it is absent, the sign of the result corresponds to the string that was empty). If both strings are empty, or have the same first character, the result is given the positive sign. If the output parameter is a string (digits) and the result is negative, the value ct.widen('-') is stored as the first character of the result. 

Digits from the input are extracted in order in which they appear and are placed in digits (after widening by ct.widen() as necessary), or into a temporary buffer `buf1`, from which the value of units is constructed as if by 
    
    
    static const char src[] = "0123456789-";
    CharT atoms[sizeof(src)];
    ct.widen(src, src + sizeof(src) - 1, atoms);
    for (int i = 0; i < n; ++i)
    buf2[i] = src[find(atoms, atoms+sizeof(src), buf1[i]) - atoms];
    buf2[n] = 0;
    sscanf(buf2, "%Lf", &units);

(where `n` is the number of characters extracted from the input and stored in `buf1` and `buf2` is another sufficiently large character buffer). 

## Contents

  * [1 Return value](get.html#Return_value)
  * [2 Notes](get.html#Notes)
  * [3 Example](get.html#Example)
  * [4 See also](get.html#See_also)

  
---  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/locale/money_get/get&action=edit&section=1 "Edit section: Return value")] Return value

An iterator pointing immediately after the last character recognized as a valid part of the monetary string input. 

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/locale/money_get/get&action=edit&section=2 "Edit section: Notes")] Notes

The currency units are assumed to be the smallest non-fractional units of the currency: cents in the U.S, yen in Japan. Thus, the input sequence "$1,056.23" in a U.S. locale produces the number 105623.0 in units or a string "105623" in digits. 

Because currency symbol is optional if `showbase` is off but the entire multicharacter `negative_sign()` is required, given the formatting pattern {sign, value, space, symbol} with `showbase` off and negative_sign of "-", the string "-1.23 €" parses as -123 and leaves "€" unconsumed on the input stream, but if negative_sign is "()", the string "(1.23 €)" is consumed completely. 

The I/O manipulator [std::get_money](../../io/manip/get_money.html "cpp/io/manip/get money") offers a simpler interface to this function. 

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/locale/money_get/get&action=edit&section=3 "Edit section: Example")] Example

Run this code
    
    
    #include <iostream>
    #include <locale>
    #include <sstream>
     
    void demo_money_get([std::locale](../locale.html) loc, const [std::string](../../string/basic_string.html)& input)
    {
        [std::istringstream](../../io/basic_istringstream.html) str(input);
        str.imbue(loc);
        long double units;
     
        // The following can be written simpler with std::get_money(units)
        [std::ios_base::iostate](../../io/ios_base/iostate.html) err = [std::ios_base::goodbit](../../io/ios_base/iostate.html);
        [std::istreambuf_iterator](../../iterator/istreambuf_iterator.html)<char> ret =
            [std::use_facet](../use_facet.html)<[std::money_get](../money_get.html)<char>>(loc).get(
                [std::istreambuf_iterator](../../iterator/istreambuf_iterator.html)<char>(str),
                [std::istreambuf_iterator](../../iterator/istreambuf_iterator.html)<char>(),
                false, str, err, units);
        str.setstate(err);
        [std::istreambuf_iterator](../../iterator/istreambuf_iterator.html)<char> last{};
        if (str)
        {
            [std::cout](../../io/cout.html) << "Successfully parsed '" << str.str() << "' as "
                      << units / 100 << " units\n";
            if (ret != last)
            {
                [std::cout](../../io/cout.html) << "Remaining content: '";
                [std::copy](../../algorithm/copy.html)(ret, last, [std::ostreambuf_iterator](../../iterator/ostreambuf_iterator.html)<char>([std::cout](../../io/cout.html)));
                [std::cout](../../io/cout.html) << "'\n";
            }
            else
                [std::cout](../../io/cout.html) << "The input was fully consumed\n";
        }
        else
        {
            [std::cout](../../io/cout.html) << "Parse failed. Unparsed string: '";
            [std::copy](../../algorithm/copy.html)(ret, last, [std::ostreambuf_iterator](../../iterator/ostreambuf_iterator.html)<char>([std::cout](../../io/cout.html)));
            [std::cout](../../io/cout.html) << "'\n";
        }
    }
     
    int main()
    {
        demo_money_get([std::locale](../locale.html)("en_US.utf8"), "-$5.12 abc");
        demo_money_get([std::locale](../locale.html)("ms_MY.utf8"), "(RM5.12) def");
    }

Output: 
    
    
    Successfully parsed '-$5.12 abc' as -5.12 units
    Remaining content: ' abc'
    Successfully parsed '(RM5.12) def' as -5.12 units
    Remaining content: ' def'

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/locale/money_get/get&action=edit&section=4 "Edit section: See also")] See also

[ moneypunct](../moneypunct.html "cpp/locale/moneypunct") |  defines monetary formatting parameters used by [std::money_get](../money_get.html "cpp/locale/money get") and [std::money_put](../money_put.html "cpp/locale/money put")   
(class template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/locale/dsc_moneypunct&action=edit)  
---|---  
[ money_get](../money_get.html "cpp/locale/money get") |  parses and constructs a monetary value from an input character sequence   
(class template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/locale/dsc_money_get&action=edit)  
[ get_money](../../io/manip/get_money.html "cpp/io/manip/get money")(C++11) |  parses a monetary value   
(function template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/io/manip/dsc_get_money&action=edit)
