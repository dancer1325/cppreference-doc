[C++](../../../cpp.html "cpp")

[Compiler support](../../compiler_support.html "cpp/compiler support")  
---  
[Freestanding and hosted](../../freestanding.html "cpp/freestanding")  
[Language](../../language.html "cpp/language")  
[Standard library](../../standard_library.html "cpp/standard library")  
[Standard library headers](../../headers.html "cpp/header")  
[Named requirements](../../iterator/concepts.html "cpp/named req")  
[Feature test macros](../../experimental/feature_test.html "cpp/feature test") (C++20)  
[Language support library](../../utility.html#Language_support "cpp/utility")  
[Concepts library](../../concepts.html "cpp/concepts") (C++20)  
[Diagnostics library](../../error.html "cpp/error")  
[Memory management library](../../memory.html "cpp/memory")  
[Metaprogramming library](../../meta.html "cpp/meta") (C++11)  
[General utilities library](../../utility.html "cpp/utility")  
[Containers library](../../container.html "cpp/container")  
[Iterators library](../../iterator.html "cpp/iterator")  
[Ranges library](../../ranges.html "cpp/ranges") (C++20)  
[Algorithms library](../../algorithm.html "cpp/algorithm")  
[Strings library](../../string.html "cpp/string")  
[Text processing library](../../text.html "cpp/text")  
[Numerics library](../../numeric.html "cpp/numeric")  
[Date and time library](../../chrono.html "cpp/chrono")  
[Input/output library](../../io.html "cpp/io")  
[Filesystem library](../../filesystem.html "cpp/filesystem") (C++17)  
[Concurrency support library](../../atomic.html "cpp/thread") (C++11)  
[Execution control library](../../experimental/execution.html "cpp/execution") (C++26)  
[Technical specifications](../../experimental.html "cpp/experimental")  
[Symbols index](../../symbol_index.html "cpp/symbol index")  
[External libraries](../../links/libs.html "cpp/links/libs")  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/navbar_content&action=edit)

[C++ language](../../language.html "cpp/language")

General topics  
---  
| [Preprocessor](../../preprocessor.html "cpp/preprocessor")  
---  
[Comments](../../comments.html "cpp/comment")  
  
| [Keywords](../../keywords.html "cpp/keyword")  
---  
[Escape sequences](../escape.html "cpp/language/escape")  
  
[Flow control](../statements.html "cpp/language/statements")  
Conditional execution statements  
| [`if`](../if.html "cpp/language/if")  
---  
  
| [`switch`](../switch.html "cpp/language/switch")  
---  
  
Iteration statements (loops)  
| [`for`](../for.html "cpp/language/for")  
---  
[range-`for`](../range-for.html "cpp/language/range-for") (C++11)  
  
| [`while`](../while.html "cpp/language/while")  
---  
[`do-while`](../do.html "cpp/language/do")  
  
Jump statements  
| [`continue`](../continue.html "cpp/language/continue") \- [`break`](../break.html "cpp/language/break")  
---  
  
| [`goto`](../goto.html "cpp/language/goto") \- [`return`](../return.html "cpp/language/return")  
---  
  
[Functions](../functions.html "cpp/language/functions")  
[Function declaration](../function.html "cpp/language/function")  
[Lambda function expression](../lambda.html "cpp/language/lambda")  
[`inline` specifier](../inline.html "cpp/language/inline")  
[Dynamic exception specifications](../except_spec.html "cpp/language/except spec") (until C++17*)  
[`noexcept` specifier](../noexcept_spec.html "cpp/language/noexcept spec") (C++11)  
Exceptions  
| [`throw`-expression](../throw.html "cpp/language/throw")  
---  
[`try` block](../try.html "cpp/language/try")  
  
|   
  
---  
[`catch` handler](../catch.html "cpp/language/catch")  
  
Namespaces  
| [Namespace declaration](../namespace.html "cpp/language/namespace")` `  
---  
  
| [Namespace aliases](../namespace_alias.html "cpp/language/namespace alias")  
---  
  
Types  
| [Fundamental types](../types.html "cpp/language/types")  
---  
[Enumeration types](../enum.html "cpp/language/enum")  
[Function types](../function.html "cpp/language/function")  
  
| [Class/struct types](../class.html "cpp/language/class")  
---  
[Union types](../union.html "cpp/language/union")  
  
  
  
Specifiers  
| [`const`/`volatile`](../cv.html "cpp/language/cv")  
---  
[`decltype`](../decltype.html "cpp/language/decltype") (C++11)  
[`auto`](../auto.html "cpp/language/auto") (C++11)  
  
| [`constexpr`](../constexpr.html "cpp/language/constexpr") (C++11)  
---  
[`consteval`](../consteval.html "cpp/language/consteval") (C++20)  
[`constinit`](../constinit.html "cpp/language/constinit") (C++20)  
  
[Storage duration specifiers](../storage_duration.html "cpp/language/storage duration")  
[Initialization](../initialization.html "cpp/language/initialization")  
| [Default-initialization](../default_initialization.html "cpp/language/default initialization")  
---  
[Value-initialization](../value_initialization.html "cpp/language/value initialization")  
[Zero-initialization](../zero_initialization.html "cpp/language/zero initialization")  
[Copy-initialization](../copy_initialization.html "cpp/language/copy initialization")  
[Direct-initialization](../direct_initialization.html "cpp/language/direct initialization")  
  
| [Aggregate initialization](../aggregate_initialization.html "cpp/language/aggregate initialization")  
---  
[List-initialization](../list_initialization.html "cpp/language/list initialization") (C++11)` `  
[Constant initialization](../constant_initialization.html "cpp/language/constant initialization")  
[Reference initialization](../reference_initialization.html "cpp/language/reference initialization")  
  
  
  
[Expressions](../expressions.html "cpp/language/expressions")  
---  
| [Value categories](../value_category.html "cpp/language/value category")  
---  
[Order of evaluation](../eval_order.html "cpp/language/eval order")  
  
| [Operators](../operators.html "cpp/language/operators")  
---  
[Operator precedence](../operator_precedence.html "cpp/language/operator precedence")  
  
[Alternative representations](../operator_alternative.html "cpp/language/operator alternative")  
[Literals](../expressions.html#Literals "cpp/language/expressions")  
[Boolean](../bool_literal.html "cpp/language/bool literal") \- [Integer](../integer_literal.html "cpp/language/integer literal") \- [Floating-point](../floating_literal.html "cpp/language/floating literal")  
[Character](../character_literal.html "cpp/language/character literal") \- [String](../string_literal.html "cpp/language/string literal") \- [`nullptr`](../nullptr.html "cpp/language/nullptr") (C++11)  
[User-defined](../user_literal.html "cpp/language/user literal") (C++11)  
Utilities  
[Attributes](../attributes.html "cpp/language/attributes") (C++11)  
Types  
[`typedef` declaration](../typedef.html "cpp/language/typedef")  
[Type alias declaration](../type_alias.html "cpp/language/type alias") (C++11)  
Casts  
| [Implicit conversions](../implicit_cast.html "cpp/language/implicit conversion")  
---  
[`static_cast`](../static_cast.html "cpp/language/static cast")  
[`const_cast`](../const_cast.html "cpp/language/const cast")  
  
| [Explicit conversions](../explicit_cast.html "cpp/language/explicit cast")  
---  
[`dynamic_cast`](../dynamic_cast.html "cpp/language/dynamic cast")  
[`reinterpret_cast`](../reinterpret_cast.html "cpp/language/reinterpret cast")  
  
Memory allocation  
| [`new` expression](../new.html "cpp/language/new")  
---  
  
| [`delete` expression](../delete.html "cpp/language/delete")  
---  
  
[Classes](../classes.html "cpp/language/classes")  
| [Class declaration](../class.html "cpp/language/class")  
---  
[Constructors](../initializer_list.html "cpp/language/constructor")  
[`this` pointer](../this.html "cpp/language/this")  
  
| [Access specifiers](../access.html "cpp/language/access")  
---  
[`friend` specifier](../friend.html "cpp/language/friend")  
  
  
  
Class-specific function properties  
| [Virtual function](../virtual.html "cpp/language/virtual")  
---  
[`override` specifier](../override.html "cpp/language/override") (C++11)` `  
[`final` specifier](../final.html "cpp/language/final") (C++11)  
  
| [`explicit`](../explicit.html "cpp/language/explicit") (C++11)  
---  
[`static`](../static.html "cpp/language/static")  
  
  
  
Special member functions  
| [Default constructor](../default_constructor.html "cpp/language/default constructor")  
---  
[Copy constructor](../copy_constructor.html "cpp/language/copy constructor")  
[Move constructor](../move_constructor.html "cpp/language/move constructor") (C++11)  
  
| [Copy assignment](../as_operator.html "cpp/language/as operator")  
---  
[Move assignment](../move_operator.html "cpp/language/move operator") (C++11)  
[Destructor](../destructor.html "cpp/language/destructor")  
  
[Templates](../templates.html "cpp/language/templates")  
| [Class template](../class_template.html "cpp/language/class template")  
---  
[Function template](../function_template.html "cpp/language/function template")  
  
| [Template specialization](../template_specialization.html "cpp/language/template specialization")  
---  
[Parameter packs](../parameter_pack.html "cpp/language/pack") (C++11)  
  
Miscellaneous  
| [Inline assembly](../asm.html "cpp/language/asm")  
---  
  
| [History of C++](../history.html "cpp/language/history")  
---  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/language/navbar_content&action=edit)

[Declarations](../declarations.html "cpp/language/declarations")

| Overview  
---  
[Declaration syntax](../declarations.html "cpp/language/declarations")  
[_decl-specifier-seq_](../declarations.html#Specifiers "cpp/language/declarations")  
[Declarator](../declarations.html#Declarators "cpp/language/declarations")  
[Conflicting declarations](../conflicting_declarations.html "cpp/language/conflicting declarations")  
Specifiers  
[typedef](../typedef.html "cpp/language/typedef")  
[inline](../inline.html "cpp/language/inline")  
[virtual function specifier](../virtual.html "cpp/language/virtual")  
[explicit function specifier](../explicit.html "cpp/language/explicit")  
[friend](../friend.html "cpp/language/friend")  
[constexpr](../constexpr.html "cpp/language/constexpr")(C++11)  
[consteval](../consteval.html "cpp/language/consteval")(C++20)  
[constinit](../constinit.html "cpp/language/constinit")(C++20)  
[Storage class specifiers](../storage_duration.html "cpp/language/storage duration")  
[Translation-unit-local](../tu_local.html "cpp/language/tu local") (C++20)  
[class/struct](../class.html "cpp/language/class")  
[union](../union.html "cpp/language/union")  
[enum](../enum.html "cpp/language/enum")  
[decltype](../decltype.html "cpp/language/decltype")(C++11)  
[auto](../auto.html "cpp/language/auto")(C++11)  
[alignas](../alignas.html "cpp/language/alignas")(C++11)  
[constvolatile](../cv.html "cpp/language/cv")  
[Pack indexing specifier](../pack_indexing.html#Pack_indexing_specifier "cpp/language/pack indexing") (C++26)  
[Elaborated type specifier](../elaborated_type_specifier.html "cpp/language/elaborated type specifier")  
[Attributes](../attributes.html "cpp/language/attributes") (C++11)  
  
| Declarators  
---  
[Reference](../reference.html "cpp/language/reference")  
[Pointer](../pointer.html "cpp/language/pointer")  
[Array](../array.html "cpp/language/array")  
Block declarations  
[Simple-declaration](../declarations.html "cpp/language/declarations")  
→[Structured binding declaration](../structured_binding.html "cpp/language/structured binding") (C++17)  
[Alias declaration](../type_alias.html "cpp/language/type alias") (C++11)  
[Namespace alias definition](../namespace_alias.html "cpp/language/namespace alias")  
[using declaration](../using_declaration.html "cpp/language/using declaration")  
[`using` directive](../namespace.html#Using-directives "cpp/language/namespace")  
[static_assert declaration](../static_assert.html "cpp/language/static assert") (C++11)  
[asm declaration](../asm.html "cpp/language/asm")  
[Opaque enum declaration](../enum.html "cpp/language/enum") (C++11)  
Other declarations  
[Namespace definition](../namespace.html "cpp/language/namespace")  
[Function declaration](../function.html "cpp/language/function")  
[Class template declaration](../class_template.html "cpp/language/class template")  
[Function template declaration](../function_template.html "cpp/language/function template")  
[Explicit template instantiation](../class_template.html#Explicit_instantiation "cpp/language/class template") (C++11)  
[Explicit template specialization](../template_specialization.html "cpp/language/template specialization")  
[Linkage specification](../language_linkage.html "cpp/language/language linkage")  
[Attribute declaration](../declarations.html "cpp/language/declarations") (C++11)  
[Empty declaration](../declarations.html "cpp/language/declarations")  
  
  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/language/declarations/navbar_content&action=edit)

[Attributes](../attributes.html "cpp/language/attributes")

[assume](assume.html "cpp/language/attributes/assume")(C++23)  
---  
[carries_dependency](carries_dependency.html "cpp/language/attributes/carries dependency")(C++11)(until C++26)  
[deprecated](deprecated.html "cpp/language/attributes/deprecated")(C++14)  
[fallthrough](fallthrough.html "cpp/language/attributes/fallthrough")(C++17)  
[indeterminate](indeterminate.html "cpp/language/attributes/indeterminate")(C++26)  
**likely**(C++20)  
[maybe_unused](maybe_unused.html "cpp/language/attributes/maybe unused")(C++17)  
[nodiscard](nodiscard.html "cpp/language/attributes/nodiscard")(C++17)  
[noreturn](noreturn.html "cpp/language/attributes/noreturn")(C++11)  
[no_unique_address](no_unique_address.html "cpp/language/attributes/no unique address")(C++20)  
[optimize_for_synchronized](optimize_for_synchronized.html "cpp/language/attributes/optimize for synchronized")(TM TS)  
**unlikely**(C++20)  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/language/attributes/navbar_content&action=edit)

Allow the compiler to optimize for the case where paths of execution including that statement are more or less likely than any alternative path of execution that does not include such a statement. 

## Contents

  * [1 Syntax](likely.html#Syntax)
  * [2 Explanation](likely.html#Explanation)
  * [3 Example](likely.html#Example)
  * [4 References](likely.html#References)

  
---  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/language/attributes/likely&action=edit&section=1 "Edit section: Syntax")] Syntax  
  
---  
`**[[likely]]**` |  (1)  |   
`**[[unlikely]]**` |  (2)  |   
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/language/attributes/likely&action=edit&section=2 "Edit section: Explanation")] Explanation

These attributes may be applied to labels and statements (other than declaration-statements). They may not be simultaneously applied to the same label or statement. 

1) Applies to a statement to allow the compiler to optimize for the case where paths of execution including that statement are more likely than any alternative path of execution that does not include such a statement.

2) Applies to a statement to allow the compiler to optimize for the case where paths of execution including that statement are less likely than any alternative path of execution that does not include such a statement.

A path of execution is deemed to include a label if and only if it contains a jump to that label: 
    
    
    int f(int i)
    {
        switch (i)
        {
            case 1: [[fallthrough]];
            [[likely]] case 2: return 1;
        }
        return 2;
    }

i == 2 is considered more likely than any other value of `i`, but the [[likely]] has no effect on the i == 1 case even though it falls through the case 2: label. 

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/language/attributes/likely&action=edit&section=3 "Edit section: Example")] Example

Run this code
    
    
    #include <chrono>
    #include <cmath>
    #include <iomanip>
    #include <iostream>
    #include <random>
     
    namespace with_attributes
    {
        constexpr double pow(double x, long long n) noexcept
        {
            if (n > 0) [[likely]]
                return x * pow(x, n - 1);
            else [[unlikely]]
                return 1;
        }
        constexpr long long fact(long long n) noexcept
        {
            if (n > 1) [[likely]]
                return n * fact(n - 1);
            else [[unlikely]]
                return 1;
        }
        constexpr double cos(double x) noexcept
        {
            constexpr long long precision{16LL};
            double y{};
            for (auto n{0LL}; n < precision; n += 2LL) [[likely]]
                y += pow(x, n) / (n & 2LL ? -fact(n) : fact(n));
            return y;
        }
    } // namespace with_attributes
     
    namespace no_attributes
    {
        constexpr double pow(double x, long long n) noexcept
        {
            if (n > 0)
                return x * pow(x, n - 1);
            else
                return 1;
        }
        constexpr long long fact(long long n) noexcept
        {
            if (n > 1)
                return n * fact(n - 1);
            else
                return 1;
        }
        constexpr double cos(double x) noexcept
        {
            constexpr long long precision{16LL};
            double y{};
            for (auto n{0LL}; n < precision; n += 2LL)
                y += pow(x, n) / (n & 2LL ? -fact(n) : fact(n));
            return y;
        }
    } // namespace no_attributes
     
    double gen_random() noexcept
    {
        static [std::random_device](../../numeric/random/random_device.html) rd;
        static [std::mt19937](../../numeric/random/mersenne_twister_engine.html) gen(rd());
        static [std::uniform_real_distribution](../../numeric/random/uniform_real_distribution.html)<double> dis(-1.0, 1.0);
        return dis(gen);
    }
     
    volatile double sink{}; // ensures a side effect
     
    int main()
    {
        for (const auto x : {0.125, 0.25, 0.5, 1. / (1 << 26)})
            [std::cout](../../io/cout.html)
                << [std::setprecision](../../io/manip/setprecision.html)(53)
                << "x = " << x << '\n'
                << [std::cos](../../numeric/math/cos.html)(x) << '\n'
                << with_attributes::cos(x) << '\n'
                << ([std::cos](../../numeric/math/cos.html)(x) == with_attributes::cos(x) ? "equal" : "differ") << '\n';
     
        auto benchmark = [](auto fun, auto rem)
        {
            const auto start = [std::chrono::high_resolution_clock::now](../../chrono/high_resolution_clock/now.html)();
            for (auto size{1ULL}; size != 10'000'000ULL; ++size)
                sink = fun(gen_random());
            const [std::chrono::duration](../../chrono/duration.html)<double> diff =
                [std::chrono::high_resolution_clock::now](../../chrono/high_resolution_clock/now.html)() - start;
            [std::cout](../../io/cout.html) << "Time: " << [std::fixed](../../io/manip/fixed.html) << [std::setprecision](../../io/manip/setprecision.html)(6) << diff.count()
                      << " sec " << rem << [std::endl](../../io/manip/endl.html); 
        };
     
        benchmark(with_attributes::cos, "(with attributes)");
        benchmark(no_attributes::cos, "(without attributes)");
        benchmark([](double t) { return [std::cos](../../numeric/math/cos.html)(t); }, "(std::cos)");
    }

Possible output: 
    
    
    x = 0.125
    0.99219766722932900560039115589461289346218109130859375
    0.99219766722932900560039115589461289346218109130859375
    equal
    x = 0.25
    0.96891242171064473343022882545483298599720001220703125
    0.96891242171064473343022882545483298599720001220703125
    equal
    x = 0.5
    0.8775825618903727587394314468838274478912353515625
    0.8775825618903727587394314468838274478912353515625
    equal
    x = 1.490116119384765625e-08
    0.99999999999999988897769753748434595763683319091796875
    0.99999999999999988897769753748434595763683319091796875
    equal
    Time: 0.579122 sec (with attributes)
    Time: 0.722553 sec (without attributes)
    Time: 0.425963 sec (std::cos)

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/language/attributes/likely&action=edit&section=4 "Edit section: References")] References

  * C++23 standard (ISO/IEC 14882:2024): 



    

  * 9.12.7 Likelihood attributes [dcl.attr.likelihood] 



  * C++20 standard (ISO/IEC 14882:2020): 



    

  * 9.12.6 Likelihood attributes [dcl.attr.likelihood] 


