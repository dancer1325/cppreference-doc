[C++](../../../cpp.html "cpp")

[Compiler support](../../compiler_support.html "cpp/compiler support")  
---  
[Freestanding and hosted](../../freestanding.html "cpp/freestanding")  
[Language](../../language.html "cpp/language")  
[Standard library](../../standard_library.html "cpp/standard library")  
[Standard library headers](../../headers.html "cpp/header")  
[Named requirements](../../iterator/concepts.html "cpp/named req")  
[Feature test macros](../../experimental/feature_test.html "cpp/feature test") (C++20)  
[Language support library](../../utility.html#Language_support "cpp/utility")  
[Concepts library](../../concepts.html "cpp/concepts") (C++20)  
[Diagnostics library](../../error.html "cpp/error")  
[Memory management library](../../memory.html "cpp/memory")  
[Metaprogramming library](../../meta.html "cpp/meta") (C++11)  
[General utilities library](../../utility.html "cpp/utility")  
[Containers library](../../container.html "cpp/container")  
[Iterators library](../../iterator.html "cpp/iterator")  
[Ranges library](../../ranges.html "cpp/ranges") (C++20)  
[Algorithms library](../../algorithm.html "cpp/algorithm")  
[Strings library](../../string.html "cpp/string")  
[Text processing library](../../text.html "cpp/text")  
[Numerics library](../../numeric.html "cpp/numeric")  
[Date and time library](../../chrono.html "cpp/chrono")  
[Input/output library](../../io.html "cpp/io")  
[Filesystem library](../../filesystem.html "cpp/filesystem") (C++17)  
[Concurrency support library](../../atomic.html "cpp/thread") (C++11)  
[Execution control library](../../experimental/execution.html "cpp/execution") (C++26)  
[Technical specifications](../../experimental.html "cpp/experimental")  
[Symbols index](../../symbol_index.html "cpp/symbol index")  
[External libraries](../../links/libs.html "cpp/links/libs")  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/navbar_content&action=edit)

[C++ language](../../language.html "cpp/language")

General topics  
---  
| [Preprocessor](../../preprocessor.html "cpp/preprocessor")  
---  
[Comments](../../comments.html "cpp/comment")  
  
| [Keywords](../../keywords.html "cpp/keyword")  
---  
[Escape sequences](../escape.html "cpp/language/escape")  
  
[Flow control](../statements.html "cpp/language/statements")  
Conditional execution statements  
| [`if`](../if.html "cpp/language/if")  
---  
  
| [`switch`](../switch.html "cpp/language/switch")  
---  
  
Iteration statements (loops)  
| [`for`](../for.html "cpp/language/for")  
---  
[range-`for`](../range-for.html "cpp/language/range-for") (C++11)  
  
| [`while`](../while.html "cpp/language/while")  
---  
[`do-while`](../do.html "cpp/language/do")  
  
Jump statements  
| [`continue`](../continue.html "cpp/language/continue") \- [`break`](../break.html "cpp/language/break")  
---  
  
| [`goto`](../goto.html "cpp/language/goto") \- [`return`](../return.html "cpp/language/return")  
---  
  
[Functions](../functions.html "cpp/language/functions")  
[Function declaration](../function.html "cpp/language/function")  
[Lambda function expression](../lambda.html "cpp/language/lambda")  
[`inline` specifier](../inline.html "cpp/language/inline")  
[Dynamic exception specifications](../except_spec.html "cpp/language/except spec") (until C++17*)  
[`noexcept` specifier](../noexcept_spec.html "cpp/language/noexcept spec") (C++11)  
Exceptions  
| [`throw`-expression](../throw.html "cpp/language/throw")  
---  
[`try` block](../try.html "cpp/language/try")  
  
|   
  
---  
[`catch` handler](../catch.html "cpp/language/catch")  
  
Namespaces  
| [Namespace declaration](../namespace.html "cpp/language/namespace")` `  
---  
  
| [Namespace aliases](../namespace_alias.html "cpp/language/namespace alias")  
---  
  
Types  
| [Fundamental types](../types.html "cpp/language/types")  
---  
[Enumeration types](../enum.html "cpp/language/enum")  
[Function types](../function.html "cpp/language/function")  
  
| [Class/struct types](../class.html "cpp/language/class")  
---  
[Union types](../union.html "cpp/language/union")  
  
  
  
Specifiers  
| [`const`/`volatile`](../cv.html "cpp/language/cv")  
---  
[`decltype`](../decltype.html "cpp/language/decltype") (C++11)  
[`auto`](../auto.html "cpp/language/auto") (C++11)  
  
| [`constexpr`](../constexpr.html "cpp/language/constexpr") (C++11)  
---  
[`consteval`](../consteval.html "cpp/language/consteval") (C++20)  
[`constinit`](../constinit.html "cpp/language/constinit") (C++20)  
  
[Storage duration specifiers](../storage_duration.html "cpp/language/storage duration")  
[Initialization](../initialization.html "cpp/language/initialization")  
| [Default-initialization](../default_initialization.html "cpp/language/default initialization")  
---  
[Value-initialization](../value_initialization.html "cpp/language/value initialization")  
[Zero-initialization](../zero_initialization.html "cpp/language/zero initialization")  
[Copy-initialization](../copy_initialization.html "cpp/language/copy initialization")  
[Direct-initialization](../direct_initialization.html "cpp/language/direct initialization")  
  
| [Aggregate initialization](../aggregate_initialization.html "cpp/language/aggregate initialization")  
---  
[List-initialization](../list_initialization.html "cpp/language/list initialization") (C++11)` `  
[Constant initialization](../constant_initialization.html "cpp/language/constant initialization")  
[Reference initialization](../reference_initialization.html "cpp/language/reference initialization")  
  
  
  
[Expressions](../expressions.html "cpp/language/expressions")  
---  
| [Value categories](../value_category.html "cpp/language/value category")  
---  
[Order of evaluation](../eval_order.html "cpp/language/eval order")  
  
| [Operators](../operators.html "cpp/language/operators")  
---  
[Operator precedence](../operator_precedence.html "cpp/language/operator precedence")  
  
[Alternative representations](../operator_alternative.html "cpp/language/operator alternative")  
[Literals](../expressions.html#Literals "cpp/language/expressions")  
[Boolean](../bool_literal.html "cpp/language/bool literal") \- [Integer](../integer_literal.html "cpp/language/integer literal") \- [Floating-point](../floating_literal.html "cpp/language/floating literal")  
[Character](../character_literal.html "cpp/language/character literal") \- [String](../string_literal.html "cpp/language/string literal") \- [`nullptr`](../nullptr.html "cpp/language/nullptr") (C++11)  
[User-defined](../user_literal.html "cpp/language/user literal") (C++11)  
Utilities  
[Attributes](../attributes.html "cpp/language/attributes") (C++11)  
Types  
[`typedef` declaration](../typedef.html "cpp/language/typedef")  
[Type alias declaration](../type_alias.html "cpp/language/type alias") (C++11)  
Casts  
| [Implicit conversions](../implicit_cast.html "cpp/language/implicit conversion")  
---  
[`static_cast`](../static_cast.html "cpp/language/static cast")  
[`const_cast`](../const_cast.html "cpp/language/const cast")  
  
| [Explicit conversions](../explicit_cast.html "cpp/language/explicit cast")  
---  
[`dynamic_cast`](../dynamic_cast.html "cpp/language/dynamic cast")  
[`reinterpret_cast`](../reinterpret_cast.html "cpp/language/reinterpret cast")  
  
Memory allocation  
| [`new` expression](../new.html "cpp/language/new")  
---  
  
| [`delete` expression](../delete.html "cpp/language/delete")  
---  
  
[Classes](../classes.html "cpp/language/classes")  
| [Class declaration](../class.html "cpp/language/class")  
---  
[Constructors](../initializer_list.html "cpp/language/constructor")  
[`this` pointer](../this.html "cpp/language/this")  
  
| [Access specifiers](../access.html "cpp/language/access")  
---  
[`friend` specifier](../friend.html "cpp/language/friend")  
  
  
  
Class-specific function properties  
| [Virtual function](../virtual.html "cpp/language/virtual")  
---  
[`override` specifier](../override.html "cpp/language/override") (C++11)` `  
[`final` specifier](../final.html "cpp/language/final") (C++11)  
  
| [`explicit`](../explicit.html "cpp/language/explicit") (C++11)  
---  
[`static`](../static.html "cpp/language/static")  
  
  
  
Special member functions  
| [Default constructor](../default_constructor.html "cpp/language/default constructor")  
---  
[Copy constructor](../copy_constructor.html "cpp/language/copy constructor")  
[Move constructor](../move_constructor.html "cpp/language/move constructor") (C++11)  
  
| [Copy assignment](../as_operator.html "cpp/language/as operator")  
---  
[Move assignment](../move_operator.html "cpp/language/move operator") (C++11)  
[Destructor](../destructor.html "cpp/language/destructor")  
  
[Templates](../templates.html "cpp/language/templates")  
| [Class template](../class_template.html "cpp/language/class template")  
---  
[Function template](../function_template.html "cpp/language/function template")  
  
| [Template specialization](../template_specialization.html "cpp/language/template specialization")  
---  
[Parameter packs](../parameter_pack.html "cpp/language/pack") (C++11)  
  
Miscellaneous  
| [Inline assembly](../asm.html "cpp/language/asm")  
---  
  
| [History of C++](../history.html "cpp/language/history")  
---  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/language/navbar_content&action=edit)

[Declarations](../declarations.html "cpp/language/declarations")

| Overview  
---  
[Declaration syntax](../declarations.html "cpp/language/declarations")  
[_decl-specifier-seq_](../declarations.html#Specifiers "cpp/language/declarations")  
[Declarator](../declarations.html#Declarators "cpp/language/declarations")  
[Conflicting declarations](../conflicting_declarations.html "cpp/language/conflicting declarations")  
Specifiers  
[typedef](../typedef.html "cpp/language/typedef")  
[inline](../inline.html "cpp/language/inline")  
[virtual function specifier](../virtual.html "cpp/language/virtual")  
[explicit function specifier](../explicit.html "cpp/language/explicit")  
[friend](../friend.html "cpp/language/friend")  
[constexpr](../constexpr.html "cpp/language/constexpr")(C++11)  
[consteval](../consteval.html "cpp/language/consteval")(C++20)  
[constinit](../constinit.html "cpp/language/constinit")(C++20)  
[Storage class specifiers](../storage_duration.html "cpp/language/storage duration")  
[Translation-unit-local](../tu_local.html "cpp/language/tu local") (C++20)  
[class/struct](../class.html "cpp/language/class")  
[union](../union.html "cpp/language/union")  
[enum](../enum.html "cpp/language/enum")  
[decltype](../decltype.html "cpp/language/decltype")(C++11)  
[auto](../auto.html "cpp/language/auto")(C++11)  
[alignas](../alignas.html "cpp/language/alignas")(C++11)  
[constvolatile](../cv.html "cpp/language/cv")  
[Pack indexing specifier](../pack_indexing.html#Pack_indexing_specifier "cpp/language/pack indexing") (C++26)  
[Elaborated type specifier](../elaborated_type_specifier.html "cpp/language/elaborated type specifier")  
[Attributes](../attributes.html "cpp/language/attributes") (C++11)  
  
| Declarators  
---  
[Reference](../reference.html "cpp/language/reference")  
[Pointer](../pointer.html "cpp/language/pointer")  
[Array](../array.html "cpp/language/array")  
Block declarations  
[Simple-declaration](../declarations.html "cpp/language/declarations")  
→[Structured binding declaration](../structured_binding.html "cpp/language/structured binding") (C++17)  
[Alias declaration](../type_alias.html "cpp/language/type alias") (C++11)  
[Namespace alias definition](../namespace_alias.html "cpp/language/namespace alias")  
[using declaration](../using_declaration.html "cpp/language/using declaration")  
[`using` directive](../namespace.html#Using-directives "cpp/language/namespace")  
[static_assert declaration](../static_assert.html "cpp/language/static assert") (C++11)  
[asm declaration](../asm.html "cpp/language/asm")  
[Opaque enum declaration](../enum.html "cpp/language/enum") (C++11)  
Other declarations  
[Namespace definition](../namespace.html "cpp/language/namespace")  
[Function declaration](../function.html "cpp/language/function")  
[Class template declaration](../class_template.html "cpp/language/class template")  
[Function template declaration](../function_template.html "cpp/language/function template")  
[Explicit template instantiation](../class_template.html#Explicit_instantiation "cpp/language/class template") (C++11)  
[Explicit template specialization](../template_specialization.html "cpp/language/template specialization")  
[Linkage specification](../language_linkage.html "cpp/language/language linkage")  
[Attribute declaration](../declarations.html "cpp/language/declarations") (C++11)  
[Empty declaration](../declarations.html "cpp/language/declarations")  
  
  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/language/declarations/navbar_content&action=edit)

[Attributes](../attributes.html "cpp/language/attributes")

**assume**(C++23)  
---  
[carries_dependency](carries_dependency.html "cpp/language/attributes/carries dependency")(C++11)(until C++26)  
[deprecated](deprecated.html "cpp/language/attributes/deprecated")(C++14)  
[fallthrough](fallthrough.html "cpp/language/attributes/fallthrough")(C++17)  
[indeterminate](indeterminate.html "cpp/language/attributes/indeterminate")(C++26)  
[likely](likely.html "cpp/language/attributes/likely")(C++20)  
[maybe_unused](maybe_unused.html "cpp/language/attributes/maybe unused")(C++17)  
[nodiscard](nodiscard.html "cpp/language/attributes/nodiscard")(C++17)  
[noreturn](noreturn.html "cpp/language/attributes/noreturn")(C++11)  
[no_unique_address](no_unique_address.html "cpp/language/attributes/no unique address")(C++20)  
[optimize_for_synchronized](optimize_for_synchronized.html "cpp/language/attributes/optimize for synchronized")(TM TS)  
[unlikely](likely.html "cpp/language/attributes/likely")(C++20)  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/language/attributes/navbar_content&action=edit)

Specifies that the given expression is assumed to always evaluate to true at a given point in order to allow compiler optimizations based on the information given. 

## Contents

  * [1 Syntax](assume.html#Syntax)
  * [2 Explanation](assume.html#Explanation)
  * [3 Notes](assume.html#Notes)
  * [4 Example](assume.html#Example)
  * [5 Defect reports](assume.html#Defect_reports)
  * [6 References](assume.html#References)
  * [7 See also](assume.html#See_also)
  * [8 External links](assume.html#External_links)

  
---  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/language/attributes/assume&action=edit&section=1 "Edit section: Syntax")] Syntax  
  
---  
`**[[assume(**` expression `**)]]**` |  |   
expression |  \-  |  any expression (except unparenthesized [comma expressions](../operator_other.html#Built-in_comma_operator "cpp/language/operator other"))   
---|---|---  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/language/attributes/assume&action=edit&section=2 "Edit section: Explanation")] Explanation

[[assume]] an only be applied to a [null statement](../statements.html#Expression_statements "cpp/language/statements"), as in [[assume(x > 0)]];. This statement is called an _assumption_. 

expression is [contextually converted to bool](../implicit_cast.html#Contextual_conversions "cpp/language/implicit conversion"), but it is not evaluated (it is still [potentially evaluated](../expressions.html#Potentially-evaluated_expressions "cpp/language/expressions")). 

  * If the converted expression would evaluate to true at the point where the assumption appears, the assumption has no effect. 
  * Otherwise, evaluation of the assumption has [runtime-undefined behavior](../ub.html "cpp/language/ub"). 



### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/language/attributes/assume&action=edit&section=3 "Edit section: Notes")] Notes

Since assumptions cause runtime-undefined behavior if they do not hold, they should be used sparingly. 

One correct way to use them is to follow assertions with assumptions: 
    
    
    [assert](../../error/assert.html)(x > 0);     // trigger an assertion when NDEBUG is not defined and x > 0 is false
    [[assume(x > 0)]]; // provide optimization opportunities when NDEBUG is defined

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/language/attributes/assume&action=edit&section=4 "Edit section: Example")] Example
    
    
    #include <cmath>
     
    void f(int& x, int y)
    {
        void g(int);
        void h();
     
        [[assume(x > 0)]]; // Compiler may assume x is positive
     
        g(x / 2); // More efficient code possibly generated
     
        x = 3;
        int z = x;
     
        [[assume((h(), x == z))]]; // Compiler may assume x would have the same value after
                                   // calling h
                                   // The assumption does not cause a call to h
     
        h();
        g(x); // Compiler may replace this with g(3);
     
        h();
        g(x); // Compiler may NOT replace this with g(3);
              // An assumption applies only at the point where it appears
     
        z = std::abs(y);
     
        [[assume((g(z), true))]]; // Compiler may assume g(z) will return
     
        g(z); // Due to above and below assumptions, compiler may replace this with g(10);
     
        [[assume(y == -10)]]; // Undefined behavior if y != -10 at this point
     
        [[assume((x - 1) * 3 == 12)]];
     
        g(x); // Compiler may replace this with g(5);
    }

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/language/attributes/assume&action=edit&section=5 "Edit section: Defect reports")] Defect reports

The following behavior-changing defect reports were applied retroactively to previously published C++ standards. 

DR  | Applied to  | Behavior as published  | Correct behavior   
---|---|---|---  
[CWG 2924](https://cplusplus.github.io/CWG/issues/2924.html) | C++23  | violating an assumption would result in undefined behavior  | results in runtime-undefined behavior   
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/language/attributes/assume&action=edit&section=6 "Edit section: References")] References

  * C++23 standard (ISO/IEC 14882:2024): 



    

  * 9.12.3 Assumption attribute [dcl.attr.assume] 



### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/language/attributes/assume&action=edit&section=7 "Edit section: See also")] See also

[ unreachable](../../utility/unreachable.html "cpp/utility/unreachable")(C++23) |  marks unreachable point of execution   
(function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/dsc_unreachable&action=edit)  
---|---  
[`contract_assert` statement](../contract_assert.html "cpp/language/contract assert") (C++26) |  verifies an internal condition during execution[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/language/dsc_contract_assert&action=edit)  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/language/attributes/assume&action=edit&section=8 "Edit section: External links")] External links

1\.  | Clang language extensions doc: [`__builtin_assume`](https://clang.llvm.org/docs/LanguageExtensions.html#langext-builtin-assume).   
---|---  
2\.  | Clang attribute reference doc: [`assume`](https://clang.llvm.org/docs/AttributeReference.html#assume).   
3\.  | MSVC doc: [`__assume`](https://learn.microsoft.com/en-us/cpp/intrinsics/assume) built-in.   
4\.  | GCC doc: [`__attribute__((assume(...)))`](https://gcc.gnu.org/onlinedocs/gcc/Statement-Attributes.html#index-assume-statement-attribute). 
