[C++](../../cpp.html "cpp")

[Compiler support](../compiler_support.html "cpp/compiler support")  
---  
[Freestanding and hosted](../freestanding.html "cpp/freestanding")  
[Language](../language.html "cpp/language")  
[Standard library](../standard_library.html "cpp/standard library")  
[Standard library headers](../headers.html "cpp/header")  
[Named requirements](../iterator/concepts.html "cpp/named req")  
[Feature test macros](../experimental/feature_test.html "cpp/feature test") (C++20)  
[Language support library](../utility.html#Language_support "cpp/utility")  
[Concepts library](../concepts.html "cpp/concepts") (C++20)  
[Diagnostics library](../error.html "cpp/error")  
[Memory management library](../memory.html "cpp/memory")  
[Metaprogramming library](../meta.html "cpp/meta") (C++11)  
[General utilities library](../utility.html "cpp/utility")  
[Containers library](../container.html "cpp/container")  
[Iterators library](../iterator.html "cpp/iterator")  
[Ranges library](../ranges.html "cpp/ranges") (C++20)  
[Algorithms library](../algorithm.html "cpp/algorithm")  
[Strings library](../string.html "cpp/string")  
[Text processing library](../text.html "cpp/text")  
[Numerics library](../numeric.html "cpp/numeric")  
[Date and time library](../chrono.html "cpp/chrono")  
[Input/output library](../io.html "cpp/io")  
[Filesystem library](../filesystem.html "cpp/filesystem") (C++17)  
[Concurrency support library](../atomic.html "cpp/thread") (C++11)  
[Execution control library](../experimental/execution.html "cpp/execution") (C++26)  
[Technical specifications](../experimental.html "cpp/experimental")  
[Symbols index](../symbol_index.html "cpp/symbol index")  
[External libraries](../links/libs.html "cpp/links/libs")  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/navbar_content&action=edit)

[Utilities library](../utility.html "cpp/utility")

| [Language support](../utility.html#Language_support "cpp/utility")  
---  
[Type support](rtti.html "cpp/types") (basic types, RTTI)  
[Library feature-test macros](feature_test.html "cpp/utility/feature test") (C++20)  
[Program utilities](program.html "cpp/utility/program")  
[Variadic functions](variadic.html "cpp/utility/variadic")  
[initializer_list](initializer_list.html "cpp/utility/initializer list")(C++11)  
[is_constant_evaluated](../types/is_constant_evaluated.html "cpp/types/is constant evaluated")(C++20)  
[is_within_lifetime](../types/is_within_lifetime.html "cpp/types/is within lifetime")(C++26)  
[source_location](source_location.html "cpp/utility/source location")(C++20)  
[Coroutine support](../coroutine.html "cpp/coroutine") (C++20)  
[Contract support](../contract.html "cpp/contract") (C++26)  
[Three-way comparison](../utility.html#Three-way_comparison "cpp/utility")  
[three_way_comparablethree_way_comparable_with](compare/three_way_comparable.html "cpp/utility/compare/three way comparable")(C++20)(C++20)  
[strong_ordering](compare/strong_ordering.html "cpp/utility/compare/strong ordering")(C++20)  
[weak_ordering](compare/weak_ordering.html "cpp/utility/compare/weak ordering")(C++20)  
[partial_ordering](compare/partial_ordering.html "cpp/utility/compare/partial ordering")(C++20)  
[common_comparison_category](compare/common_comparison_category.html "cpp/utility/compare/common comparison category")(C++20)  
[compare_three_way_result](compare/compare_three_way_result.html "cpp/utility/compare/compare three way result")(C++20)  
[compare_three_way](compare/compare_three_way.html "cpp/utility/compare/compare three way")(C++20)  
[strong_order](compare/strong_order.html "cpp/utility/compare/strong order")(C++20)  
[weak_order](compare/weak_order.html "cpp/utility/compare/weak order")(C++20)  
[partial_order](compare/partial_order.html "cpp/utility/compare/partial order")(C++20)  
[compare_strong_order_fallback](compare/compare_strong_order_fallback.html "cpp/utility/compare/compare strong order fallback")(C++20)  
[compare_weak_order_fallback](compare/compare_weak_order_fallback.html "cpp/utility/compare/compare weak order fallback")(C++20)  
[compare_partial_order_fallback](compare/compare_partial_order_fallback.html "cpp/utility/compare/compare partial order fallback")(C++20)` `  
|  | [is_eqis_ltis_lteq](compare/named_comparison_functions.html "cpp/utility/compare/named comparison functions")(C++20)(C++20)(C++20)` `  
---  
  
| [is_neqis_gtis_gteq](compare/named_comparison_functions.html "cpp/utility/compare/named comparison functions")(C++20)(C++20)(C++20)  
---  
  
  
  
  
| General utilities  
---  
| [Function objects](../functional.html "cpp/utility/functional")  
---  
[Bit manipulation](bit.html "cpp/utility/bit") (C++20)  
[C-style bit manipulation](https://en.cppreference.com/mwiki/index.php?title=cpp/utility/stdbit&action=edit&redlink=1 "cpp/utility/stdbit \(page does not exist\)") (C++26)  
[bitset](bitset.html "cpp/utility/bitset")  
[hash](hash.html "cpp/utility/hash")(C++11)  
  
[Relational operators](../utility.html#Relational_operators "cpp/utility") (deprecated in C++20)  
|  | [rel_ops::operator!=rel_ops::operator>](rel_ops/operator_cmp.html "cpp/utility/rel ops/operator cmp")` `  
---  
  
| [rel_ops::operator<=rel_ops::operator>=](rel_ops/operator_cmp.html "cpp/utility/rel ops/operator cmp")  
---  
  
[Integer comparison functions](../utility.html#Integer_comparison_functions "cpp/utility")  
| [cmp_equalcmp_lesscmp_less_than](intcmp.html "cpp/utility/intcmp")(C++20)(C++20)(C++20)` `  
---  
  
| [cmp_not_equalcmp_greatercmp_greater_than](intcmp.html "cpp/utility/intcmp")(C++20)(C++20)(C++20)  
---  
  
[in_range](in_range.html "cpp/utility/in range")(C++20)  
[Swap](../utility.html#Swap "cpp/utility") and [type operations](../utility.html#Type_operations "cpp/utility")  
| [swap](swap.html "cpp/algorithm/swap")  
---  
[ranges::swap](ranges/swap.html "cpp/utility/ranges/swap")(C++20)  
[exchange](exchange.html "cpp/utility/exchange")(C++14)  
[declval](declval.html "cpp/utility/declval")(C++11)  
[to_underlying](to_underlying.html "cpp/utility/to underlying")(C++23)  
  
| [forward](forward.html "cpp/utility/forward")(C++11)  
---  
[forward_like](forward_like.html "cpp/utility/forward like")(C++23)  
[move](move.html "cpp/utility/move")(C++11)  
[move_if_noexcept](move_if_noexcept.html "cpp/utility/move if noexcept")(C++11)  
[as_const](as_const.html "cpp/utility/as const")(C++17)  
  
Common vocabulary types  
| [pair](pair.html "cpp/utility/pair")  
---  
[tuple](tuple.html "cpp/utility/tuple")(C++11)  
[optional](optional.html "cpp/utility/optional")(C++17)  
[any](any.html "cpp/utility/any")(C++17)  
**variant**(C++17)  
  
| [tuple_size](tuple_size.html "cpp/utility/tuple size")(C++11)  
---  
[tuple_element](tuple_element.html "cpp/utility/tuple element")(C++11)  
[apply](apply.html "cpp/utility/apply")(C++17)  
[make_from_tuple](make_from_tuple.html "cpp/utility/make from tuple")(C++17)  
[expected](expected.html "cpp/utility/expected")(C++23)  
  
  
  
  
  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/navbar_content&action=edit)

**`std::variant`**

[Member functions](variant.html#Member_functions "cpp/utility/variant")  
---  
[variant::variant](variant/variant.html "cpp/utility/variant/variant")  
[variant::~variant](variant/~variant.html "cpp/utility/variant/~variant")  
[variant::operator=](variant/operator=.html "cpp/utility/variant/operator=")  
[Observers](variant.html#Observers "cpp/utility/variant")  
[variant::index](variant/index.html "cpp/utility/variant/index")  
[variant::valueless_by_exception](variant/valueless_by_exception.html "cpp/utility/variant/valueless by exception")  
[Modifiers](variant.html#Modifiers "cpp/utility/variant")  
[variant::emplace](variant/emplace.html "cpp/utility/variant/emplace")  
[variant::swap](variant/swap.html "cpp/utility/variant/swap")  
[Visitation](variant.html#Visitation "cpp/utility/variant")  
[variant::visit](variant/visit.html "cpp/utility/variant/visit")(C++26)  
[Non-member functions](variant.html#Non-member_functions "cpp/utility/variant")  
[visit(std::variant)](variant/visit2.html "cpp/utility/variant/visit2")  
[holds_alternative](variant/holds_alternative.html "cpp/utility/variant/holds alternative")  
[get(std::variant)](variant/get.html "cpp/utility/variant/get")  
[get_if](variant/get_if.html "cpp/utility/variant/get if")  
[operator==operator!=operator<operator<=operator>operator>=operator<=>](variant/operator_cmp.html "cpp/utility/variant/operator cmp")(C++20)  
[swap(std::variant)](variant/swap2.html "cpp/utility/variant/swap2")  
[Helper classes](variant.html#Helper_classes "cpp/utility/variant")  
[monostate](variant/monostate.html "cpp/utility/variant/monostate")  
[bad_variant_access](variant/bad_variant_access.html "cpp/utility/variant/bad variant access")  
[variant_size](variant/variant_size.html "cpp/utility/variant/variant size")  
[variant_alternative](variant/variant_alternative.html "cpp/utility/variant/variant alternative")  
[hash<std::variant>](variant/hash.html "cpp/utility/variant/hash")  
[Helper objects](variant.html#Helper_objects "cpp/utility/variant")  
[variant_npos](variant/variant_npos.html "cpp/utility/variant/variant npos")  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/navbar_content&action=edit)

Defined in header `[<variant>](../header/variant.html "cpp/header/variant")` |  |   
---|---|---  
template< class... Types >  
class variant; |  |  (since C++17)  
| |   
  
The class template `std::variant` represents a type-safe [union](../language/union.html "cpp/language/union"). 

An instance of `variant` at any given time either holds a value of one of its alternative types, or in the case of error - no value (this state is hard to achieve, see [`valueless_by_exception`](variant/valueless_by_exception.html "cpp/utility/variant/valueless by exception")). 

As with unions, if a variant holds a value of some object type `T`, the `T` object is [nested within](../language/objects.html#Address "cpp/language/object") the `variant` object. 

A variant is not permitted to hold references, arrays, or the type void. 

A variant is permitted to hold the same type more than once, and to hold differently cv-qualified versions of the same type. 

Consistent with the behavior of unions during [aggregate initialization](../language/aggregate_initialization.html "cpp/language/aggregate initialization"), a default-constructed variant holds a value of its first alternative, unless that alternative is not default-constructible (in which case the variant is not default-constructible either). The helper class [`std::monostate`](variant/monostate.html "cpp/utility/variant/monostate") can be used to make such variants default-constructible. 

A program that instantiates the definition of `std::variant` with no template arguments is ill-formed. std::variant<[std::monostate](variant/monostate.html)> can be used instead. 

If a program declares an [explicit](../language/template_specialization.html "cpp/language/template specialization") or [partial](../language/partial_specialization.html "cpp/language/partial specialization") specialization of `std::variant`, the program is ill-formed, no diagnostic required. 

## Contents

  * [1 Template parameters](variant.html#Template_parameters)
  * [2 Member functions](variant.html#Member_functions)
    * [2.1 Observers](variant.html#Observers)
    * [2.2 Modifiers](variant.html#Modifiers)
    * [2.3 Visitation](variant.html#Visitation)
  * [3 Non-member functions](variant.html#Non-member_functions)
  * [4 Helper classes](variant.html#Helper_classes)
  * [5 Helper objects](variant.html#Helper_objects)
  * [6 Notes](variant.html#Notes)
  * [7 Example](variant.html#Example)
  * [8 Defect reports](variant.html#Defect_reports)
  * [9 See also](variant.html#See_also)

  
---  
  
###  Template parameters

Types  |  \-  |  the types that may be stored in this variant. All types must meet the [Destructible](../named_req/Destructible.html "cpp/named req/Destructible") requirements (in particular, array types and non-object types are not allowed).   
---|---|---  
  
###  Member functions

[ (constructor)](variant/variant.html "cpp/utility/variant/variant") |  constructs the `variant` object   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_constructor&action=edit)  
---|---  
[ (destructor)](variant/~variant.html "cpp/utility/variant/~variant") |  destroys the `variant`, along with its contained value   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_destructor&action=edit)  
[ operator=](variant/operator=.html "cpp/utility/variant/operator=") |  assigns a `variant`   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_operator%3D&action=edit)  
  
#####  Observers   
  
[ index](variant/index.html "cpp/utility/variant/index") |  returns the zero-based index of the alternative held by the `variant`   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_index&action=edit)  
[ valueless_by_exception](variant/valueless_by_exception.html "cpp/utility/variant/valueless by exception") |  checks if the `variant` is in the invalid state   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_valueless_by_exception&action=edit)  
  
#####  Modifiers   
  
[ emplace](variant/emplace.html "cpp/utility/variant/emplace") |  constructs a value in the `variant`, in place   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_emplace&action=edit)  
[ swap](variant/swap.html "cpp/utility/variant/swap") |  swaps with another `variant`   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_swap&action=edit)  
  
#####  Visitation   
  
[ visit](variant/visit.html "cpp/utility/variant/visit")(C++26) |  calls the provided functor with the argument held by the `variant`   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_visit&action=edit)  
  
###  Non-member functions

[ visit](variant/visit2.html "cpp/utility/variant/visit2")(C++17) |  calls the provided functor with the arguments held by one or more `variant`s   
(function template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_visit2&action=edit)  
---|---  
[ holds_alternative](variant/holds_alternative.html "cpp/utility/variant/holds alternative")(C++17) |  checks if a `variant` currently holds a given type   
(function template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_holds_alternative&action=edit)  
[ get(std::variant)](variant/get.html "cpp/utility/variant/get")(C++17) |  reads the value of the variant given the index or the type (if the type is unique), throws on error   
(function template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_get&action=edit)  
[ get_if](variant/get_if.html "cpp/utility/variant/get if")(C++17) |  obtains a pointer to the value of a pointed-to `variant` given the index or the type (if unique), returns null on error   
(function template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_get_if&action=edit)  
[ operator==operator!=operator<operator<=operator>operator>=operator<=>](variant/operator_cmp.html "cpp/utility/variant/operator cmp")(C++17)(C++17)(C++17)(C++17)(C++17)(C++17)(C++20) |  compares `variant` objects as their contained values   
(function template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_operator_cmp&action=edit)  
[ std::swap(std::variant)](variant/swap2.html "cpp/utility/variant/swap2")(C++17) |  specializes the [std::swap](swap.html "cpp/algorithm/swap") algorithm   
(function template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_swap2&action=edit)  
  
###  Helper classes

[ monostate](variant/monostate.html "cpp/utility/variant/monostate")(C++17) |  placeholder type for use as the first alternative in a `variant` of non-default-constructible types   
(class) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_monostate&action=edit)  
---|---  
[ bad_variant_access](variant/bad_variant_access.html "cpp/utility/variant/bad variant access")(C++17) |  exception thrown on invalid accesses to the value of a `variant`   
(class) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_bad_variant_access&action=edit)  
[ variant_sizevariant_size_v](variant/variant_size.html "cpp/utility/variant/variant size")(C++17) |  obtains the size of the `variant`'s list of alternatives at compile time  
(class template) (variable template)[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_variant_size&action=edit)  
[ variant_alternativevariant_alternative_t](variant/variant_alternative.html "cpp/utility/variant/variant alternative")(C++17) |  obtains the type of the alternative specified by its index, at compile time  
(class template) (alias template)[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_variant_alternative&action=edit)  
[ std::hash<std::variant>](variant/hash.html "cpp/utility/variant/hash")(C++17) |  hash support for **`std::variant`**   
(class template specialization) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_hash&action=edit)  
  
###  Helper objects

[ variant_npos](variant/variant_npos.html "cpp/utility/variant/variant npos")(C++17) |  index of the `variant` in the invalid state   
(constant) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/variant/dsc_variant_npos&action=edit)  
---|---  
  
###  Notes

[Feature-test](feature_test.html "cpp/utility/feature test") macro  | Value | Std | Feature   
---|---|---|---  
[`__cpp_lib_variant`](../experimental/feature_test.html#cpp_lib_variant "cpp/feature test") | [`201606L`](../compiler_support/17.html#cpp_lib_variant_201606L "cpp/compiler support/17") | (C++17) | `std::variant`: a type-safe union   
[`202102L`](../compiler_support/23.html#cpp_lib_variant_202102L "cpp/compiler support/23") | (C++23)  
(DR17) | [std::visit](variant/visit.html "cpp/utility/variant/visit") for classes derived from `std::variant`  
[`202106L`](../compiler_support/23.html#cpp_lib_variant_202106L "cpp/compiler support/23") | (C++23)  
(DR20) | Fully `constexpr` `std::variant`  
[`202306L`](../compiler_support/26.html#cpp_lib_variant_202306L "cpp/compiler support/26") | (C++26) | Member [`visit`](variant/visit2.html "cpp/utility/variant/visit2")  
  
###  Example

Run this code
    
    
    #include <cassert>
    #include <iostream>
    #include <string>
    #include <variant>
     
    int main()
    {
        std::variant<int, float> v, w;
        v = 42; // v contains int
        int i = std::get<int>(v);
        [assert](../error/assert.html)(42 == i); // succeeds
        w = std::get<int>(v);
        w = std::get<0>(v); // same effect as the previous line
        w = v; // same effect as the previous line
     
    //  std::get<double>(v); // error: no double in [int, float]
    //  std::get<3>(v);      // error: valid index values are 0 and 1
     
        try
        {
            std::get<float>(w); // w contains int, not float: will throw
        }
        catch (const [std::bad_variant_access](variant/bad_variant_access.html)& ex)
        {
            [std::cout](../io/cout.html) << ex.what() << '\n';
        }
     
        using namespace std::literals;
     
        std::variant<[std::string](../string/basic_string.html)> x("abc");
        // converting constructors work when unambiguous
        x = "def"; // converting assignment also works when unambiguous
     
        std::variant<[std::string](../string/basic_string.html), void const*> y("abc");
        // casts to void const* when passed a char const*
        [assert](../error/assert.html)([std::holds_alternative](variant/holds_alternative.html)<void const*>(y)); // succeeds
        y = "xyz"s;
        [assert](../error/assert.html)([std::holds_alternative](variant/holds_alternative.html)<[std::string](../string/basic_string.html)>(y)); // succeeds
    }

Possible output: 
    
    
    std::get: wrong index for variant

###  Defect reports

The following behavior-changing defect reports were applied retroactively to previously published C++ standards. 

DR  | Applied to  | Behavior as published  | Correct behavior   
---|---|---|---  
[LWG 2901](https://cplusplus.github.io/LWG/issue2901) | C++17  | specialization of [std::uses_allocator](../memory/uses_allocator.html "cpp/memory/uses allocator") provided,  
but `variant` cannot properly support allocators  | specialization removed   
[LWG 3990](https://cplusplus.github.io/LWG/issue3990) | C++17  | a program could declare an explicit or  
partial specialization of `std::variant` | the program is ill-formed in this  
case (no diagnostic required)   
[LWG 4141](https://cplusplus.github.io/LWG/issue4141) | C++17  | the requirement for storage  
allocation was confusing  | the contained object must be  
nested within the `variant` object   
  
###  See also

[ in_placein_place_typein_place_indexin_place_tin_place_type_tin_place_index_t](in_place.html "cpp/utility/in place")(C++17) |  in-place construction tag  
(tag)[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/dsc_in_place&action=edit)  
---|---  
[ optional](optional.html "cpp/utility/optional")(C++17) |  a wrapper that may or may not hold an object   
(class template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/dsc_optional&action=edit)  
[ any](any.html "cpp/utility/any")(C++17) |  objects that hold instances of any [CopyConstructible](../named_req/CopyConstructible.html "cpp/named req/CopyConstructible") type   
(class) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/utility/dsc_any&action=edit)
  *[Value]: The year/month in which the feature was adopted. The hyperlink under each value opens a compiler support page with entry for given feature.
  *[Std]: Standard in which the feature is introduced; DR means defect report against that revision
