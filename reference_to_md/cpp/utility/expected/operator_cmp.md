[C++](../../../cpp.html "cpp")

[Compiler support](../../compiler_support.html "cpp/compiler support")  
---  
[Freestanding and hosted](../../freestanding.html "cpp/freestanding")  
[Language](../../language.html "cpp/language")  
[Standard library](../../standard_library.html "cpp/standard library")  
[Standard library headers](../../headers.html "cpp/header")  
[Named requirements](../../iterator/concepts.html "cpp/named req")  
[Feature test macros](../../experimental/feature_test.html "cpp/feature test") (C++20)  
[Language support library](../../utility.html#Language_support "cpp/utility")  
[Concepts library](../../concepts.html "cpp/concepts") (C++20)  
[Diagnostics library](../../error.html "cpp/error")  
[Memory management library](../../memory.html "cpp/memory")  
[Metaprogramming library](../../meta.html "cpp/meta") (C++11)  
[General utilities library](../../utility.html "cpp/utility")  
[Containers library](../../container.html "cpp/container")  
[Iterators library](../../iterator.html "cpp/iterator")  
[Ranges library](../../ranges.html "cpp/ranges") (C++20)  
[Algorithms library](../../algorithm.html "cpp/algorithm")  
[Strings library](../../string.html "cpp/string")  
[Text processing library](../../text.html "cpp/text")  
[Numerics library](../../numeric.html "cpp/numeric")  
[Date and time library](../../chrono.html "cpp/chrono")  
[Input/output library](../../io.html "cpp/io")  
[Filesystem library](../../filesystem.html "cpp/filesystem") (C++17)  
[Concurrency support library](../../atomic.html "cpp/thread") (C++11)  
[Execution control library](../../experimental/execution.html "cpp/execution") (C++26)  
[Technical specifications](../../experimental.html "cpp/experimental")  
[Symbols index](../../symbol_index.html "cpp/symbol index")  
[External libraries](../../links/libs.html "cpp/links/libs")  
  


[Utilities library](../../utility.html "cpp/utility")

| [Language support](../../utility.html#Language_support "cpp/utility")  
---  
[Type support](../rtti.html "cpp/types") (basic types, RTTI)  
[Library feature-test macros](../feature_test.html "cpp/utility/feature test") (C++20)  
[Program utilities](../program.html "cpp/utility/program")  
[Variadic functions](../variadic.html "cpp/utility/variadic")  
[initializer_list](../initializer_list.html "cpp/utility/initializer list")(C++11)  
[is_constant_evaluated](../../types/is_constant_evaluated.html "cpp/types/is constant evaluated")(C++20)  
[is_within_lifetime](../../types/is_within_lifetime.html "cpp/types/is within lifetime")(C++26)  
[source_location](../source_location.html "cpp/utility/source location")(C++20)  
[Coroutine support](../../coroutine.html "cpp/coroutine") (C++20)  
[Contract support](../../contract.html "cpp/contract") (C++26)  
[Three-way comparison](../../utility.html#Three-way_comparison "cpp/utility")  
[three_way_comparablethree_way_comparable_with](../compare/three_way_comparable.html "cpp/utility/compare/three way comparable")(C++20)(C++20)  
[strong_ordering](../compare/strong_ordering.html "cpp/utility/compare/strong ordering")(C++20)  
[weak_ordering](../compare/weak_ordering.html "cpp/utility/compare/weak ordering")(C++20)  
[partial_ordering](../compare/partial_ordering.html "cpp/utility/compare/partial ordering")(C++20)  
[common_comparison_category](../compare/common_comparison_category.html "cpp/utility/compare/common comparison category")(C++20)  
[compare_three_way_result](../compare/compare_three_way_result.html "cpp/utility/compare/compare three way result")(C++20)  
[compare_three_way](../compare/compare_three_way.html "cpp/utility/compare/compare three way")(C++20)  
[strong_order](../compare/strong_order.html "cpp/utility/compare/strong order")(C++20)  
[weak_order](../compare/weak_order.html "cpp/utility/compare/weak order")(C++20)  
[partial_order](../compare/partial_order.html "cpp/utility/compare/partial order")(C++20)  
[compare_strong_order_fallback](../compare/compare_strong_order_fallback.html "cpp/utility/compare/compare strong order fallback")(C++20)  
[compare_weak_order_fallback](../compare/compare_weak_order_fallback.html "cpp/utility/compare/compare weak order fallback")(C++20)  
[compare_partial_order_fallback](../compare/compare_partial_order_fallback.html "cpp/utility/compare/compare partial order fallback")(C++20)` `  
|  | [is_eqis_ltis_lteq](../compare/named_comparison_functions.html "cpp/utility/compare/named comparison functions")(C++20)(C++20)(C++20)` `  
---  
  
| [is_neqis_gtis_gteq](../compare/named_comparison_functions.html "cpp/utility/compare/named comparison functions")(C++20)(C++20)(C++20)  
---  
  
  
  
  
| General utilities  
---  
| [Function objects](../../functional.html "cpp/utility/functional")  
---  
[Bit manipulation](../bit.html "cpp/utility/bit") (C++20)  
[C-style bit manipulation](https://en.cppreference.com/mwiki/index.php?title=cpp/utility/stdbit&action=edit&redlink=1 "cpp/utility/stdbit \(page does not exist\)") (C++26)  
[bitset](../bitset.html "cpp/utility/bitset")  
[hash](../hash.html "cpp/utility/hash")(C++11)  
  
[Relational operators](../../utility.html#Relational_operators "cpp/utility") (deprecated in C++20)  
|  | [rel_ops::operator!=rel_ops::operator>](../rel_ops/operator_cmp.html "cpp/utility/rel ops/operator cmp")` `  
---  
  
| [rel_ops::operator<=rel_ops::operator>=](../rel_ops/operator_cmp.html "cpp/utility/rel ops/operator cmp")  
---  
  
[Integer comparison functions](../../utility.html#Integer_comparison_functions "cpp/utility")  
| [cmp_equalcmp_lesscmp_less_than](../intcmp.html "cpp/utility/intcmp")(C++20)(C++20)(C++20)` `  
---  
  
| [cmp_not_equalcmp_greatercmp_greater_than](../intcmp.html "cpp/utility/intcmp")(C++20)(C++20)(C++20)  
---  
  
[in_range](../in_range.html "cpp/utility/in range")(C++20)  
[Swap](../../utility.html#Swap "cpp/utility") and [type operations](../../utility.html#Type_operations "cpp/utility")  
| [swap](../swap.html "cpp/algorithm/swap")  
---  
[ranges::swap](../ranges/swap.html "cpp/utility/ranges/swap")(C++20)  
[exchange](../exchange.html "cpp/utility/exchange")(C++14)  
[declval](../declval.html "cpp/utility/declval")(C++11)  
[to_underlying](../to_underlying.html "cpp/utility/to underlying")(C++23)  
  
| [forward](../forward.html "cpp/utility/forward")(C++11)  
---  
[forward_like](../forward_like.html "cpp/utility/forward like")(C++23)  
[move](../move.html "cpp/utility/move")(C++11)  
[move_if_noexcept](../move_if_noexcept.html "cpp/utility/move if noexcept")(C++11)  
[as_const](../as_const.html "cpp/utility/as const")(C++17)  
  
Common vocabulary types  
| [pair](../pair.html "cpp/utility/pair")  
---  
[tuple](../tuple.html "cpp/utility/tuple")(C++11)  
[optional](../optional.html "cpp/utility/optional")(C++17)  
[any](../any.html "cpp/utility/any")(C++17)  
[variant](../variant.html "cpp/utility/variant")(C++17)  
  
| [tuple_size](../tuple_size.html "cpp/utility/tuple size")(C++11)  
---  
[tuple_element](../tuple_element.html "cpp/utility/tuple element")(C++11)  
[apply](../apply.html "cpp/utility/apply")(C++17)  
[make_from_tuple](../make_from_tuple.html "cpp/utility/make from tuple")(C++17)  
[expected](../expected.html "cpp/utility/expected")(C++23)  
  
  
  
  
  
  


[`std::expected`](../expected.html "cpp/utility/expected")

[Member functions](../expected.html#Member_functions "cpp/utility/expected")  
---  
[expected::expected](expected.html "cpp/utility/expected/expected")  
[expected::~expected](~expected.html "cpp/utility/expected/~expected")  
[expected::operator=](operator=.html "cpp/utility/expected/operator=")  
[Observers](../expected.html#Observers "cpp/utility/expected")  
[expected::operator->expected::operator*](operator*.html "cpp/utility/expected/operator*")  
[expected::operator boolexpected::has_value](operator_bool.html "cpp/utility/expected/operator bool")  
[expected::value](value.html "cpp/utility/expected/value")  
[expected::error](error.html "cpp/utility/expected/error")  
[expected::value_or](value_or.html "cpp/utility/expected/value or")  
[expected::error_or](error_or.html "cpp/utility/expected/error or")  
[Monadic operations](../expected.html#Monadic_operations "cpp/utility/expected")  
[expected::and_then](and_then.html "cpp/utility/expected/and then")  
[expected::or_else](or_else.html "cpp/utility/expected/or else")  
[expected::transform](transform.html "cpp/utility/expected/transform")  
[expected::transform_error](transform_error.html "cpp/utility/expected/transform error")  
[Modifiers](../expected.html#Modifiers "cpp/utility/expected")  
[expected::emplace](emplace.html "cpp/utility/expected/emplace")  
[expected::swap](swap.html "cpp/utility/expected/swap")  
[Non-member functions](../expected.html#Non-member_functions "cpp/utility/expected")  
**operator==(std::expected)**  
[swap(std::expected)](swap2.html "cpp/utility/expected/swap2")  
[Helper classes](../expected.html#Helper_classes "cpp/utility/expected")  
[unexpected](unexpected.html "cpp/utility/expected/unexpected")  
[bad_expected_access](bad_expected_access.html "cpp/utility/expected/bad expected access")  
[unexpect_tunexpect](unexpect_t.html "cpp/utility/expected/unexpect t")  
  


Primary template |  |   
---|---|---  
template< class T2, class E2 >  
requires (![std::is_void_v](../../types/is_void.html)<T2>)  
friend constexpr bool operator==( const expected& lhs,  
const [std::expected](../expected.html)<T2, E2>& rhs ); |  (1)  |  (since C++23)  
template< class E2 >  
friend constexpr bool operator==( const expected& lhs,  
const [std::unexpected](unexpected.html)<E2>& unex ); |  (2)  |  (since C++23)  
template< class T2 >  
friend constexpr bool operator==( const expected& lhs, const T2& val ); |  (3)  |  (since C++23)  
void partial specialization |  |   
template< class T2, class E2 >  
requires [std::is_void_v](../../types/is_void.html)<T2>  
friend constexpr bool operator==( const expected& lhs,  
const [std::expected](../expected.html)<T2, E2>& rhs ); |  (4)  |  (since C++23)  
template< class E2 >  
friend constexpr bool operator==( const expected& lhs,  
const [std::unexpected](unexpected.html)<E2>& unex ); |  (5)  |  (since C++23)  
| |   
  
Performs comparison operations on std::expected objects. 

1) Compares two std::expected objects. The objects compare equal if and only if both lhs and rhs contain expected values that are equal, or both contain unexpected values that are equal.  If any of the following expressions is ill-formed, or its result is not convertible to bool, the program is ill-formed:  | (until C++26)  
---|---  
This overload participates in overload resolution only if all following expressions is well-formed, and their results are convertible to bool:  | (since C++26)  
  
  * *lhs == *rhs
  * lhs.error() == rhs.error()



2) Compares std::expected object with an [std::unexpected](../../error/unexpected.html "cpp/error/unexpected") object. The objects compare equal if and only if lhs contains an unexpected value that is equal to unex.error().  If the expression lhs.error() == unex.error() is ill-formed, or its result is not convertible to bool, the program is ill-formed.  | (until C++26)  
---|---  
This overload participates in overload resolution only if the expression lhs.error() == unex.error() is well-formed, and its result is convertible to bool.  | (since C++26)  
  
3) Compares std::expected object with an expected value. The objects compare equal if and only if lhs contains an expected value that is equal to val.  If the expression *lhs == val is ill-formed, or its result is not convertible to bool, the program is ill-formed.  | (until C++26)  
---|---  
This overload participates in overload resolution only if all following conditions are satisfied: 

  * `T2` is not a specialization of std::expected. 
  * The expression *lhs == val is well-formed, and its result is convertible to bool. 

| (since C++26)  
  
4) Compares two std::expected objects. The objects compare equal if and only if lhs and rhs both represent expected values, or both contain unexpected values that are equal.  If the expression lhs.error() == rhs.error() is ill-formed, or its result is not convertible to bool, the program is ill-formed.  | (until C++26)  
---|---  
This overload participates in overload resolution only if the expression lhs.error() == rhs.error() is well-formed, and its result is convertible to bool.  | (since C++26)  
  
5) Compares std::expected object with an [std::unexpected](../../error/unexpected.html "cpp/error/unexpected") object. The objects compare equal if and only if lhs contains an unexpected value that is equal to unex.error().  If the expression lhs.error() == unex.error() is ill-formed, or its result is not convertible to bool, the program is ill-formed.  | (until C++26)  
---|---  
This overload participates in overload resolution only if the expression lhs.error() == unex.error() is well-formed, and its result is convertible to bool.  | (since C++26)  
  
These functions are not visible to ordinary [unqualified](../../language/unqualified_lookup.html "cpp/language/unqualified lookup") or [qualified lookup](../../language/qualified_lookup.html "cpp/language/qualified lookup"), and can only be found by [argument-dependent lookup](../../language/adl.html "cpp/language/adl") when `std::expected<T, E>` is an associated class of the arguments. 

The `!=` operator is [synthesized](../../language/default_comparisons.html#Other_defaulted_comparison_operators "cpp/language/default comparisons") from `operator==`. 

## Contents

  * [1 Parameters](operator_cmp.html#Parameters)
  * [2 Return value](operator_cmp.html#Return_value)
  * [3 Exceptions](operator_cmp.html#Exceptions)
  * [4 Notes](operator_cmp.html#Notes)
  * [5 Example](operator_cmp.html#Example)
  * [6 See also](operator_cmp.html#See_also)

  
---  
  
### Parameters

lhs, rhs  |  \-  |  std::expected object(s) to compare   
---|---|---  
unex  |  \-  |  [std::unexpected](../../error/unexpected.html "cpp/error/unexpected") value to compare to lhs  
val  |  \-  |  value to compare to the expected value contained in lhs  
  
### Return value

1)

lhs.has_value() != rhs.has_value() ? false :  
(lhs.has_value() ? *lhs == *rhs : lhs.error() == rhs.error())

2) !lhs.has_value() && static_cast<bool>(lhs.error() == unex.error())

3) lhs.has_value() && static_cast<bool>(*lhs == val)

4)

lhs.has_value() != rhs.has_value() ? false :  
lhs.has_value() || static_cast<bool>(lhs.error() == rhs.error())

5) !lhs.has_value() && static_cast<bool>(lhs.error() == unex.error())

### Exceptions

Throws when and what the comparison throws. 

### Notes

[Feature-test](../feature_test.html "cpp/utility/feature test") macro | Value | Std | Feature   
---|---|---|---  
[`__cpp_lib_constrained_equality`](../../experimental/feature_test.html#cpp_lib_constrained_equality "cpp/feature test") | [`202411L`](../../compiler_support/26.html#cpp_lib_constrained_equality_202411L "cpp/compiler support/26") | (C++26) | constrained comparison operators for std::expected  
  
### Example

Run this code
    
    
    #include <expected>
    #include <iostream>
    #include <string_view>
    Â 
    using namespace std::string_view_literals;
    Â 
    int main()
    {
        auto x1{"\N{GREEN HEART}"sv};
        auto x2{"\N{CROSS MARK}"sv};
        [std::expected](../expected.html)<[std::string_view](../../string/basic_string_view.html), int> e1{x1}, e2{x1}, e3{x2};
        [std::unexpected](unexpected.html) u1{13};
    Â 
        [std::cout](../../io/cout.html) << "Overload (1):\n"
                  << e1.value() << (e1 == e2 ? " == " : "Â != ") << *e2 << '\n'
                  << e1.value() << (e1 != e3 ? "Â != " : " == ") << *e3 << "\n\n";
    Â 
        [std::cout](../../io/cout.html) << "Overload (2):\n"
                  << e1.value() << (e1 == u1 ? " == " : "Â != ") << u1.error() << '\n';
        e1 = [std::unexpected](unexpected.html){13};
        [std::cout](../../io/cout.html) << e1.error() << (e1 == u1 ? " == " : "Â != ") << u1.error() << '\n';
        e1 = [std::unexpected](unexpected.html){31};
        [std::cout](../../io/cout.html) << e1.error() << (e1 != u1 ? "Â != " : " == ") << u1.error() << '\n';
    Â 
        [std::cout](../../io/cout.html) << "Overload (3):\n"
                  << *e1 << (e1 == x1 ? " == " : "Â != ") << x1 << '\n'
                  << *e1 << (e1 != x2 ? "Â != " : " == ") << x2 << "\n\n";
    }

Output: 
    
    
    Overload (1):
    ðŸ’š == ðŸ’š
    ðŸ’šÂ != âŒ
    Â 
    Overload (2):
    ðŸ’šÂ != 13
    13 == 13
    31Â != 13
    Â 
    Overload (3):
    ðŸ’š == ðŸ’š
    ðŸ’šÂ != âŒ

### See also

[ operator==](unexpected.html#compare "cpp/utility/expected/unexpected")(C++23) |  compares [std::unexpected](../../error/unexpected.html "cpp/error/unexpected") objects   
(function template)  
---|---
  *[Value]: The year/month in which the feature was adopted. The hyperlink under each value opens a compiler support page with entry for given feature.
  *[Std]: Standard in which the feature is introduced; DR means defect report against that revision
