[C++](../../../cpp.html "cpp")

[Compiler support](../../compiler_support.html "cpp/compiler support")  
---  
[Freestanding and hosted](../../freestanding.html "cpp/freestanding")  
[Language](../../language.html "cpp/language")  
[Standard library](../../standard_library.html "cpp/standard library")  
[Standard library headers](../../headers.html "cpp/header")  
[Named requirements](../../iterator/concepts.html "cpp/named req")  
[Feature test macros](../../experimental/feature_test.html "cpp/feature test") (C++20)  
[Language support library](../../utility.html#Language_support "cpp/utility")  
[Concepts library](../../concepts.html "cpp/concepts") (C++20)  
[Diagnostics library](../../error.html "cpp/error")  
[Memory management library](../../memory.html "cpp/memory")  
[Metaprogramming library](../../meta.html "cpp/meta") (C++11)  
[General utilities library](../../utility.html "cpp/utility")  
[Containers library](../../container.html "cpp/container")  
[Iterators library](../../iterator.html "cpp/iterator")  
[Ranges library](../../ranges.html "cpp/ranges") (C++20)  
[Algorithms library](../../algorithm.html "cpp/algorithm")  
[Strings library](../../string.html "cpp/string")  
[Text processing library](../../text.html "cpp/text")  
[Numerics library](../../numeric.html "cpp/numeric")  
[Date and time library](../../chrono.html "cpp/chrono")  
[Input/output library](../../io.html "cpp/io")  
[Filesystem library](../../filesystem.html "cpp/filesystem") (C++17)  
[Concurrency support library](../../atomic.html "cpp/thread") (C++11)  
[Execution control library](../../experimental/execution.html "cpp/execution") (C++26)  
[Technical specifications](../../experimental.html "cpp/experimental")  
[Symbols index](../../symbol_index.html "cpp/symbol index")  
[External libraries](../../links/libs.html "cpp/links/libs")  
  


[Numerics library](../../numeric.html "cpp/numeric")

[Common mathematical functions](../math.html "cpp/numeric/math")  
---  
[Mathematical special functions](../special_math.html "cpp/numeric/special functions") (C++17)  
[Mathematical constants](../constants.html "cpp/numeric/constants") (C++20)  
[Basic linear algebra algorithms](../linalg.html "cpp/numeric/linalg") (C++26)  
[Data-parallel types (SIMD)](../simd.html "cpp/numeric/simd") (C++26)  
[Floating-point environment](../fenv.html "cpp/numeric/fenv") (C++11)  
[Complex numbers](../complex.html "cpp/numeric/complex")  
[Numeric array (`valarray`)](../valarray.html "cpp/numeric/valarray")  
[Pseudo-random number generation](../random.html "cpp/numeric/random")  
[Bit manipulation](../../utility/bit.html "cpp/utility/bit") (C++20)  
[Saturation arithmetic](../../numeric.html#Saturation_arithmetic "cpp/numeric") (C++26)  
[Factor operations](../../numeric.html#Factor_operations "cpp/numeric")  
| [gcd](../gcd.html "cpp/numeric/gcd")(C++17)  
---  
  
| [lcm](../lcm.html "cpp/numeric/lcm")(C++17)  
---  
  
[Interpolations](../../numeric.html#Interpolation_operations "cpp/numeric")  
| [midpoint](../midpoint.html "cpp/numeric/midpoint")(C++20)  
---  
  
| [lerp](../lerp.html "cpp/numeric/lerp")(C++20)  
---  
  
[Generic numeric operations](../../numeric.html#Numeric_operations "cpp/numeric")  
| [iota](../../algorithm/iota.html "cpp/algorithm/iota")(C++11)  
---  
[ranges::iota](../../algorithm/ranges/iota.html "cpp/algorithm/ranges/iota")(C++23)  
[accumulate](../../algorithm/accumulate.html "cpp/algorithm/accumulate")  
[inner_product](../../algorithm/inner_product.html "cpp/algorithm/inner product")  
[adjacent_difference](../../algorithm/adjacent_difference.html "cpp/algorithm/adjacent difference")` `  
[partial_sum](../../algorithm/partial_sum.html "cpp/algorithm/partial sum")  
  
| [reduce](../../algorithm/reduce.html "cpp/algorithm/reduce")(C++17)  
---  
[transform_reduce](../../algorithm/transform_reduce.html "cpp/algorithm/transform reduce")(C++17)  
[inclusive_scan](../../algorithm/inclusive_scan.html "cpp/algorithm/inclusive scan")(C++17)  
[exclusive_scan](../../algorithm/exclusive_scan.html "cpp/algorithm/exclusive scan")(C++17)  
[transform_inclusive_scan](../../algorithm/transform_inclusive_scan.html "cpp/algorithm/transform inclusive scan")(C++17)  
[transform_exclusive_scan](../../algorithm/transform_exclusive_scan.html "cpp/algorithm/transform exclusive scan")(C++17)  
  
[C-style checked integer arithmetic](../../numeric.html#Checked_integer_arithmetic "cpp/numeric")  
| [ckd_add](../ckd_add.html "cpp/numeric/ckd add")(C++26)  
---  
[ckd_sub](../ckd_sub.html "cpp/numeric/ckd sub")(C++26)  
  
| [ckd_mul](../ckd_mul.html "cpp/numeric/ckd mul")(C++26)  
---  
  
  
  


[`std::complex`](../complex.html "cpp/numeric/complex")

[Member functions](../complex.html#Member_functions "cpp/numeric/complex")  
---  
| [complex::complex](complex.html "cpp/numeric/complex/complex")  
---  
[complex::operator=](operator=.html "cpp/numeric/complex/operator=")  
[complex::real](real.html "cpp/numeric/complex/real")  
[complex::imag](imag.html "cpp/numeric/complex/imag")  
  
| [complex::operator+=complex::operator-=complex::operator*=complex::operator/=](operator_arith.html "cpp/numeric/complex/operator arith")  
---  
  
[Non-member functions](../complex.html#Non-member_functions "cpp/numeric/complex")  
| [operator+operator-](operator_arith2.html "cpp/numeric/complex/operator arith2")  
---  
[operator+operator-operator*operator/](operator_arith3.html "cpp/numeric/complex/operator arith3")  
[operator==operator!=](operator_cmp.html "cpp/numeric/complex/operator cmp")(until C++20)  
[operator<<operator>>](operator_ltltgtgt.html "cpp/numeric/complex/operator ltltgtgt")  
[get(std::complex)](get.html "cpp/numeric/complex/get")(C++26)` `  
  
| [real](real2.html "cpp/numeric/complex/real2")  
---  
[imag](imag2.html "cpp/numeric/complex/imag2")  
[abs](abs.html "cpp/numeric/complex/abs")  
[arg](arg.html "cpp/numeric/complex/arg")  
[norm](norm.html "cpp/numeric/complex/norm")  
[conj](conj.html "cpp/numeric/complex/conj")  
**proj**(C++11)  
[polar](polar.html "cpp/numeric/complex/polar")  
[operator""ioperator""ifoperator""il](operator""i.html "cpp/numeric/complex/operator""i")(C++14)(C++14)(C++14)  
  
[Exponential functions](../complex.html#Exponential_functions "cpp/numeric/complex")  
|  | [log](log.html "cpp/numeric/complex/log")` `  
---  
  
| [log10](log10.html "cpp/numeric/complex/log10")` `  
---  
  
| [exp](exp.html "cpp/numeric/complex/exp")  
---  
  
[Power functions](../complex.html#Power_functions "cpp/numeric/complex")  
|  | [pow](pow.html "cpp/numeric/complex/pow")` `  
---  
  
| [sqrt](sqrt.html "cpp/numeric/complex/sqrt")  
---  
  
[Trigonometric functions](../complex.html#Trigonometric_functions "cpp/numeric/complex")  
|  | [sin](sin.html "cpp/numeric/complex/sin")` `  
---  
[cos](cos.html "cpp/numeric/complex/cos")  
[tan](tan.html "cpp/numeric/complex/tan")  
  
| [asin](asin.html "cpp/numeric/complex/asin")(C++11)  
---  
[acos](acos.html "cpp/numeric/complex/acos")(C++11)  
[atan](atan.html "cpp/numeric/complex/atan")(C++11)  
  
[Hyperbolic functions](../complex.html#Hyperbolic_functions "cpp/numeric/complex")  
|  | [sinh](sinh.html "cpp/numeric/complex/sinh")` `  
---  
[cosh](cosh.html "cpp/numeric/complex/cosh")  
[tanh](tanh.html "cpp/numeric/complex/tanh")  
  
| [asinh](asinh.html "cpp/numeric/complex/asinh")(C++11)  
---  
[acosh](acosh.html "cpp/numeric/complex/acosh")(C++11)  
[atanh](atanh.html "cpp/numeric/complex/atanh")(C++11)  
  
[Helper types](../complex.html#Helper_types "cpp/numeric/complex")  
[tuple_size<std::complex>](tuple_size.html "cpp/numeric/complex/tuple size")(C++26)  
[tuple_element<std::complex>](tuple_element.html "cpp/numeric/complex/tuple element")(C++26)  
  


Defined in header `[<complex>](../../header/complex.html "cpp/header/complex")` |  |   
---|---|---  
template< class T >   
[std::complex](../complex.html)<T> proj( const [std::complex](../complex.html)<T>& z ); |  (1)  |  (since C++11)  
[Additional overloads](proj.html#Notes) (since C++11) |  |   
Defined in header `[<complex>](../../header/complex.html "cpp/header/complex")` |  |   
| (A) |   
[std::complex](../complex.html)<float> proj( float f );  
[std::complex](../complex.html)<double> proj( double f );  
[std::complex](../complex.html)<long double> proj( long double f ); |  | (until C++23)  
template< class FloatingPoint >  
[std::complex](../complex.html)<FloatingPoint> proj( FloatingPoint f ); |  |  (since C++23)  
template< class Integer >  
[std::complex](../complex.html)<double> proj( Integer i ); |  (B)  |   
| |   
  
1) Returns the projection of the complex number z onto the [Riemann sphere](https://en.wikipedia.org/wiki/Riemann_sphere "enwiki:Riemann sphere").

For most z, std::proj(z) == z, but all complex infinities, even the numbers where one component is infinite and the other is NaN, become positive real infinity, ([INFINITY](../math/INFINITY.html), 0.0) or ([INFINITY](../math/INFINITY.html), -0.0). The sign of the imaginary (zero) component is the sign of [std::imag](imag2.html)(z). 

A,B) Additional overloads are provided for all integer and floating-point types, which are treated as complex numbers with positive zero imaginary component.

## Contents

  * [1 Parameters](proj.html#Parameters)
  * [2 Return value](proj.html#Return_value)
  * [3 Notes](proj.html#Notes)
  * [4 Example](proj.html#Example)
  * [5 See also](proj.html#See_also)

  
---  
  
### Parameters

z  |  \-  |  complex value   
---|---|---  
f  |  \-  |  floating-point value   
i  |  \-  |  integer value   
  
### Return value

1) The projection of z onto the Riemann sphere.

A) The projection of [std::complex](../complex.html)(f) onto the Riemann sphere.

B) The projection of [std::complex](../complex.html)<double>(i) onto the Riemann sphere.

### Notes

The proj function helps model the Riemann sphere by mapping all infinities to one (give or take the sign of the imaginary zero), and should be used just before any operation, especially comparisons, that might give spurious results for any of the other infinities. 

The additional overloads are not required to be provided exactly as (A,B). They only need to be sufficient to ensure that for their argument num: 

  * If num has a standard(until C++23) floating-point type `T`, then std::proj(num) has the same effect as std::proj([std::complex](../complex.html)<T>(num)). 
  * Otherwise, if num has an integer type, then std::proj(num) has the same effect as std::proj([std::complex](../complex.html)<double>(num)). 



### Example

Run this code
    
    
    #include <complex>
    #include <iostream>
     
    int main()
    {
        [std::complex](../complex.html)<double> c1(1, 2);
        [std::cout](../../io/cout.html) << "proj" << c1 << " = " << std::proj(c1) << '\n';
     
        [std::complex](../complex.html)<double> c2([INFINITY](../math/INFINITY.html), -1);
        [std::cout](../../io/cout.html) << "proj" << c2 << " = " << std::proj(c2) << '\n';
     
        [std::complex](../complex.html)<double> c3(0, -[INFINITY](../math/INFINITY.html));
        [std::cout](../../io/cout.html) << "proj" << c3 << " = " << std::proj(c3) << '\n';
    }

Output: 
    
    
    proj(1,2) = (1,2)
    proj(inf,-1) = (inf,-0)
    proj(0,-inf) = (inf,-0)

### See also

[ abs(std::complex)](abs.html "cpp/numeric/complex/abs") |  returns the magnitude of a complex number   
(function template)   
---|---  
[ norm](norm.html "cpp/numeric/complex/norm") |  returns the squared magnitude   
(function template)   
[ polar](polar.html "cpp/numeric/complex/polar") |  constructs a complex number from magnitude and phase angle   
(function template)   
[C documentation](../../../c/numeric/complex/cproj.html "c/numeric/complex/cproj") for cproj
