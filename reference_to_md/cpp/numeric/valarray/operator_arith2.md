[C++](../../../cpp.html "cpp")

[Compiler support](../../compiler_support.html "cpp/compiler support")  
---  
[Freestanding and hosted](../../freestanding.html "cpp/freestanding")  
[Language](../../language.html "cpp/language")  
[Standard library](../../standard_library.html "cpp/standard library")  
[Standard library headers](../../headers.html "cpp/header")  
[Named requirements](../../iterator/concepts.html "cpp/named req")  
[Feature test macros](../../experimental/feature_test.html "cpp/feature test") (C++20)  
[Language support library](../../utility.html#Language_support "cpp/utility")  
[Concepts library](../../concepts.html "cpp/concepts") (C++20)  
[Diagnostics library](../../error.html "cpp/error")  
[Memory management library](../../memory.html "cpp/memory")  
[Metaprogramming library](../../meta.html "cpp/meta") (C++11)  
[General utilities library](../../utility.html "cpp/utility")  
[Containers library](../../container.html "cpp/container")  
[Iterators library](../../iterator.html "cpp/iterator")  
[Ranges library](../../ranges.html "cpp/ranges") (C++20)  
[Algorithms library](../../algorithm.html "cpp/algorithm")  
[Strings library](../../string.html "cpp/string")  
[Text processing library](../../text.html "cpp/text")  
[Numerics library](../../numeric.html "cpp/numeric")  
[Date and time library](../../chrono.html "cpp/chrono")  
[Input/output library](../../io.html "cpp/io")  
[Filesystem library](../../filesystem.html "cpp/filesystem") (C++17)  
[Concurrency support library](../../atomic.html "cpp/thread") (C++11)  
[Execution control library](../../experimental/execution.html "cpp/execution") (C++26)  
[Technical specifications](../../experimental.html "cpp/experimental")  
[Symbols index](../../symbol_index.html "cpp/symbol index")  
[External libraries](../../links/libs.html "cpp/links/libs")  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/navbar_content&action=edit)

[Numerics library](../../numeric.html "cpp/numeric")

[Common mathematical functions](../math.html "cpp/numeric/math")  
---  
[Mathematical special functions](../special_math.html "cpp/numeric/special functions") (C++17)  
[Mathematical constants](../constants.html "cpp/numeric/constants") (C++20)  
[Basic linear algebra algorithms](../linalg.html "cpp/numeric/linalg") (C++26)  
[Data-parallel types (SIMD)](../simd.html "cpp/numeric/simd") (C++26)  
[Floating-point environment](../fenv.html "cpp/numeric/fenv") (C++11)  
[Complex numbers](../complex.html "cpp/numeric/complex")  
[Numeric array (`valarray`)](../valarray.html "cpp/numeric/valarray")  
[Pseudo-random number generation](../random.html "cpp/numeric/random")  
[Bit manipulation](../../utility/bit.html "cpp/utility/bit") (C++20)  
[Saturation arithmetic](../../numeric.html#Saturation_arithmetic "cpp/numeric") (C++26)  
[Factor operations](../../numeric.html#Factor_operations "cpp/numeric")  
| [gcd](../gcd.html "cpp/numeric/gcd")(C++17)  
---  
  
| [lcm](../lcm.html "cpp/numeric/lcm")(C++17)  
---  
  
[Interpolations](../../numeric.html#Interpolation_operations "cpp/numeric")  
| [midpoint](../midpoint.html "cpp/numeric/midpoint")(C++20)  
---  
  
| [lerp](../lerp.html "cpp/numeric/lerp")(C++20)  
---  
  
[Generic numeric operations](../../numeric.html#Numeric_operations "cpp/numeric")  
| [iota](../../algorithm/iota.html "cpp/algorithm/iota")(C++11)  
---  
[ranges::iota](../../algorithm/ranges/iota.html "cpp/algorithm/ranges/iota")(C++23)  
[accumulate](../../algorithm/accumulate.html "cpp/algorithm/accumulate")  
[inner_product](../../algorithm/inner_product.html "cpp/algorithm/inner product")  
[adjacent_difference](../../algorithm/adjacent_difference.html "cpp/algorithm/adjacent difference")` `  
[partial_sum](../../algorithm/partial_sum.html "cpp/algorithm/partial sum")  
  
| [reduce](../../algorithm/reduce.html "cpp/algorithm/reduce")(C++17)  
---  
[transform_reduce](../../algorithm/transform_reduce.html "cpp/algorithm/transform reduce")(C++17)  
[inclusive_scan](../../algorithm/inclusive_scan.html "cpp/algorithm/inclusive scan")(C++17)  
[exclusive_scan](../../algorithm/exclusive_scan.html "cpp/algorithm/exclusive scan")(C++17)  
[transform_inclusive_scan](../../algorithm/transform_inclusive_scan.html "cpp/algorithm/transform inclusive scan")(C++17)  
[transform_exclusive_scan](../../algorithm/transform_exclusive_scan.html "cpp/algorithm/transform exclusive scan")(C++17)  
  
[C-style checked integer arithmetic](../../numeric.html#Checked_integer_arithmetic "cpp/numeric")  
| [ckd_add](../ckd_add.html "cpp/numeric/ckd add")(C++26)  
---  
[ckd_sub](../ckd_sub.html "cpp/numeric/ckd sub")(C++26)  
  
| [ckd_mul](../ckd_mul.html "cpp/numeric/ckd mul")(C++26)  
---  
  
  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/numeric/navbar_content&action=edit)

[`std::valarray`](../valarray.html "cpp/numeric/valarray")

[Member functions](../valarray.html#Member_functions "cpp/numeric/valarray")  
---  
| [valarray::valarray](valarray.html "cpp/numeric/valarray/valarray")  
---  
[valarray::~valarray](~valarray.html "cpp/numeric/valarray/~valarray")  
[valarray::operator=](operator=.html "cpp/numeric/valarray/operator=")  
[valarray::operator[]](operator_at.html "cpp/numeric/valarray/operator at")  
[valarray::swap](swap.html "cpp/numeric/valarray/swap")  
[valarray::size](size.html "cpp/numeric/valarray/size")  
[valarray::resize](resize.html "cpp/numeric/valarray/resize")  
[valarray::sum](sum.html "cpp/numeric/valarray/sum")  
[valarray::min](min.html "cpp/numeric/valarray/min")  
[valarray::max](max.html "cpp/numeric/valarray/max")  
[valarray::shift](shift.html "cpp/numeric/valarray/shift")  
[valarray::cshift](cshift.html "cpp/numeric/valarray/cshift")  
[valarray::apply](apply.html "cpp/numeric/valarray/apply")  
  
  
  
| [valarray::operator+valarray::operator-valarray::operator~valarray::operator!](operator_arith.html "cpp/numeric/valarray/operator arith")  
---  
**valarray::operator+= valarray::operator-=valarray::operator*=valarray::operator/=valarray::operator%=valarray::operator&=valarray::operator|=valarray::operator^=valarray::operator<<=valarray::operator>>=**  
  
[Non-member functions](../valarray.html#Non-member_functions "cpp/numeric/valarray")  
| [swap(std::valarray)](swap2.html "cpp/numeric/valarray/swap2")(C++11)  
---  
[begin(std::valarray)](begin2.html "cpp/numeric/valarray/begin2")(C++11)` `  
[end(std::valarray)](end2.html "cpp/numeric/valarray/end2")(C++11)  
[abs](abs.html "cpp/numeric/valarray/abs")  
[exp](exp.html "cpp/numeric/valarray/exp")  
[log](log.html "cpp/numeric/valarray/log")  
[log10](log10.html "cpp/numeric/valarray/log10")  
[pow](pow.html "cpp/numeric/valarray/pow")  
[sqrt](sqrt.html "cpp/numeric/valarray/sqrt")  
[sin](sin.html "cpp/numeric/valarray/sin")  
[cos](cos.html "cpp/numeric/valarray/cos")  
[tan](tan.html "cpp/numeric/valarray/tan")  
[asin](asin.html "cpp/numeric/valarray/asin")  
[acos](acos.html "cpp/numeric/valarray/acos")  
[atan](atan.html "cpp/numeric/valarray/atan")  
[atan2](atan2.html "cpp/numeric/valarray/atan2")  
[sinh](sinh.html "cpp/numeric/valarray/sinh")  
[cosh](cosh.html "cpp/numeric/valarray/cosh")  
[tanh](tanh.html "cpp/numeric/valarray/tanh")  
  
| [operator*operator/operator%operator+operator-operator^operator&operator|operator<<operator>>operator&&operator||](operator_arith3.html "cpp/numeric/valarray/operator arith3")  
---  
[operator==operator!=operator<operator>operator<=operator>=](operator_cmp.html "cpp/numeric/valarray/operator cmp")  
  
  
  
[Helper classes](../valarray.html#Helper_classes "cpp/numeric/valarray")  
| [slice_array](slice_array.html "cpp/numeric/valarray/slice array")  
---  
[gslice_array](gslice_array.html "cpp/numeric/valarray/gslice array")  
[indirect_array](indirect_array.html "cpp/numeric/valarray/indirect array")  
  
| [slice](slice.html "cpp/numeric/valarray/slice")  
---  
[gslice](gslice.html "cpp/numeric/valarray/gslice")  
[mask_array](mask_array.html "cpp/numeric/valarray/mask array")  
  
[Deduction guides](deduction_guides.html "cpp/numeric/valarray/deduction guides") (C++17)  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/numeric/valarray/navbar_content&action=edit)

valarray<T>& operator+=( const valarray<T>& v );  
valarray<T>& operator-=( const valarray<T>& v );  
valarray<T>& operator*=( const valarray<T>& v );  
valarray<T>& operator/=( const valarray<T>& v );  
valarray<T>& operator%=( const valarray<T>& v );  
valarray<T>& operator&=( const valarray<T>& v );  
valarray<T>& operator|=( const valarray<T>& v );  
valarray<T>& operator^=( const valarray<T>& v );  
valarray<T>& operator<<=( const valarray<T>& v );  
valarray<T>& operator>>=( const valarray<T>& v ); |  (1)  |   
---|---|---  
valarray<T>& operator+=( const T& val );  
valarray<T>& operator-=( const T& val );  
valarray<T>& operator*=( const T& val );  
valarray<T>& operator/=( const T& val );  
valarray<T>& operator%=( const T& val );  
valarray<T>& operator&=( const T& val );  
valarray<T>& operator|=( const T& val );  
valarray<T>& operator^=( const T& val );  
valarray<T>& operator<<=( const T& val );  
valarray<T>& operator>>=( const T& val ); |  (2)  |   
| |   
  
Applies compound assignment operators to each element in the numeric array. 

1) Each element is assigned value obtained by applying the corresponding operator to the previous value of the element and corresponding element from v.

The behavior is undefined if size() != v.size().

The behavior is undefined if any of the values in v is computed during the assignment and depends on any of the values in *this, that is, the expression on the right side of the assignment refers to a variable in the left side of the assignment.

2) Each element is assigned value obtained by applying the corresponding operator to the previous value of the element and the value of val.

## Contents

  * [1 Parameters](operator_arith2.html#Parameters)
  * [2 Return value](operator_arith2.html#Return_value)
  * [3 Exceptions](operator_arith2.html#Exceptions)
  * [4 Notes](operator_arith2.html#Notes)
  * [5 Example](operator_arith2.html#Example)
  * [6 See also](operator_arith2.html#See_also)

  
---  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/numeric/valarray/operator_arith2&action=edit&section=1 "Edit section: Parameters")] Parameters

v  |  \-  |  another numeric array   
---|---|---  
val  |  \-  |  a value   
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/numeric/valarray/operator_arith2&action=edit&section=2 "Edit section: Return value")] Return value

*this

### [[edit](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/impldef_exception&action=edit&section=T-1 "Template:cpp/impldef exception")] Exceptions

May throw implementation-defined exceptions. 

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/numeric/valarray/operator_arith2&action=edit&section=3 "Edit section: Notes")] Notes

Each of the operators can only be instantiated if the following requirements are met: 

  * The indicated operator can be applied to type `T`. 
  * The result value can be unambiguously converted to `T`. 



### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/numeric/valarray/operator_arith2&action=edit&section=4 "Edit section: Example")] Example

Run this code
    
    
    #include <iostream>
    #include <string_view>
    #include <type_traits>
    #include <valarray>
     
    void o([std::string_view](../../string/basic_string_view.html) rem, auto const& v, bool nl = false)
    {
        if constexpr ([std::is_scalar_v](../../types/is_scalar.html)<[std::decay_t](../../types/decay.html)<decltype(v)>>)
            [std::cout](../../io/cout.html) << rem << " : " << v;
        else
        {
            for ([std::cout](../../io/cout.html) << rem << " : { "; auto const e : v)
                [std::cout](../../io/cout.html) << e << ' ';
            [std::cout](../../io/cout.html) << '}';
        }
        [std::cout](../../io/cout.html) << (nl ? "\n" : ";  ");
    }
     
    int main()
    {
        [std::valarray](../valarray.html)<int> x, y;
     
        o("x", x = {1, 2, 3, 4}), o("y", y = {4, 3, 2, 1}), o("x += y", x += y, 1);
        o("x", x = {4, 3, 2, 1}), o("y", y = {3, 2, 1, 0}), o("x -= y", x -= y, 1);
        o("x", x = {1, 2, 3, 4}), o("y", y = {5, 4, 3, 2}), o("x *= y", x *= y, 1);
        o("x", x = {1, 3, 4, 7}), o("y", y = {1, 1, 3, 5}), o("x &= y", x &= y, 1);
        o("x", x = {0, 1, 2, 4}), o("y", y = {4, 3, 2, 1}), o("x <<=y", x <<=y, 1);
     
        [std::cout](../../io/cout.html) << '\n';
     
        o("x", x = {1, 2, 3, 4}), o("x += 5", x += 5, 1);
        o("x", x = {1, 2, 3, 4}), o("x *= 2", x *= 2, 1);
        o("x", x = {8, 6, 4, 2}), o("x /= 2", x /= 2, 1);
        o("x", x = {8, 4, 2, 1}), o("x >>=1", x >>=1, 1);
    }

Output: 
    
    
    x : { 1 2 3 4 };  y : { 4 3 2 1 };  x += y : { 5 5 5 5 }
    x : { 4 3 2 1 };  y : { 3 2 1 0 };  x -= y : { 1 1 1 1 }
    x : { 1 2 3 4 };  y : { 5 4 3 2 };  x *= y : { 5 8 9 8 }
    x : { 1 3 4 7 };  y : { 1 1 3 5 };  x &= y : { 1 1 0 5 }
    x : { 0 1 2 4 };  y : { 4 3 2 1 };  x <<=y : { 0 8 8 8 }
     
    x : { 1 2 3 4 };  x += 5 : { 6 7 8 9 }
    x : { 1 2 3 4 };  x *= 2 : { 2 4 6 8 }
    x : { 8 6 4 2 };  x /= 2 : { 4 3 2 1 }
    x : { 8 4 2 1 };  x >>=1 : { 4 2 1 0 }

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/numeric/valarray/operator_arith2&action=edit&section=5 "Edit section: See also")] See also

[ operator+operator-operator~operator!](operator_arith.html "cpp/numeric/valarray/operator arith") |  applies a unary arithmetic operator to each element of the valarray   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/numeric/valarray/dsc_operator_arith&action=edit)  
---|---  
[ operator+operator-operator*operator/operator%operator&operator|operator^operator<<operator>>operator&&operator||](operator_arith3.html "cpp/numeric/valarray/operator arith3") |  applies binary operators to each element of two valarrays, or a valarray and a value   
(function template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/numeric/valarray/dsc_operator_arith3&action=edit)
