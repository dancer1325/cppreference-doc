
  


[Containers library](../container.html "cpp/container")

[_node-handle_](node_handle.html "cpp/container/node handle")(C++17)  
---  
[Sequence](../container.html#Sequence_containers "cpp/container")  
[array](array.html "cpp/container/array")(C++11)  
[vector](vector.html "cpp/container/vector")  
[vector<bool>](vector_bool.html "cpp/container/vector bool")  
[inplace_vector](inplace_vector.html "cpp/container/inplace vector")(C++26)  
[hive](https://en.cppreference.com/mwiki/index.php?title=cpp/container/hive&action=edit&redlink=1 "cpp/container/hive \(page does not exist\)")(C++26)  
[deque](deque.html "cpp/container/deque")  
[forward_list](forward_list.html "cpp/container/forward list")(C++11)  
[list](list.html "cpp/container/list")  
[Associative](../container.html#Associative_containers "cpp/container")  
[set](set.html "cpp/container/set")  
[multiset](multiset.html "cpp/container/multiset")  
[map](map.html "cpp/container/map")  
[multimap](multimap.html "cpp/container/multimap")  
[Unordered associative](../container.html#Unordered_associative_containers "cpp/container")  
[unordered_set](unordered_set.html "cpp/container/unordered set")(C++11)  
[unordered_multiset](unordered_multiset.html "cpp/container/unordered multiset")(C++11)  
[unordered_map](unordered_map.html "cpp/container/unordered map")(C++11)  
[unordered_multimap](unordered_multimap.html "cpp/container/unordered multimap")(C++11)  
[Adaptors](../container.html#Container_adaptors "cpp/container")  
[stack](stack.html "cpp/container/stack")  
[queue](queue.html "cpp/container/queue")  
[priority_queue](priority_queue.html "cpp/container/priority queue")  
[flat_set](flat_set.html "cpp/container/flat set")(C++23)  
[flat_multiset](flat_multiset.html "cpp/container/flat multiset")(C++23)  
[flat_map](flat_map.html "cpp/container/flat map")(C++23)  
[flat_multimap](flat_multimap.html "cpp/container/flat multimap")(C++23)  
[Views](../container.html#Views "cpp/container")  
[span](span.html "cpp/container/span")(C++20)  
**mdspan**(C++23)  
Tables  
[Iterator invalidation](../container.html#Iterator_invalidation "cpp/container")  
[Member function table](../container.html#Member_function_table "cpp/container")  
[Non-member function table](../container.html#Non-member_function_table "cpp/container")  
  


**`std::mdspan`**

| [Member functions](mdspan.html#Member_functions "cpp/container/mdspan")  
---  
[mdspan::mdspan](mdspan/mdspan.html "cpp/container/mdspan/mdspan")  
[mdspan::operator=](mdspan/operator=.html "cpp/container/mdspan/operator=")  
[Element access](mdspan.html#Element_access "cpp/container/mdspan")  
[mdspan::operator[]](mdspan/operator_at.html "cpp/container/mdspan/operator at")  
[Observers](mdspan.html#Observers "cpp/container/mdspan")  
[mdspan::rank](mdspan/rank.html "cpp/container/mdspan/rank")  
[mdspan::rank_dynamic](mdspan/rank_dynamic.html "cpp/container/mdspan/rank dynamic")  
[mdspan::static_extent](mdspan/static_extent.html "cpp/container/mdspan/static extent")  
[mdspan::extent](mdspan/extent.html "cpp/container/mdspan/extent")  
[mdspan::size](mdspan/size.html "cpp/container/mdspan/size")  
[mdspan::empty](mdspan/empty.html "cpp/container/mdspan/empty")  
[mdspan::stride](mdspan/stride.html "cpp/container/mdspan/stride")  
[mdspan::extents](mdspan/extents_mfun.html "cpp/container/mdspan/extents mfun")  
[mdspan::data_handle](mdspan/data_handle.html "cpp/container/mdspan/data handle")  
[mdspan::mapping](mdspan/mapping.html "cpp/container/mdspan/mapping")  
[mdspan::accessor](mdspan/accessor.html "cpp/container/mdspan/accessor")  
[mdspan::is_uniquemdspan::is_exhaustivemdspan::is_stridedmdspan::is_always_uniquemdspan::is_always_exhaustivemdspan::is_always_strided](mdspan/mapping_traits.html "cpp/container/mdspan/mapping traits")` `  
  
  
  
| [Non-member functions](mdspan.html#Non-member_functions "cpp/container/mdspan")  
---  
[swap(std::mdspan)](mdspan/swap2.html "cpp/container/mdspan/swap2")  
[Subviews](mdspan.html#Subviews "cpp/container/mdspan")  
[submdspan](https://en.cppreference.com/mwiki/index.php?title=cpp/container/mdspan/submdspan&action=edit&redlink=1 "cpp/container/mdspan/submdspan \(page does not exist\)")(C++26)  
[submdspan_extents](https://en.cppreference.com/mwiki/index.php?title=cpp/container/mdspan/submdspan_extents&action=edit&redlink=1 "cpp/container/mdspan/submdspan extents \(page does not exist\)")(C++26)  
[Helper types and templates](mdspan.html#Helper_types_and_templates "cpp/container/mdspan")  
[extentsdextents](mdspan/extents.html "cpp/container/mdspan/extents")  
[dims](mdspan/extents.html "cpp/container/mdspan/extents")(C++26)  
[default_accessor](mdspan/default_accessor.html "cpp/container/mdspan/default accessor")  
[aligned_accessor](https://en.cppreference.com/mwiki/index.php?title=cpp/container/mdspan/aligned_accessor&action=edit&redlink=1 "cpp/container/mdspan/aligned accessor \(page does not exist\)")(C++26)  
[Layout mapping policies](mdspan.html#Layout_mapping_policies "cpp/container/mdspan")  
[layout_left](mdspan/layout_left.html "cpp/container/mdspan/layout left")  
[layout_right](mdspan/layout_right.html "cpp/container/mdspan/layout right")  
[layout_stride](mdspan/layout_stride.html "cpp/container/mdspan/layout stride")  
[layout_left_padded](mdspan/layout_left_padded.html "cpp/container/mdspan/layout left padded")(C++26)  
[layout_right_padded](mdspan/layout_right_padded.html "cpp/container/mdspan/layout right padded")(C++26)  
[Subviews helpers](mdspan.html#Subviews_helpers "cpp/container/mdspan")  
[full_extent](mdspan/full_extent.html "cpp/container/mdspan/full extent")(C++26)  
[strided_slice](mdspan/strided_slice.html "cpp/container/mdspan/strided slice")(C++26)  
[submdspan_mapping_result](mdspan/submdspan_mapping_result.html "cpp/container/mdspan/submdspan mapping result")(C++26)  
[Deduction guides](mdspan/deduction_guides.html "cpp/container/mdspan/deduction guides")  
  


Defined in header `[<mdspan>](../header/mdspan.html "cpp/header/mdspan")` |  |   
---|---|---  
template<  
class T,  
class Extents,  
class LayoutPolicy = [std::layout_right](mdspan/layout_right.html),  
class AccessorPolicy = [std::default_accessor](mdspan/default_accessor.html)<T>  
> class mdspan; |  |  (since C++23)  
| |   
  
`std::mdspan` is a multidimensional array view that maps a multidimensional index to an element of the array. The mapping and element access policies are configurable, and the underlying array need not be contiguous or even exist in memory at all. 

Each specialization `MDS` of `mdspan` models [`copyable`](../concepts/copyable.html "cpp/concepts/copyable") and satisfies: 

    

  * [std::is_nothrow_move_constructible_v](../types/is_move_constructible.html)<MDS> is true, 
  * [std::is_nothrow_move_assignable_v](../types/is_move_assignable.html)<MDS> is true, and 
  * [std::is_nothrow_swappable_v](../types/is_swappable.html)<MDS> is true. 



A specialization of `mdspan` is a [TriviallyCopyable](../named_req/TriviallyCopyable.html "cpp/named req/TriviallyCopyable") type if its `accessor_type`, `mapping_type` and `data_handle_type` are [TriviallyCopyable](../named_req/TriviallyCopyable.html "cpp/named req/TriviallyCopyable") types. 

## Contents

  * [1 Template parameters](mdspan.html#Template_parameters)
  * [2 Member types](mdspan.html#Member_types)
  * [3 Data members](mdspan.html#Data_members)
  * [4 Member functions](mdspan.html#Member_functions)
    * [4.1 Element access](mdspan.html#Element_access)
    * [4.2 Observers](mdspan.html#Observers)
  * [5 Non-member functions](mdspan.html#Non-member_functions)
    * [5.1 Subviews](mdspan.html#Subviews)
  * [6 Helper types and templates](mdspan.html#Helper_types_and_templates)
    * [6.1 Layout mapping policies](mdspan.html#Layout_mapping_policies)
    * [6.2 Subviews helpers](mdspan.html#Subviews_helpers)
  * [7 Deduction guides](mdspan.html#Deduction_guides)
  * [8 Notes](mdspan.html#Notes)
  * [9 Example](mdspan.html#Example)
  * [10 See also](mdspan.html#See_also)

  
---  
  
### Template parameters

T  |  \-  |  element type; a complete object type that is neither an abstract class type nor an array type.   
---|---|---  
Extents  |  \-  |  specifies number of dimensions, their sizes, and which are known at compile time. Must be a specialization of std::extents.   
LayoutPolicy  |  \-  |  specifies how to convert multidimensional index to underlying 1D index (column-major 3D array, symmetric triangular 2D matrix, etc). Must satisfy the requirements of [LayoutMappingPolicy](../named_req/LayoutMappingPolicy.html "cpp/named req/LayoutMappingPolicy").   
AccessorPolicy  |  \-  |  specifies how to convert underlying 1D index to a reference to T. Must satisfy the constraint that [std::is_same_v](../types/is_same.html)<T, typename AccessorPolicy​::​element_type> is true. Must satisfy the requirements of [AccessorPolicy](../named_req/AccessorPolicy.html "cpp/named req/AccessorPolicy").   
  
### Member types

Member  |  Definition   
---|---  
`extents_type` |  `Extents`  
`layout_type` |  `LayoutPolicy`  
`accessor_type` |  `AccessorPolicy`  
`mapping_type` |  LayoutPolicy::mapping<Extents>  
`element_type` |  `T`  
`value_type` |  [std::remove_cv_t](../types/remove_cv.html)<T>  
`index_type` |  Extents::index_type  
`size_type` |  Extents::size_type  
`rank_type` |  Extents::rank_type  
`data_handle_type` |  AccessorPolicy::data_handle_type  
`reference` |  AccessorPolicy::reference  
  
### Data members

Member  |  Description   
---|---  
`accessor_type` `_acc__` (private) |  the accessor  
(exposition-only member object*)  
`mapping_type` `_map__` (private) |  the layout mapping  
(exposition-only member object*)  
`data_handle_type` `_ptr__` (private) |  the underlying data handle  
(exposition-only member object*)  
  
### Member functions

[ (constructor)](mdspan/mdspan.html "cpp/container/mdspan/mdspan") |  constructs an `mdspan`   
(public member function)   
---|---  
[ operator=](mdspan/operator=.html "cpp/container/mdspan/operator=") |  assigns an `mdspan`   
(public member function)   
  
#####  Element access   
  
[ operator[]](mdspan/operator_at.html "cpp/container/mdspan/operator at") |  accesses an element at the specified multidimensional index   
(public member function)   
  
#####  Observers   
  
[ rank](mdspan/rank.html "cpp/container/mdspan/rank")[static] |  returns the rank of a `mdspan`   
(public static member function)   
[ rank_dynamic](mdspan/rank_dynamic.html "cpp/container/mdspan/rank dynamic")[static] |  returns the dynamic rank of a `mdspan`   
(public static member function)   
[ static_extent](mdspan/static_extent.html "cpp/container/mdspan/static extent")[static] |  returns the static extent size of a `mdspan` at a given rank index   
(public static member function)   
[ extent](mdspan/extent.html "cpp/container/mdspan/extent") |  returns the extent of a `mdspan` at a given rank index   
(public member function)   
[ size](mdspan/size.html "cpp/container/mdspan/size") |  returns the size of the multidimensional index space   
(public member function)   
[ empty](mdspan/empty.html "cpp/container/mdspan/empty") |  checks if the size of the index space is zero   
(public member function)   
[ stride](mdspan/stride.html "cpp/container/mdspan/stride") |  obtains the stride along the specified dimension   
(public member function)   
[ extents](mdspan/extents_mfun.html "cpp/container/mdspan/extents mfun") |  obtains the extents object   
(public member function)   
[ data_handle](mdspan/data_handle.html "cpp/container/mdspan/data handle") |  obtains the pointer to the underlying 1D sequence   
(public member function)   
[ mapping](mdspan/mapping.html "cpp/container/mdspan/mapping") |  obtains the mapping object   
(public member function)   
[ accessor](mdspan/accessor.html "cpp/container/mdspan/accessor") |  obtains the accessor policy object   
(public member function)   
[ is_unique](mdspan/mapping_traits.html "cpp/container/mdspan/mapping traits") |  determines if this mdspan's mapping is unique (every combination of indices maps to a different underlying element)   
(public member function)   
[ is_exhaustive](mdspan/mapping_traits.html "cpp/container/mdspan/mapping traits") |  determines if this mdspan's mapping is exhaustive (every underlying element can be accessed with some combination of indices)   
(public member function)   
[ is_strided](mdspan/mapping_traits.html "cpp/container/mdspan/mapping traits") |  determines if this mdspan's mapping is strided (in each dimension, incrementing an index jumps over the same number of underlying elements every time)   
(public member function)   
[ is_always_unique](mdspan/mapping_traits.html "cpp/container/mdspan/mapping traits")[static] |  determines if this mdspan's layout mapping is always unique   
(public static member function)   
[ is_always_exhaustive](mdspan/mapping_traits.html "cpp/container/mdspan/mapping traits")[static] |  determines if this mdspan's layout mapping is always exhaustive   
(public static member function)   
[ is_always_strided](mdspan/mapping_traits.html "cpp/container/mdspan/mapping traits")[static] |  determines if this mdspan's layout mapping is always strided   
(public static member function)   
  
### Non-member functions

[ std::swap(std::mdspan)](mdspan/swap2.html "cpp/container/mdspan/swap2")(C++23) |  specializes the [std::swap](../utility/swap.html "cpp/algorithm/swap") algorithm for mdspan   
(function template)   
---|---  
  
#####  Subviews   
  
[ submdspan](https://en.cppreference.com/mwiki/index.php?title=cpp/container/mdspan/submdspan&action=edit&redlink=1 "cpp/container/mdspan/submdspan \(page does not exist\)")(C++26) |  returns a view of a subset of an existing `mdspan`   
(function template)   
[ submdspan_extents](https://en.cppreference.com/mwiki/index.php?title=cpp/container/mdspan/submdspan_extents&action=edit&redlink=1 "cpp/container/mdspan/submdspan extents \(page does not exist\)")(C++26) |  creates new extents from the existing extents and slice specifiers   
(function template)   
  
### Helper types and templates

[ extents](mdspan/extents.html "cpp/container/mdspan/extents")(C++23) |  a descriptor of a multidimensional index space of some rank   
(class template)   
---|---  
[ dextentsdims](mdspan/extents.html "cpp/container/mdspan/extents")(C++23)(C++26) |  convenience alias template for an all-dynamic std::extents  
(alias template)  
[ default_accessor](mdspan/default_accessor.html "cpp/container/mdspan/default accessor")(C++23) |  a type for indexed access to elements of `mdspan`   
(class template)   
[ aligned_accessor](https://en.cppreference.com/mwiki/index.php?title=cpp/container/mdspan/aligned_accessor&action=edit&redlink=1 "cpp/container/mdspan/aligned accessor \(page does not exist\)")(C++26) |  a type for aligned access to elements of `mdspan`   
(class template)   
  
#####  Layout mapping policies   
  
[ layout_left](mdspan/layout_left.html "cpp/container/mdspan/layout left")(C++23) |  column-major multidimensional array layout mapping policy; leftmost extent has stride `1`   
(class)   
[ layout_right](mdspan/layout_right.html "cpp/container/mdspan/layout right")(C++23) |  row-major multidimensional array layout mapping policy; rightmost extent has stride `1`   
(class)   
[ layout_stride](mdspan/layout_stride.html "cpp/container/mdspan/layout stride")(C++23) |  a layout mapping policy with user-defined strides   
(class)   
[ layout_left_padded](mdspan/layout_left_padded.html "cpp/container/mdspan/layout left padded")(C++26) |  column-major layout mapping policy with padding stride that can be greater than or equal to the leftmost extent   
(class template)   
[ layout_right_padded](mdspan/layout_right_padded.html "cpp/container/mdspan/layout right padded")(C++26) |  row-major layout mapping policy with padding stride that can be greater than or equal to the rightmost extent   
(class template)   
  
#####  Subviews helpers   
  
[ full_extentfull_extent_t](mdspan/full_extent.html "cpp/container/mdspan/full extent")(C++26) |  a slice specifier tag describing full range of indices in the specified extent.  
(tag)  
[ strided_slice](mdspan/strided_slice.html "cpp/container/mdspan/strided slice")(C++26) |  a slice specifier representing a set of regularly spaced indices as indicated by an offset, an extent, and a stride   
(class template)   
[ submdspan_mapping_result](mdspan/submdspan_mapping_result.html "cpp/container/mdspan/submdspan mapping result")(C++26) |  a return type of the overloads of `submdspan_mapping`   
(class template)   
  
### [Deduction guides](mdspan/deduction_guides.html "cpp/container/mdspan/deduction guides")

### Notes

[Feature-test](../utility/feature_test.html "cpp/utility/feature test") macro  | Value | Std | Feature   
---|---|---|---  
[`__cpp_lib_mdspan`](../experimental/feature_test.html#cpp_lib_mdspan "cpp/feature test") | [`202207L`](../compiler_support/23.html#cpp_lib_mdspan_202207L "cpp/compiler support/23") | (C++23) | `std::mdspan`  
[`__cpp_lib_submdspan`](../experimental/feature_test.html#cpp_lib_submdspan "cpp/feature test") | [`202306L`](../compiler_support/26.html#cpp_lib_submdspan_202306L "cpp/compiler support/26") | (C++26) | std::submdspan  
[`202403L`](../compiler_support/26.html#cpp_lib_submdspan_202403L "cpp/compiler support/26") | (C++26) | `std::mdspan` padded layouts   
[`__cpp_lib_aligned_accessor`](../experimental/feature_test.html#cpp_lib_aligned_accessor "cpp/feature test") | [`202411L`](../compiler_support/26.html#cpp_lib_aligned_accessor_202411L "cpp/compiler support/26") | (C++26) | std::aligned_accessor  
  
### Example

Can be previewed on [Compiler Explorer](https://godbolt.org/z/6WqGonPTn).

Run this code
    
    
    #include <cstddef>
    #include <mdspan>
    #include <print>
    #include <vector>
     
    int main()
    {
        [std::vector](vector.html) v{1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
     
        // View data as contiguous memory representing 2 rows of 6 ints each
        auto ms2 = std::mdspan(v.data(), 2, 6);
        // View the same data as a 3D array 2 x 3 x 2
        auto ms3 = std::mdspan(v.data(), 2, 3, 2);
     
        // Write data using 2D view
        for ([std::size_t](../types/size_t.html) i = 0; i != ms2.extent(0); i++)
            for ([std::size_t](../types/size_t.html) j = 0; j != ms2.extent(1); j++)
                ms2[i, j] = i * 1000 + j;
     
        // Read back using 3D view
        for ([std::size_t](../types/size_t.html) i = 0; i != ms3.extent(0); i++)
        {
            [std::println](../io/println.html)("slice @ i = {}", i);
            for ([std::size_t](../types/size_t.html) j = 0; j != ms3.extent(1); j++)
            {
                for ([std::size_t](../types/size_t.html) k = 0; k != ms3.extent(2); k++)
                    [std::print](../io/print.html)("{} ", ms3[i, j, k]);
                [std::println](../io/println.html)("");
            }
        }
    }

Output: 
    
    
    slice @ i = 0
    0 1
    2 3
    4 5
    slice @ i = 1
    1000 1001
    1002 1003
    1004 1005

### See also

[ span](span.html "cpp/container/span")(C++20) |  a non-owning view over a contiguous sequence of objects   
(class template)   
---|---  
[ valarray](../numeric/valarray.html "cpp/numeric/valarray") |  numeric arrays, array masks and array slices   
(class template) 
  *[Value]: The year/month in which the feature was adopted. The hyperlink under each value opens a compiler support page with entry for given feature.
  *[Std]: Standard in which the feature is introduced; DR means defect report against that revision
