[C++](../../cpp.html "cpp")

[Compiler support](../compiler_support.html "cpp/compiler support")  
---  
[Freestanding and hosted](../freestanding.html "cpp/freestanding")  
[Language](../language.html "cpp/language")  
[Standard library](../standard_library.html "cpp/standard library")  
[Standard library headers](../headers.html "cpp/header")  
[Named requirements](../iterator/concepts.html "cpp/named req")  
[Feature test macros](../experimental/feature_test.html "cpp/feature test") (C++20)  
[Language support library](../utility.html#Language_support "cpp/utility")  
[Concepts library](../concepts.html "cpp/concepts") (C++20)  
[Diagnostics library](../error.html "cpp/error")  
[Memory management library](../memory.html "cpp/memory")  
[Metaprogramming library](../meta.html "cpp/meta") (C++11)  
[General utilities library](../utility.html "cpp/utility")  
[Containers library](../container.html "cpp/container")  
[Iterators library](../iterator.html "cpp/iterator")  
[Ranges library](../ranges.html "cpp/ranges") (C++20)  
[Algorithms library](../algorithm.html "cpp/algorithm")  
[Strings library](../string.html "cpp/string")  
[Text processing library](../text.html "cpp/text")  
[Numerics library](../numeric.html "cpp/numeric")  
[Date and time library](../chrono.html "cpp/chrono")  
[Input/output library](../io.html "cpp/io")  
[Filesystem library](../filesystem.html "cpp/filesystem") (C++17)  
[Concurrency support library](../atomic.html "cpp/thread") (C++11)  
[Execution control library](../experimental/execution.html "cpp/execution") (C++26)  
[Technical specifications](../experimental.html "cpp/experimental")  
[Symbols index](../symbol_index.html "cpp/symbol index")  
[External libraries](../links/libs.html "cpp/links/libs")  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/navbar_content&action=edit)

[Containers library](../container.html "cpp/container")

[_node-handle_](node_handle.html "cpp/container/node handle")(C++17)  
---  
[Sequence](../container.html#Sequence_containers "cpp/container")  
[array](array.html "cpp/container/array")(C++11)  
[vector](vector.html "cpp/container/vector")  
[vector<bool>](vector_bool.html "cpp/container/vector bool")  
[inplace_vector](inplace_vector.html "cpp/container/inplace vector")(C++26)  
[hive](https://en.cppreference.com/mwiki/index.php?title=cpp/container/hive&action=edit&redlink=1 "cpp/container/hive \(page does not exist\)")(C++26)  
[deque](deque.html "cpp/container/deque")  
[forward_list](forward_list.html "cpp/container/forward list")(C++11)  
[list](list.html "cpp/container/list")  
[Associative](../container.html#Associative_containers "cpp/container")  
[set](set.html "cpp/container/set")  
[multiset](multiset.html "cpp/container/multiset")  
[map](map.html "cpp/container/map")  
[multimap](multimap.html "cpp/container/multimap")  
[Unordered associative](../container.html#Unordered_associative_containers "cpp/container")  
[unordered_set](unordered_set.html "cpp/container/unordered set")(C++11)  
[unordered_multiset](unordered_multiset.html "cpp/container/unordered multiset")(C++11)  
[unordered_map](unordered_map.html "cpp/container/unordered map")(C++11)  
[unordered_multimap](unordered_multimap.html "cpp/container/unordered multimap")(C++11)  
[Adaptors](../container.html#Container_adaptors "cpp/container")  
[stack](stack.html "cpp/container/stack")  
[queue](queue.html "cpp/container/queue")  
**priority_queue**  
[flat_set](flat_set.html "cpp/container/flat set")(C++23)  
[flat_multiset](flat_multiset.html "cpp/container/flat multiset")(C++23)  
[flat_map](flat_map.html "cpp/container/flat map")(C++23)  
[flat_multimap](flat_multimap.html "cpp/container/flat multimap")(C++23)  
[Views](../container.html#Views "cpp/container")  
[span](span.html "cpp/container/span")(C++20)  
[mdspan](mdspan.html "cpp/container/mdspan")(C++23)  
Tables  
[Iterator invalidation](../container.html#Iterator_invalidation "cpp/container")  
[Member function table](../container.html#Member_function_table "cpp/container")  
[Non-member function table](../container.html#Non-member_function_table "cpp/container")  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/navbar_content&action=edit)

`**std::priority_queue**`

[Member functions](priority_queue.html#Member_functions "cpp/container/priority queue")  
---  
[priority_queue::priority_queue](priority_queue/priority_queue.html "cpp/container/priority queue/priority queue")  
[priority_queue::~priority_queue](priority_queue/~priority_queue.html "cpp/container/priority queue/~priority queue")  
[priority_queue::operator=](priority_queue/operator=.html "cpp/container/priority queue/operator=")  
[Element access](priority_queue.html#Element_access "cpp/container/priority queue")  
[priority_queue::top](priority_queue/top.html "cpp/container/priority queue/top")  
[Capacity](priority_queue.html#Capacity "cpp/container/priority queue")  
[priority_queue::empty](priority_queue/empty.html "cpp/container/priority queue/empty")  
[priority_queue::size](priority_queue/size.html "cpp/container/priority queue/size")  
[Modifiers](priority_queue.html#Modifiers "cpp/container/priority queue")  
[priority_queue::push](priority_queue/push.html "cpp/container/priority queue/push")  
[priority_queue::push_range](priority_queue/push_range.html "cpp/container/priority queue/push range")(C++23)  
[priority_queue::emplace](priority_queue/emplace.html "cpp/container/priority queue/emplace")(C++11)  
[priority_queue::pop](priority_queue/pop.html "cpp/container/priority queue/pop")  
[priority_queue::swap](priority_queue/swap.html "cpp/container/priority queue/swap")(C++11)  
[Non-member functions](priority_queue.html#Non-member_functions "cpp/container/priority queue")  
[swap(std::priority_queue)](priority_queue/swap2.html "cpp/container/priority queue/swap2")(C++11)  
[Helper classes](priority_queue.html#Helper_classes "cpp/container/priority queue")  
[uses_allocator<std::priority_queue>](priority_queue/uses_allocator.html "cpp/container/priority queue/uses allocator")(C++11)  
[formatter<std::priority_queue>](priority_queue/formatter.html "cpp/container/priority queue/formatter")(C++23)  
[Deduction guides](priority_queue/deduction_guides.html "cpp/container/priority queue/deduction guides")(C++17)  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/priority_queue/navbar_content&action=edit)

Defined in header `[<queue>](../header/queue.html "cpp/header/queue")` |  |   
---|---|---  
template<  
class T,  
class Container = [std::vector](vector.html)<T>,  
class Compare = [std::less](../utility/functional/less.html)<typename Container::value_type>  
> class priority_queue; |  |   
| |   
  
The [priority queue](https://en.wikipedia.org/wiki/Queue_\(abstract_data_type\) "enwiki:Queue \(abstract data type\)") is a [container adaptor](../container.html#Container_adaptors "cpp/container") that provides constant time lookup of the largest (by default) element, at the expense of logarithmic insertion and extraction. 

A user-provided `Compare` can be supplied to change the ordering, e.g. using [std::greater](../utility/functional/greater.html)<T> would cause the smallest element to appear as the [top()](priority_queue/top.html "cpp/container/priority queue/top"). 

Working with a `priority_queue` is similar to managing a [heap](../algorithm/make_heap.html "cpp/algorithm/make heap") in some random access container, with the benefit of not being able to accidentally invalidate the heap. 

All member functions of `std::priority_queue` are constexpr: it is possible to create and use `std::priority_queue` objects in the evaluation of a constant expression.However, `std::priority_queue` objects generally cannot be constexpr, because any dynamically allocated storage must be released in the same evaluation of constant expression. | (since C++26)  
---|---  
  
## Contents

  * [1 Template parameters](priority_queue.html#Template_parameters)
  * [2 Member types](priority_queue.html#Member_types)
  * [3 Member objects](priority_queue.html#Member_objects)
  * [4 Member functions](priority_queue.html#Member_functions)
    * [4.1 Element access](priority_queue.html#Element_access)
    * [4.2 Capacity](priority_queue.html#Capacity)
    * [4.3 Modifiers](priority_queue.html#Modifiers)
  * [5 Non-member functions](priority_queue.html#Non-member_functions)
  * [6 Helper classes](priority_queue.html#Helper_classes)
  * [7 Deduction guides](priority_queue.html#Deduction_guides)
  * [8 Notes](priority_queue.html#Notes)
  * [9 Example](priority_queue.html#Example)
  * [10 Defect reports](priority_queue.html#Defect_reports)
  * [11 See also](priority_queue.html#See_also)

  
---  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/priority_queue&action=edit&section=1 "Edit section: Template parameters")] Template parameters

T  |  \-  |  The type of the stored elements. The program is ill-formed if `T` is not the same type as `Container::value_type`.   
---|---|---  
Container  |  \-  |  The type of the underlying container to use to store the elements. The container must satisfy the requirements of [SequenceContainer](../named_req/SequenceContainer.html "cpp/named req/SequenceContainer"), and its iterators must satisfy the requirements of [LegacyRandomAccessIterator](../named_req/RandomAccessIterator.html "cpp/named req/RandomAccessIterator"). Additionally, it must provide the following functions with the [usual semantics](../named_req/SequenceContainer.html#Optional_operations "cpp/named req/SequenceContainer"): 

  * front(), e.g., [std::vector::front()](vector/front.html "cpp/container/vector/front"), 
  * push_back(), e.g., [std::deque::push_back()](deque/push_back.html "cpp/container/deque/push back"), 
  * pop_back(), e.g., [std::vector::pop_back()](vector/pop_back.html "cpp/container/vector/pop back"). 

The standard containers [std::vector](vector.html "cpp/container/vector") (not including [`std::vector<bool>`](vector_bool.html "cpp/container/vector bool")) and [std::deque](deque.html "cpp/container/deque") satisfy these requirements.   
Compare  |  \-  |  A [Compare](../named_req/Compare.html "cpp/named req/Compare") type providing a strict weak ordering. Note that the [Compare](../named_req/Compare.html "cpp/named req/Compare") parameter is defined such that it returns true if its first argument comes _before_ its second argument in a weak ordering. But because the priority queue outputs largest elements first, the elements that "come before" are actually output last. That is, the front of the queue contains the "last" element according to the weak ordering imposed by [Compare](../named_req/Compare.html "cpp/named req/Compare").   
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/priority_queue&action=edit&section=2 "Edit section: Member types")] Member types

Member type  |  Definition   
---|---  
`container_type` |  `Container`[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_container_type&action=edit)  
`value_compare` |  `Compare`  
`value_type` |  `Container::value_type`[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_value_type&action=edit)  
`size_type` |  Container::size_type[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_size_type&action=edit)  
`reference` |  `Container::reference`[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_reference&action=edit)  
`const_reference` |  `Container::const_reference`[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_const_reference&action=edit)  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/priority_queue&action=edit&section=3 "Edit section: Member objects")] Member objects

Member name  |  Definition   
---|---  
Container c |  the underlying container   
(protected member object) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_c&action=edit)  
Compare comp |  the comparison function object   
(protected member object)  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/priority_queue&action=edit&section=4 "Edit section: Member functions")] Member functions

[ (constructor)](priority_queue/priority_queue.html "cpp/container/priority queue/priority queue") |  constructs the `priority_queue`   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_constructor&action=edit)  
---|---  
[ (destructor)](priority_queue/~priority_queue.html "cpp/container/priority queue/~priority queue") |  destructs the `priority_queue`   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_destructor&action=edit)  
[ operator=](priority_queue/operator=.html "cpp/container/priority queue/operator=") |  assigns values to the container adaptor   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_operator%3D&action=edit)  
  
#####  Element access   
  
[ top](priority_queue/top.html "cpp/container/priority queue/top") |  accesses the top element   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_top&action=edit)  
  
#####  Capacity   
  
[ empty](priority_queue/empty.html "cpp/container/priority queue/empty") |  checks whether the container adaptor is empty   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_empty&action=edit)  
[ size](priority_queue/size.html "cpp/container/priority queue/size") |  returns the number of elements   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_size&action=edit)  
  
#####  Modifiers   
  
[ push](priority_queue/push.html "cpp/container/priority queue/push") |  inserts element and sorts the underlying container   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_push&action=edit)  
[ push_range](priority_queue/push_range.html "cpp/container/priority queue/push range")(C++23) |  inserts a range of elements and sorts the underlying container   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_push_range&action=edit)  
[ emplace](priority_queue/emplace.html "cpp/container/priority queue/emplace")(C++11) |  constructs element in-place and sorts the underlying container   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_emplace&action=edit)  
[ pop](priority_queue/pop.html "cpp/container/priority queue/pop") |  removes the top element   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_pop&action=edit)  
[ swap](priority_queue/swap.html "cpp/container/priority queue/swap")(C++11) |  swaps the contents   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_swap&action=edit)  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/priority_queue&action=edit&section=5 "Edit section: Non-member functions")] Non-member functions

[ std::swap(std::priority_queue)](priority_queue/swap2.html "cpp/container/priority queue/swap2")(C++11) |  specializes the [std::swap](../utility/swap.html "cpp/algorithm/swap") algorithm   
(function template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_swap2&action=edit)  
---|---  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/priority_queue&action=edit&section=6 "Edit section: Helper classes")] Helper classes

[ std::uses_allocator<std::priority_queue>](priority_queue/uses_allocator.html "cpp/container/priority queue/uses allocator")(C++11) |  specializes the [std::uses_allocator](../memory/uses_allocator.html "cpp/memory/uses allocator") type trait   
(class template specialization) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_uses_allocator&action=edit)  
---|---  
[ std::formatter<std::priority_queue>](priority_queue/formatter.html "cpp/container/priority queue/formatter")(C++23) |  formatting support for `std::priority_queue`   
(class template specialization) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_adaptor_formatter&action=edit)  
  
###  [Deduction guides](priority_queue/deduction_guides.html "cpp/container/priority queue/deduction guides")

| (since C++17)  
---|---  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/priority_queue&action=edit&section=8 "Edit section: Notes")] Notes

[Feature-test](../utility/feature_test.html "cpp/utility/feature test") macro  | Value | Std | Feature   
---|---|---|---  
[`__cpp_lib_containers_ranges`](../experimental/feature_test.html#cpp_lib_containers_ranges "cpp/feature test") | [`202202L`](../compiler_support/23.html#cpp_lib_containers_ranges_202202L "cpp/compiler support/23") | (C++23) | [Ranges-aware](../ranges/to.html#container_compatible_range "cpp/ranges/to") construction and insertion for containers   
[`__cpp_lib_constexpr_queue`](../experimental/feature_test.html#cpp_lib_constexpr_queue "cpp/feature test") | [`202502L`](../compiler_support/26.html#cpp_lib_constexpr_queue_202502L "cpp/compiler support/26") | (C++26) | constexpr `std::priority_queue`  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/priority_queue&action=edit&section=9 "Edit section: Example")] Example

Run this code
    
    
    #include <functional>
    #include <iostream>
    #include <queue>
    #include <string_view>
    #include <vector>
     
    template<typename T>
    void pop_println([std::string_view](../string/basic_string_view.html) rem, T& pq)
    {
        [std::cout](../io/cout.html) << rem << ": ";
        for (; !pq.empty(); pq.pop())
            [std::cout](../io/cout.html) << pq.top() << ' ';
        [std::cout](../io/cout.html) << '\n';
    }
     
    template<typename T>
    void println([std::string_view](../string/basic_string_view.html) rem, const T& v)
    {
        [std::cout](../io/cout.html) << rem << ": ";
        for (const auto& e : v)
            [std::cout](../io/cout.html) << e << ' ';
        [std::cout](../io/cout.html) << '\n';
    }
     
    int main()
    {
        const auto data = {1, 8, 5, 6, 3, 4, 0, 9, 7, 2};
        println("data", data);
     
        std::priority_queue<int> max_priority_queue;
     
        // Fill the priority queue.
        for (int n : data)
            max_priority_queue.push(n);
     
        pop_println("max_priority_queue", max_priority_queue);
     
        // std::greater<int> makes the max priority queue act as a min priority queue.
        std::priority_queue<int, [std::vector](vector.html)<int>, [std::greater](../utility/functional/greater.html)<int>>
            min_priority_queue1(data.begin(), data.end());
     
        pop_println("min_priority_queue1", min_priority_queue1);
     
        // Second way to define a min priority queue.
        std::priority_queue min_priority_queue2(data.begin(), data.end(), [std::greater](../utility/functional/greater.html)<int>());
     
        pop_println("min_priority_queue2", min_priority_queue2);
     
        // Using a custom function object to compare elements.
        struct
        {
            bool operator()(const int l, const int r) const { return l > r; }
        } customLess;
     
        std::priority_queue custom_priority_queue(data.begin(), data.end(), customLess);
     
        pop_println("custom_priority_queue", custom_priority_queue);
     
        // Using lambda to compare elements.
        auto cmp = [](int left, int right) { return (left ^ 1) < (right ^ 1); };
        std::priority_queue<int, [std::vector](vector.html)<int>, decltype(cmp)> lambda_priority_queue(cmp);
     
        for (int n : data)
            lambda_priority_queue.push(n);
     
        pop_println("lambda_priority_queue", lambda_priority_queue);
    }

Output: 
    
    
    data: 1 8 5 6 3 4 0 9 7 2
    max_priority_queue: 9 8 7 6 5 4 3 2 1 0
    min_priority_queue1: 0 1 2 3 4 5 6 7 8 9
    min_priority_queue2: 0 1 2 3 4 5 6 7 8 9
    custom_priority_queue: 0 1 2 3 4 5 6 7 8 9
    lambda_priority_queue: 8 9 6 7 4 5 2 3 0 1

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/priority_queue&action=edit&section=10 "Edit section: Defect reports")] Defect reports

The following behavior-changing defect reports were applied retroactively to previously published C++ standards. 

DR  | Applied to  | Behavior as published  | Correct behavior   
---|---|---|---  
[LWG 307](https://cplusplus.github.io/LWG/issue307) | C++98  | `Container` could not be `std::vector<bool>` | allowed   
[LWG 2566](https://cplusplus.github.io/LWG/issue2566) | C++98  | Missing the requirement for `Container::value_type` | ill-formed if `T` is not the same type as `Container::value_type`  
[LWG 2684](https://cplusplus.github.io/LWG/issue2684) | C++98  | `priority_queue` takes a comparator  
but lacked member typedef for it  | added   
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/priority_queue&action=edit&section=11 "Edit section: See also")] See also

[ vector](vector.html "cpp/container/vector") |  resizable contiguous array   
(class template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_vector&action=edit)  
---|---  
[ vector<bool>](vector_bool.html "cpp/container/vector bool") |  space-efficient dynamic bitset   
(class template specialization) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_vector_bool&action=edit)  
[ deque](deque.html "cpp/container/deque") |  double-ended queue   
(class template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_deque&action=edit)
  *[Value]: The year/month in which the feature was adopted. The hyperlink under each value opens a compiler support page with entry for given feature.
  *[Std]: Standard in which the feature is introduced; DR means defect report against that revision
