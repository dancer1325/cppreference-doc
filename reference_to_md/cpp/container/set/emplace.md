[[edit template]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/emplace_assoc&action=edit)

[C++](../../../cpp.html "cpp")

[Compiler support](../../compiler_support.html "cpp/compiler support")  
---  
[Freestanding and hosted](../../freestanding.html "cpp/freestanding")  
[Language](../../language.html "cpp/language")  
[Standard library](../../standard_library.html "cpp/standard library")  
[Standard library headers](../../headers.html "cpp/header")  
[Named requirements](../../iterator/concepts.html "cpp/named req")  
[Feature test macros](../../experimental/feature_test.html "cpp/feature test") (C++20)  
[Language support library](../../utility.html#Language_support "cpp/utility")  
[Concepts library](../../concepts.html "cpp/concepts") (C++20)  
[Diagnostics library](../../error.html "cpp/error")  
[Memory management library](../../memory.html "cpp/memory")  
[Metaprogramming library](../../meta.html "cpp/meta") (C++11)  
[General utilities library](../../utility.html "cpp/utility")  
[Containers library](../../container.html "cpp/container")  
[Iterators library](../../iterator.html "cpp/iterator")  
[Ranges library](../../ranges.html "cpp/ranges") (C++20)  
[Algorithms library](../../algorithm.html "cpp/algorithm")  
[Strings library](../../string.html "cpp/string")  
[Text processing library](../../text.html "cpp/text")  
[Numerics library](../../numeric.html "cpp/numeric")  
[Date and time library](../../chrono.html "cpp/chrono")  
[Input/output library](../../io.html "cpp/io")  
[Filesystem library](../../filesystem.html "cpp/filesystem") (C++17)  
[Concurrency support library](../../atomic.html "cpp/thread") (C++11)  
[Execution control library](../../experimental/execution.html "cpp/execution") (C++26)  
[Technical specifications](../../experimental.html "cpp/experimental")  
[Symbols index](../../symbol_index.html "cpp/symbol index")  
[External libraries](../../links/libs.html "cpp/links/libs")  
  


[Containers library](../../container.html "cpp/container")

[_node-handle_](../node_handle.html "cpp/container/node handle")(C++17)  
---  
[Sequence](../../container.html#Sequence_containers "cpp/container")  
[array](../array.html "cpp/container/array")(C++11)  
[vector](../vector.html "cpp/container/vector")  
[vector<bool>](../vector_bool.html "cpp/container/vector bool")  
[inplace_vector](../inplace_vector.html "cpp/container/inplace vector")(C++26)  
[hive](https://en.cppreference.com/mwiki/index.php?title=cpp/container/hive&action=edit&redlink=1 "cpp/container/hive \(page does not exist\)")(C++26)  
[deque](../deque.html "cpp/container/deque")  
[forward_list](../forward_list.html "cpp/container/forward list")(C++11)  
[list](../list.html "cpp/container/list")  
[Associative](../../container.html#Associative_containers "cpp/container")  
[set](../set.html "cpp/container/set")  
[multiset](../multiset.html "cpp/container/multiset")  
[map](../map.html "cpp/container/map")  
[multimap](../multimap.html "cpp/container/multimap")  
[Unordered associative](../../container.html#Unordered_associative_containers "cpp/container")  
[unordered_set](../unordered_set.html "cpp/container/unordered set")(C++11)  
[unordered_multiset](../unordered_multiset.html "cpp/container/unordered multiset")(C++11)  
[unordered_map](../unordered_map.html "cpp/container/unordered map")(C++11)  
[unordered_multimap](../unordered_multimap.html "cpp/container/unordered multimap")(C++11)  
[Adaptors](../../container.html#Container_adaptors "cpp/container")  
[stack](../stack.html "cpp/container/stack")  
[queue](../queue.html "cpp/container/queue")  
[priority_queue](../priority_queue.html "cpp/container/priority queue")  
[flat_set](../flat_set.html "cpp/container/flat set")(C++23)  
[flat_multiset](../flat_multiset.html "cpp/container/flat multiset")(C++23)  
[flat_map](../flat_map.html "cpp/container/flat map")(C++23)  
[flat_multimap](../flat_multimap.html "cpp/container/flat multimap")(C++23)  
[Views](../../container.html#Views "cpp/container")  
[span](../span.html "cpp/container/span")(C++20)  
[mdspan](../mdspan.html "cpp/container/mdspan")(C++23)  
Tables  
[Iterator invalidation](../../container.html#Iterator_invalidation "cpp/container")  
[Member function table](../../container.html#Member_function_table "cpp/container")  
[Non-member function table](../../container.html#Non-member_function_table "cpp/container")  
  


[`std::set`](../set.html "cpp/container/set")

[Member functions](../set.html#Member_functions "cpp/container/set")  
---  
|  | [set::set](set.html "cpp/container/set/set")  
---  
[set::~set](~set.html "cpp/container/set/~set")` `  
  
| [set::operator=](operator=.html "cpp/container/set/operator=")  
---  
[set::get_allocator](get_allocator.html "cpp/container/set/get allocator")  
  
|  | [Iterators](../set.html#Iterators "cpp/container/set")  
---  
[set::beginset::cbegin](begin.html "cpp/container/set/begin")(C++11)  
[set::endset::cend](end.html "cpp/container/set/end")(C++11)  
[set::rbeginset::crbegin](rbegin.html "cpp/container/set/rbegin")(C++11)` `  
[set::rendset::crend](rend.html "cpp/container/set/rend")(C++11)  
[Capacity](../set.html#Capacity "cpp/container/set")  
[set::size](size.html "cpp/container/set/size")  
[set::max_size](max_size.html "cpp/container/set/max size")  
[set::empty](empty.html "cpp/container/set/empty")  
[Observers](../set.html#Observers "cpp/container/set")  
[set::key_comp](key_comp.html "cpp/container/set/key comp")  
[set::value_comp](value_comp.html "cpp/container/set/value comp")  
  
| [Modifiers](../set.html#Modifiers "cpp/container/set")  
---  
[set::clear](clear.html "cpp/container/set/clear")  
[set::erase](erase.html "cpp/container/set/erase")  
[set::swap](swap.html "cpp/container/set/swap")  
[set::extract](extract.html "cpp/container/set/extract")(C++17)  
[set::merge](merge.html "cpp/container/set/merge")(C++17)  
[set::insert](insert.html "cpp/container/set/insert")  
[set::insert_range](insert_range.html "cpp/container/set/insert range")(C++23)  
**set::emplace**(C++11)  
[set::emplace_hint](emplace_hint.html "cpp/container/set/emplace hint")(C++11)  
[Lookup](../set.html#Lookup "cpp/container/set")  
[set::count](count.html "cpp/container/set/count")  
[set::find](find.html "cpp/container/set/find")  
[set::contains](contains.html "cpp/container/set/contains")(C++20)` `  
[set::equal_range](equal_range.html "cpp/container/set/equal range")  
[set::lower_bound](lower_bound.html "cpp/container/set/lower bound")  
[set::upper_bound](upper_bound.html "cpp/container/set/upper bound")  
  
[Non-member functions](../set.html#Non-member_functions "cpp/container/set")  
|  | [operator==operator<=>](operator_cmp.html "cpp/container/set/operator cmp")(C++20)  
---  
[std::swap(std::set)](swap2.html "cpp/container/set/swap2")  
[erase_if(std::set)](erase_if.html "cpp/container/set/erase if")(C++20)` `  
  
  
  
| [operator!=operator<operator>operator<=operator>=](operator_cmp.html "cpp/container/set/operator cmp")(until C++20)(until C++20)(until C++20)(until C++20)(until C++20)  
---  
  
[Deduction guides](deduction_guides.html "cpp/container/set/deduction guides")(C++17)  
  


template< class... Args >  
[std::pair](../../utility/pair.html)<iterator, bool> emplace( Args&&... args ); |  | (since C++11)   
(constexpr since C++26)  
---|---|---  
| |   
  
Inserts a new element into the container constructed in-place with the given args, if there is no element with the key in the container. 

The constructor of the new element is called with exactly the same arguments as supplied to `emplace`, forwarded via [std::forward](../../utility/forward.html)<Args>(args).... The element may be constructed even if there already is an element with the key in the container, in which case the newly constructed element will be destroyed immediately . 

If `value_type` is not [EmplaceConstructible](../../named_req/EmplaceConstructible.html "cpp/named req/EmplaceConstructible") into `set` from args, the behavior is undefined. 

No iterators or references are invalidated. 

## Contents

  * [1 Parameters](emplace.html#Parameters)
  * [2 Return value](emplace.html#Return_value)
  * [3 Exceptions](emplace.html#Exceptions)
  * [4 Complexity](emplace.html#Complexity)
  * [5 Notes](emplace.html#Notes)
  * [6 Example](emplace.html#Example)
  * [7 See also](emplace.html#See_also)

  
---  
  
### Parameters

args  |  \-  |  arguments to forward to the constructor of the element   
---|---|---  
  
### Return value

A pair consisting of an iterator to the inserted element (or to the element that prevented the insertion) and a bool value set to true if and only if the insertion took place. 

### Exceptions

If an exception is thrown for any reason, this function has no effect ([strong exception safety guarantee](../../language/exceptions.html#Exception_safety "cpp/language/exceptions")). 

### Complexity

Logarithmic in the size of the container. 

### Notes

Careful use of `emplace` allows the new element to be constructed while avoiding unnecessary copy or move operations. 

### Example

Run this code
    
    
    #include <chrono>
    #include <cstddef>
    #include <functional>
    #include <iomanip>
    #include <iostream>
    #include <string>
    #include <set>
     
    class Dew
    {
    private:
        int a, b, c;
     
    public:
        Dew(int _a, int _b, int _c)
            : a(_a), b(_b), c(_c)
        {}
     
        bool operator<(const Dew& other) const
        {
            return (a < other.a) ||
                   (a == other.a && b < other.b) ||
                   (a == other.a && b == other.b && c < other.c);
        }
    };
     
    constexpr int nof_operations{101};
     
    [std::size_t](../../types/size_t.html) set_emplace()
    {
        [std::set](../set.html)<Dew> set;
        for (int i = 0; i < nof_operations; ++i)
            for (int j = 0; j < nof_operations; ++j)
                for (int k = 0; k < nof_operations; ++k)
                    set.emplace(i, j, k);
     
        return set.size();
    }
     
    [std::size_t](../../types/size_t.html) set_insert()
    {
        [std::set](../set.html)<Dew> set;
        for (int i = 0; i < nof_operations; ++i)
            for (int j = 0; j < nof_operations; ++j)
                for (int k = 0; k < nof_operations; ++k)
                    set.insert(Dew(i, j, k));
     
        return set.size();
    }
     
    void time_it([std::function](../../utility/functional/function.html)<int()> set_test, [std::string](../../string/basic_string.html) what = "")
    {
        const auto start = [std::chrono::system_clock::now](../../chrono/system_clock/now.html)();
        const auto the_size = set_test();
        const auto stop = [std::chrono::system_clock::now](../../chrono/system_clock/now.html)();
        const [std::chrono::duration](../../chrono/duration.html)<double, [std::milli](../../numeric/ratio/ratio.html)> time = stop - start;
        if (!what.empty() && the_size)
            [std::cout](../../io/cout.html) << [std::fixed](../../io/manip/fixed.html) << [std::setprecision](../../io/manip/setprecision.html)(2)
                      << time << " for " << what << '\n';
    }
     
    int main()
    {
        time_it(set_insert, "cache warming...");
        time_it(set_insert, "insert");
        time_it(set_insert, "insert");
        time_it(set_emplace, "emplace");
        time_it(set_emplace, "emplace");
    }

Possible output: 
    
    
    630.58ms for cache warming...
    577.16ms for insert
    560.84ms for insert
    547.10ms for emplace
    549.44ms for emplace

### See also

[ emplace_hint](emplace_hint.html "cpp/container/set/emplace hint")(C++11) |  constructs elements in-place using a hint   
(public member function)   
---|---  
[ insert](insert.html "cpp/container/set/insert") |  inserts elements or nodes(since C++17)   
(public member function) 
