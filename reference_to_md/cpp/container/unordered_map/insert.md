[C++](../../../cpp.html "cpp")

[Compiler support](../../compiler_support.html "cpp/compiler support")  
---  
[Freestanding and hosted](../../freestanding.html "cpp/freestanding")  
[Language](../../language.html "cpp/language")  
[Standard library](../../standard_library.html "cpp/standard library")  
[Standard library headers](../../headers.html "cpp/header")  
[Named requirements](../../iterator/concepts.html "cpp/named req")  
[Feature test macros](../../experimental/feature_test.html "cpp/feature test") (C++20)  
[Language support library](../../utility.html#Language_support "cpp/utility")  
[Concepts library](../../concepts.html "cpp/concepts") (C++20)  
[Diagnostics library](../../error.html "cpp/error")  
[Memory management library](../../memory.html "cpp/memory")  
[Metaprogramming library](../../meta.html "cpp/meta") (C++11)  
[General utilities library](../../utility.html "cpp/utility")  
[Containers library](../../container.html "cpp/container")  
[Iterators library](../../iterator.html "cpp/iterator")  
[Ranges library](../../ranges.html "cpp/ranges") (C++20)  
[Algorithms library](../../algorithm.html "cpp/algorithm")  
[Strings library](../../string.html "cpp/string")  
[Text processing library](../../text.html "cpp/text")  
[Numerics library](../../numeric.html "cpp/numeric")  
[Date and time library](../../chrono.html "cpp/chrono")  
[Input/output library](../../io.html "cpp/io")  
[Filesystem library](../../filesystem.html "cpp/filesystem") (C++17)  
[Concurrency support library](../../atomic.html "cpp/thread") (C++11)  
[Execution control library](../../experimental/execution.html "cpp/execution") (C++26)  
[Technical specifications](../../experimental.html "cpp/experimental")  
[Symbols index](../../symbol_index.html "cpp/symbol index")  
[External libraries](../../links/libs.html "cpp/links/libs")  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/navbar_content&action=edit)

[Containers library](../../container.html "cpp/container")

[_node-handle_](../node_handle.html "cpp/container/node handle")(C++17)  
---  
[Sequence](../../container.html#Sequence_containers "cpp/container")  
[array](../array.html "cpp/container/array")(C++11)  
[vector](../vector.html "cpp/container/vector")  
[vector<bool>](../vector_bool.html "cpp/container/vector bool")  
[inplace_vector](../inplace_vector.html "cpp/container/inplace vector")(C++26)  
[hive](https://en.cppreference.com/mwiki/index.php?title=cpp/container/hive&action=edit&redlink=1 "cpp/container/hive \(page does not exist\)")(C++26)  
[deque](../deque.html "cpp/container/deque")  
[forward_list](../forward_list.html "cpp/container/forward list")(C++11)  
[list](../list.html "cpp/container/list")  
[Associative](../../container.html#Associative_containers "cpp/container")  
[set](../set.html "cpp/container/set")  
[multiset](../multiset.html "cpp/container/multiset")  
[map](../map.html "cpp/container/map")  
[multimap](../multimap.html "cpp/container/multimap")  
[Unordered associative](../../container.html#Unordered_associative_containers "cpp/container")  
[unordered_set](../unordered_set.html "cpp/container/unordered set")(C++11)  
[unordered_multiset](../unordered_multiset.html "cpp/container/unordered multiset")(C++11)  
[unordered_map](../unordered_map.html "cpp/container/unordered map")(C++11)  
[unordered_multimap](../unordered_multimap.html "cpp/container/unordered multimap")(C++11)  
[Adaptors](../../container.html#Container_adaptors "cpp/container")  
[stack](../stack.html "cpp/container/stack")  
[queue](../queue.html "cpp/container/queue")  
[priority_queue](../priority_queue.html "cpp/container/priority queue")  
[flat_set](../flat_set.html "cpp/container/flat set")(C++23)  
[flat_multiset](../flat_multiset.html "cpp/container/flat multiset")(C++23)  
[flat_map](../flat_map.html "cpp/container/flat map")(C++23)  
[flat_multimap](../flat_multimap.html "cpp/container/flat multimap")(C++23)  
[Views](../../container.html#Views "cpp/container")  
[span](../span.html "cpp/container/span")(C++20)  
[mdspan](../mdspan.html "cpp/container/mdspan")(C++23)  
Tables  
[Iterator invalidation](../../container.html#Iterator_invalidation "cpp/container")  
[Member function table](../../container.html#Member_function_table "cpp/container")  
[Non-member function table](../../container.html#Non-member_function_table "cpp/container")  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/navbar_content&action=edit)

[`std::unordered_map`](../unordered_map.html "cpp/container/unordered map")

[Member types](../unordered_map.html#Member_types "cpp/container/unordered map")  
---  
[Member functions](../unordered_map.html#Member_functions "cpp/container/unordered map")  
| [unordered_map::unordered_map](unordered_map.html "cpp/container/unordered map/unordered map")  
---  
[unordered_map::~unordered_map](~unordered_map.html "cpp/container/unordered map/~unordered map")  
[unordered_map::operator=](operator=.html "cpp/container/unordered map/operator=")  
[unordered_map::get_allocator](get_allocator.html "cpp/container/unordered map/get allocator")  
[Iterators](../unordered_map.html#Iterators "cpp/container/unordered map")  
[unordered_map::beginunordered_map::cbegin](begin.html "cpp/container/unordered map/begin")  
[unordered_map::endunordered_map::cend](end.html "cpp/container/unordered map/end")  
[Capacity](../unordered_map.html#Capacity "cpp/container/unordered map")  
[unordered_map::size](size.html "cpp/container/unordered map/size")  
[unordered_map::max_size](max_size.html "cpp/container/unordered map/max size")  
[unordered_map::empty](empty.html "cpp/container/unordered map/empty")  
[Modifiers](../unordered_map.html#Modifiers "cpp/container/unordered map")  
[unordered_map::clear](clear.html "cpp/container/unordered map/clear")  
[unordered_map::erase](erase.html "cpp/container/unordered map/erase")  
[unordered_map::swap](swap.html "cpp/container/unordered map/swap")  
[unordered_map::extract](extract.html "cpp/container/unordered map/extract")(C++17)  
[unordered_map::merge](merge.html "cpp/container/unordered map/merge")(C++17)  
**unordered_map::insert**  
[unordered_map::insert_range](insert_range.html "cpp/container/unordered map/insert range")(C++23)  
[unordered_map::insert_or_assign](insert_or_assign.html "cpp/container/unordered map/insert or assign")(C++17)` `  
[unordered_map::emplace](emplace.html "cpp/container/unordered map/emplace")  
[unordered_map::emplace_hint](emplace_hint.html "cpp/container/unordered map/emplace hint")  
[unordered_map::try_emplace](try_emplace.html "cpp/container/unordered map/try emplace")(C++17)  
  
| [Lookup](../unordered_map.html#Lookup "cpp/container/unordered map")  
---  
[unordered_map::at](at.html "cpp/container/unordered map/at")  
[unordered_map::operator[]](operator_at.html "cpp/container/unordered map/operator at")  
[unordered_map::count](count.html "cpp/container/unordered map/count")  
[unordered_map::find](find.html "cpp/container/unordered map/find")  
[unordered_map::contains](contains.html "cpp/container/unordered map/contains")(C++20)  
[unordered_map::equal_range](equal_range.html "cpp/container/unordered map/equal range")  
[Bucket interface](../unordered_map.html#Bucket_interface "cpp/container/unordered map")  
[unordered_map::begin(size_type)unordered_map::cbegin(size_type)](begin2.html "cpp/container/unordered map/begin2")  
[unordered_map::end(size_type)unordered_map::cend(size_type)](end2.html "cpp/container/unordered map/end2")  
[unordered_map::bucket_count](bucket_count.html "cpp/container/unordered map/bucket count")  
[unordered_map::max_bucket_count](max_bucket_count.html "cpp/container/unordered map/max bucket count")  
[unordered_map::bucket_size](bucket_size.html "cpp/container/unordered map/bucket size")  
[unordered_map::bucket](bucket.html "cpp/container/unordered map/bucket")  
[Hash policy](../unordered_map.html#Hash_policy "cpp/container/unordered map")  
[unordered_map::load_factor](load_factor.html "cpp/container/unordered map/load factor")  
[unordered_map::max_load_factor](max_load_factor.html "cpp/container/unordered map/max load factor")  
[unordered_map::rehash](rehash.html "cpp/container/unordered map/rehash")  
[unordered_map::reserve](reserve.html "cpp/container/unordered map/reserve")  
[Observers](../unordered_map.html#Observers "cpp/container/unordered map")  
[unordered_map::hash_function](hash_function.html "cpp/container/unordered map/hash function")  
[unordered_map::key_eq](key_eq.html "cpp/container/unordered map/key eq")  
  
[Non-member functions](../unordered_map.html#Non-member_functions "cpp/container/unordered map")  
| [operator==operator!=](operator_cmp.html "cpp/container/unordered map/operator cmp")(until C++20)  
---  
  
| [std::swap(std::unordered_map)](swap2.html "cpp/container/unordered map/swap2")  
---  
[erase_if(std::unordered_map)](erase_if.html "cpp/container/unordered map/erase if")(C++20)  
  
[Deduction guides](deduction_guides.html "cpp/container/unordered map/deduction guides")(C++17)  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/unordered_map/navbar_content&action=edit)

[std::pair](../../utility/pair.html)<iterator, bool> insert( const value_type& value ); |  (1)  |  (since C++11)  
---|---|---  
[std::pair](../../utility/pair.html)<iterator, bool> insert( value_type&& value ); |  (2)  |  (since C++17)  
template< class P >  
[std::pair](../../utility/pair.html)<iterator, bool> insert( P&& value ); |  (3) | (since C++11)  
iterator insert( const_iterator hint, const value_type& value ); |  (4) | (since C++11)  
iterator insert( const_iterator hint, value_type&& value ); |  (5)  |  (since C++17)  
template< class P >  
iterator insert( const_iterator hint, P&& value ); |  (6) | (since C++11)  
template< class InputIt >  
void insert( InputIt first, InputIt last ); |  (7)  |  (since C++11)  
void insert( [std::initializer_list](../../utility/initializer_list.html)<value_type> ilist ); |  (8)  |  (since C++11)  
insert_return_type insert( node_type&& nh ); |  (9)  |  (since C++17)  
iterator insert( const_iterator hint, node_type&& nh ); |  (10) | (since C++17)  
| |   
  
Inserts element(s) into the container, if the container doesn't already contain an element with an equivalent key. 

1-3) Inserts value.

Overload (3) is equivalent to emplace([std::forward](../../utility/forward.html)<P>(value)) and only participates in overload resolution if [std::is_constructible](../../types/is_constructible.html)<value_type, P&&>::value == true.

4-6) Inserts value, using hint as a non-binding suggestion to where the search should start.

Overload (6) is equivalent to emplace_hint(hint, [std::forward](../../utility/forward.html)<P>(value)) and only participates in overload resolution if [std::is_constructible](../../types/is_constructible.html)<value_type, P&&>::value == true.

7) Inserts elements from range `[`first`, `last`)`. If multiple elements in the range have keys that compare equivalent, it is unspecified which element is inserted (pending [LWG2844](https://cplusplus.github.io/LWG/issue2844)).

If `[`first`, `last`)` is not a [valid range](../../iterator.html#Ranges "cpp/iterator"), or first and/or last are iterators into *this, the behavior is undefined.

8) Inserts elements from initializer list ilist. If multiple elements in the range have keys that compare equivalent, it is unspecified which element is inserted (pending [LWG2844](https://cplusplus.github.io/LWG/issue2844)).

9) If nh is an empty [node handle](../node_handle.html "cpp/container/node handle"), does nothing. Otherwise, inserts the element owned by nh into the container , if the container doesn't already contain an element with a key equivalent to nh.key(). The behavior is undefined if nh is not empty and get_allocator() != nh.get_allocator().

10) If nh is an empty [node handle](../node_handle.html "cpp/container/node handle"), does nothing and returns the end iterator. Otherwise, inserts the element owned by nh into the container, if the container doesn't already contain an element with a key equivalent to nh.key(), and returns the iterator pointing to the element with key equivalent to nh.key()(regardless of whether the insert succeeded or failed). If the insertion succeeds, nh is moved from, otherwise it retains ownership of the element. hint is used as a non-binding suggestion to where the search should start. The behavior is undefined if nh is not empty and get_allocator() != nh.get_allocator().

If after the operation the new number of elements is greater than old [`max_load_factor()`](max_load_factor.html "cpp/container/unordered map/max load factor")` *`` `[`bucket_count()`](bucket_count.html "cpp/container/unordered map/bucket count") a rehashing takes place.  
If rehashing occurs (due to the insertion), all iterators are invalidated. Otherwise (no rehashing), iterators are not invalidated. If the insertion is successful, pointers and references to the element obtained while it is held in the node handle are invalidated, and pointers and references obtained to that element before it was extracted become valid.(since C++17)

## Contents

  * [1 Parameters](insert.html#Parameters)
  * [2 Return value](insert.html#Return_value)
  * [3 Exceptions](insert.html#Exceptions)
  * [4 Complexity](insert.html#Complexity)
  * [5 Notes](insert.html#Notes)
  * [6 Example](insert.html#Example)
  * [7 Defect reports](insert.html#Defect_reports)
  * [8 See also](insert.html#See_also)

  
---  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/unordered_map/insert&action=edit&section=1 "Edit section: Parameters")] Parameters

hint  |  \-  |  iterator, used as a suggestion as to where to insert the content   
---|---|---  
value  |  \-  |  element value to insert   
first, last  |  \-  |  the pair of iterators defining the source [range](../../iterator.html#Ranges "cpp/iterator") of elements to insert   
ilist  |  \-  |  initializer list to insert the values from   
nh  |  \-  |  a compatible [node handle](../node_handle.html "cpp/container/node handle")  
Type requirements   
-`InputIt` must meet the requirements of [LegacyInputIterator](../../named_req/InputIterator.html "cpp/named req/InputIterator").   
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/unordered_map/insert&action=edit&section=2 "Edit section: Return value")] Return value

1-3) A pair consisting of an iterator to the inserted element (or to the element that prevented the insertion) and a bool value set to true if and only if the insertion took place.

4-6) An iterator to the inserted element, or to the element that prevented the insertion.

7,8) (none)

9) An object of [`insert_return_type`](../unordered_map.html#Member_types "cpp/container/unordered map") with the members initialized as follows: 

  * If nh is empty, `inserted` is false, `position` is end(), and `node` is empty. 
  * Otherwise if the insertion took place, `inserted` is true, `position` points to the inserted element, and `node` is empty. 
  * If the insertion failed, `inserted` is false, `node` has the previous value of nh, and `position` points to an element with a key equivalent to nh.key().



10) End iterator if nh was empty, iterator pointing to the inserted element if insertion took place, and iterator pointing to an element with a key equivalent to nh.key() if it failed.

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/unordered_map/insert&action=edit&section=3 "Edit section: Exceptions")] Exceptions

1-6) If an exception is thrown for any reason, these functions have no effect ([strong exception safety guarantee](../../language/exceptions.html#Exception_safety "cpp/language/exceptions")).

7,8) No exception safety guarantee.

9,10) If an exception is thrown for any reason, these functions have no effect ([strong exception safety guarantee](../../language/exceptions.html#Exception_safety "cpp/language/exceptions")).

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/unordered_map/insert&action=edit&section=4 "Edit section: Complexity")] Complexity

1-6) Average case: `O(1)`, worst case `O(size())`.

7,8) Average case: `O(N)`, where N is the number of elements to insert. Worst case: `O(N * size() + N)`.

9,10) Average case: `O(1)`, worst case `O(size())`.

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/unordered_map/insert&action=edit&section=5 "Edit section: Notes")] Notes

The hinted insert (([4-6](insert.html#Version_4)) and ([10](insert.html#Version_10))) does not return a boolean in order to be signature-compatible with positional insert on sequential containers, such as [std::vector::insert](../vector/insert.html "cpp/container/vector/insert"). This makes it possible to create generic inserters such as [std::inserter](../../iterator/inserter.html "cpp/iterator/inserter"). One way to check success of a hinted insert is to compare [`size()`](size.html "cpp/container/unordered map/size") before and after. 

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/unordered_map/insert&action=edit&section=6 "Edit section: Example")] Example

Run this code
    
    
    #include <iostream>
    #include <string>
    #include <unordered_map>
     
    int main ()
    {
        [std::unordered_map](../unordered_map.html)<int, [std::string](../../string/basic_string.html)> dict = {{1, "one"}, {2, "two"}};
        dict.insert({3, "three"});
        dict.insert([std::make_pair](../../utility/pair/make_pair.html)(4, "four"));
        dict.insert({{4, "another four"}, {5, "five"}});
     
        const bool ok = dict.insert({1, "another one"}).second;
        [std::cout](../../io/cout.html) << "inserting 1 => \"another one\" "
                  << (ok ? "succeeded" : "failed") << '\n';
     
        [std::cout](../../io/cout.html) << "contents:\n";
        for (auto& p : dict)
            [std::cout](../../io/cout.html) << ' ' << p.first << " => " << p.second << '\n';
    }

Possible output: 
    
    
    inserting 1 => "another one" failed
    contents:
     5 => five
     1 => one
     2 => two
     3 => three
     4 => four

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/unordered_map/insert&action=edit&section=7 "Edit section: Defect reports")] Defect reports

The following behavior-changing defect reports were applied retroactively to previously published C++ standards. 

DR  | Applied to  | Behavior as published  | Correct behavior   
---|---|---|---  
[LWG 2005](https://cplusplus.github.io/LWG/issue2005) | C++11  | overloads ([3](insert.html#Version_3)) and ([6](insert.html#Version_6)) would only participate in overload  
resolution if `P` is implicitly convertible to `value_type` | only participates if `value_type`  
is constructible from P&&  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/unordered_map/insert&action=edit&section=8 "Edit section: See also")] See also

[ emplace](emplace.html "cpp/container/unordered map/emplace") |  constructs element in-place   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_emplace&action=edit)  
---|---  
[ emplace_hint](emplace_hint.html "cpp/container/unordered map/emplace hint") |  constructs elements in-place using a hint   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_emplace_hint&action=edit)  
[ insert_or_assign](insert_or_assign.html "cpp/container/unordered map/insert or assign")(C++17) |  inserts an element or assigns to the current element if the key already exists   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_insert_or_assign&action=edit)  
[ inserter](../../iterator/inserter.html "cpp/iterator/inserter") |  creates a [std::insert_iterator](../../iterator/insert_iterator.html "cpp/iterator/insert iterator") of type inferred from the argument   
(function template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/iterator/dsc_inserter&action=edit)
