[C++](../../../cpp.html "cpp")

[Compiler support](../../compiler_support.html "cpp/compiler support")  
---  
[Freestanding and hosted](../../freestanding.html "cpp/freestanding")  
[Language](../../language.html "cpp/language")  
[Standard library](../../standard_library.html "cpp/standard library")  
[Standard library headers](../../headers.html "cpp/header")  
[Named requirements](../../iterator/concepts.html "cpp/named req")  
[Feature test macros](../../experimental/feature_test.html "cpp/feature test") (C++20)  
[Language support library](../../utility.html#Language_support "cpp/utility")  
[Concepts library](../../concepts.html "cpp/concepts") (C++20)  
[Diagnostics library](../../error.html "cpp/error")  
[Memory management library](../../memory.html "cpp/memory")  
[Metaprogramming library](../../meta.html "cpp/meta") (C++11)  
[General utilities library](../../utility.html "cpp/utility")  
[Containers library](../../container.html "cpp/container")  
[Iterators library](../../iterator.html "cpp/iterator")  
[Ranges library](../../ranges.html "cpp/ranges") (C++20)  
[Algorithms library](../../algorithm.html "cpp/algorithm")  
[Strings library](../../string.html "cpp/string")  
[Text processing library](../../text.html "cpp/text")  
[Numerics library](../../numeric.html "cpp/numeric")  
[Date and time library](../../chrono.html "cpp/chrono")  
[Input/output library](../../io.html "cpp/io")  
[Filesystem library](../../filesystem.html "cpp/filesystem") (C++17)  
[Concurrency support library](../../atomic.html "cpp/thread") (C++11)  
[Execution control library](../../experimental/execution.html "cpp/execution") (C++26)  
[Technical specifications](../../experimental.html "cpp/experimental")  
[Symbols index](../../symbol_index.html "cpp/symbol index")  
[External libraries](../../links/libs.html "cpp/links/libs")  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/navbar_content&action=edit)

[Containers library](../../container.html "cpp/container")

[_node-handle_](../node_handle.html "cpp/container/node handle")(C++17)  
---  
[Sequence](../../container.html#Sequence_containers "cpp/container")  
[array](../array.html "cpp/container/array")(C++11)  
[vector](../vector.html "cpp/container/vector")  
[vector<bool>](../vector_bool.html "cpp/container/vector bool")  
[inplace_vector](../inplace_vector.html "cpp/container/inplace vector")(C++26)  
[hive](https://en.cppreference.com/mwiki/index.php?title=cpp/container/hive&action=edit&redlink=1 "cpp/container/hive \(page does not exist\)")(C++26)  
[deque](../deque.html "cpp/container/deque")  
[forward_list](../forward_list.html "cpp/container/forward list")(C++11)  
[list](../list.html "cpp/container/list")  
[Associative](../../container.html#Associative_containers "cpp/container")  
[set](../set.html "cpp/container/set")  
[multiset](../multiset.html "cpp/container/multiset")  
[map](../map.html "cpp/container/map")  
[multimap](../multimap.html "cpp/container/multimap")  
[Unordered associative](../../container.html#Unordered_associative_containers "cpp/container")  
[unordered_set](../unordered_set.html "cpp/container/unordered set")(C++11)  
[unordered_multiset](../unordered_multiset.html "cpp/container/unordered multiset")(C++11)  
[unordered_map](../unordered_map.html "cpp/container/unordered map")(C++11)  
[unordered_multimap](../unordered_multimap.html "cpp/container/unordered multimap")(C++11)  
[Adaptors](../../container.html#Container_adaptors "cpp/container")  
[stack](../stack.html "cpp/container/stack")  
[queue](../queue.html "cpp/container/queue")  
[priority_queue](../priority_queue.html "cpp/container/priority queue")  
[flat_set](../flat_set.html "cpp/container/flat set")(C++23)  
[flat_multiset](../flat_multiset.html "cpp/container/flat multiset")(C++23)  
[flat_map](../flat_map.html "cpp/container/flat map")(C++23)  
[flat_multimap](../flat_multimap.html "cpp/container/flat multimap")(C++23)  
[Views](../../container.html#Views "cpp/container")  
[span](../span.html "cpp/container/span")(C++20)  
[mdspan](../mdspan.html "cpp/container/mdspan")(C++23)  
Tables  
[Iterator invalidation](../../container.html#Iterator_invalidation "cpp/container")  
[Member function table](../../container.html#Member_function_table "cpp/container")  
[Non-member function table](../../container.html#Non-member_function_table "cpp/container")  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/navbar_content&action=edit)

[`std::flat_set`](../flat_set.html "cpp/container/flat set")

[Member types](../flat_set.html#Member_types "cpp/container/flat set")  
---  
[Member functions](../flat_set.html#Member_functions "cpp/container/flat set")  
|  | [flat_set::flat_set](flat_set.html "cpp/container/flat set/flat set")  
---  
[flat_set::operator=](operator=.html "cpp/container/flat set/operator=")  
[Iterators](../flat_set.html#Iterators "cpp/container/flat set")  
[flat_set::beginflat_set::cbegin](begin.html "cpp/container/flat set/begin")  
[flat_set::endflat_set::cend](end.html "cpp/container/flat set/end")  
[flat_set::rbeginflat_set::crbegin](rbegin.html "cpp/container/flat set/rbegin")  
[flat_set::rendflat_set::crend](rend.html "cpp/container/flat set/rend")  
[Capacity](../flat_set.html#Capacity "cpp/container/flat set")  
[flat_set::size](size.html "cpp/container/flat set/size")  
[flat_set::max_size](max_size.html "cpp/container/flat set/max size")  
[flat_set::empty](empty.html "cpp/container/flat set/empty")  
[Observers](../flat_set.html#Observers "cpp/container/flat set")  
[flat_set::key_comp](key_comp.html "cpp/container/flat set/key comp")  
[flat_set::value_comp](value_comp.html "cpp/container/flat set/value comp")  
  
| [Modifiers](../flat_set.html#Modifiers "cpp/container/flat set")  
---  
[flat_set::clear](clear.html "cpp/container/flat set/clear")  
**flat_set::insert**  
[flat_set::insert_range](insert_range.html "cpp/container/flat set/insert range")  
[flat_set::emplace](emplace.html "cpp/container/flat set/emplace")  
[flat_set::emplace_hint](emplace_hint.html "cpp/container/flat set/emplace hint")  
[flat_set::erase](erase.html "cpp/container/flat set/erase")  
[flat_set::swap](swap.html "cpp/container/flat set/swap")  
[flat_set::extract](extract.html "cpp/container/flat set/extract")  
[flat_set::replace](replace.html "cpp/container/flat set/replace")  
[Lookup](../flat_set.html#Lookup "cpp/container/flat set")  
[flat_set::count](count.html "cpp/container/flat set/count")  
[flat_set::find](find.html "cpp/container/flat set/find")  
[flat_set::contains](contains.html "cpp/container/flat set/contains")  
[flat_set::equal_range](equal_range.html "cpp/container/flat set/equal range")  
[flat_set::lower_bound](lower_bound.html "cpp/container/flat set/lower bound")  
[flat_set::upper_bound](upper_bound.html "cpp/container/flat set/upper bound")  
  
[Non-member functions](../flat_set.html#Non-member_functions "cpp/container/flat set")  
| [operator==operator<=>](operator_cmp.html "cpp/container/flat set/operator cmp")  
---  
  
| [swap(std::flat_set)](swap2.html "cpp/container/flat set/swap2")  
---  
[erase_if(std::flat_set)](erase_if.html "cpp/container/flat set/erase if")  
  
[Helper classes](../flat_set.html#Helper_classes "cpp/container/flat set")  
[uses_allocator<std::flat_set>](uses_allocator.html "cpp/container/flat set/uses allocator")  
[Tags](../flat_set.html#Tags "cpp/container/flat set")  
|  | [sorted_unique](../sorted_unique.html "cpp/container/sorted unique")` `  
---  
  
| [sorted_unique_t](../sorted_unique.html "cpp/container/sorted unique")  
---  
  
[Deduction guides](deduction_guides.html "cpp/container/flat set/deduction guides")  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/flat_set/navbar_content&action=edit)

[std::pair](../../utility/pair.html)<iterator, bool> insert( const value_type& value ); |  (1)  |  (since C++23)  
---|---|---  
[std::pair](../../utility/pair.html)<iterator, bool> insert( value_type&& value ); |  (2)  |  (since C++23)  
iterator insert( const_iterator pos, const value_type& value ); |  (3) | (since C++23)  
iterator insert( const_iterator pos, value_type&& value ); |  (4)  |  (since C++23)  
template< class K >  
iterator insert( const_iterator pos, K&& x ); |  (5)  |  (since C++23)  
template< class InputIt >  
void insert( InputIt first, InputIt last ); |  (6)  |  (since C++23)  
template< class K >  
[std::pair](../../utility/pair.html)<iterator, bool> insert( K&& x ); |  (7)  |  (since C++23)  
template< class InputIt >  
void insert( [std::sorted_unique_t](../sorted_unique.html), InputIt first, InputIt last ); |  (8)  |  (since C++23)  
void insert( [std::initializer_list](../../utility/initializer_list.html)<key_type> ilist ); |  (9)  |  (since C++23)  
void insert( [std::sorted_unique_t](../sorted_unique.html) s, [std::initializer_list](../../utility/initializer_list.html)<key_type> ilist ); |  (10)  |  (since C++23)  
| |   
  
Inserts element(s) into the container, if the container does not already contain an element with an equivalent key. 

1) Inserts value. Equivalent to return emplace(value);.

2) Inserts value. Equivalent to return emplace(std::move(value));.

3) Inserts value in the position as close as possible to the position just prior to pos. Equivalent to return emplace_hint(pos, value);.

4) Inserts value in the position as close as possible to the position just prior to pos. Equivalent to return emplace_hint(pos, std::move(value));.

5,7) If *this already contains an element which transparently compares equivalent to x, does nothing. Otherwise, inserts a new element as if by: 

  * (5) emplace(pos, [std::forward](../../utility/forward.html)<K>(x)) (in the position as close as possible to the position just prior to pos); 
  * (7) emplace([std::forward](../../utility/forward.html)<K>(x)).



The conversion from x into [`key_type`](../flat_set.html#Member_types "cpp/container/flat set") must construct an object u, for which find(k) == find(u) is true. Otherwise, the behavior is undefined.

These overloads participate in overload resolution only if 

  * The qualified-id `Compare::is_transparent` is valid and denotes a type, and 
  * [std::is_constructible_v](../../types/is_constructible.html)<value_type, K> is true, 

which together allows calling this function without constructing an instance of `Key`.

6) Equivalent to the sequence of operations: 

  1. Inserts elements from range `[`first`, `last`)` as if by c.insert(c.end(), first, last);. 
  2. Sorts the range of newly inserted elements with respect to [`_compare_`](../flat_set.html#Member_objects "cpp/container/flat set"). 
  3. Merges the resulting sorted range and the sorted range of pre-existing elements into a single sorted range. (Note: the merge operation may allocate memory). 
  4. Erases all but the first element from each group of consecutive equivalent elements.



If multiple elements in the range have keys that compare equivalent, it is unspecified which element is inserted (pending [LWG2844](https://cplusplus.github.io/LWG/issue2844)).

8) Inserts elements from range `[`first`, `last`)`. Equivalent to insert(first, last);.

If multiple elements in the range have keys that compare equivalent, it is unspecified which element is inserted (pending [LWG2844](https://cplusplus.github.io/LWG/issue2844)).

9) Inserts elements from initializer list ilist. Equivalent to insert(ilist.begin(), ilist.end());.

If multiple elements in the range have keys that compare equivalent, it is unspecified which element is inserted (pending [LWG2844](https://cplusplus.github.io/LWG/issue2844)).

10) Inserts elements from initializer list ilist. Equivalent to insert(s, ilist.begin(), ilist.end());.

If multiple elements in the range have keys that compare equivalent, it is unspecified which element is inserted (pending [LWG2844](https://cplusplus.github.io/LWG/issue2844)).

| Information on iterator invalidation is copied from [here](https://en.cppreference.com/w/Template:cpp/container/note_iterator_invalidation "Template:cpp/container/note iterator invalidation")  
---|---  
  
## Contents

  * [1 Parameters](insert.html#Parameters)
  * [2 Return value](insert.html#Return_value)
  * [3 Exceptions](insert.html#Exceptions)
  * [4 Complexity](insert.html#Complexity)
  * [5 Notes](insert.html#Notes)
  * [6 Example](insert.html#Example)
  * [7 See also](insert.html#See_also)

  
---  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/flat_set/insert&action=edit&section=1 "Edit section: Parameters")] Parameters

pos  |  \-  |  iterator to the position before which the new element will be inserted   
---|---|---  
value  |  \-  |  element value to insert   
first, last  |  \-  |  the pair of iterators defining the source [range](../../iterator.html#Ranges "cpp/iterator") of elements to insert   
ilist  |  \-  |  initializer list to insert the values from   
x  |  \-  |  a value of any type that can be transparently compared with a key   
s  |  \-  |  a [disambiguation tag](../sorted_unique.html "cpp/container/sorted unique") indicating that the input sequence is sorted (with respect to [`_compare_`](../flat_set.html#Member_objects "cpp/container/flat set")) and contains only unique elements   
Type requirements   
-`InputIt` must meet the requirements of [LegacyInputIterator](../../named_req/InputIterator.html "cpp/named req/InputIterator").   
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/flat_set/insert&action=edit&section=2 "Edit section: Return value")] Return value

1,2) A pair consisting of an iterator to the inserted element (or to the element that prevented the insertion) and a bool value set to true if and only if the insertion took place.

3-5) An iterator to the inserted element, or to the element that prevented the insertion.

6) (none)

7) A pair consisting of an iterator to the inserted element (or to the element that prevented the insertion) and a bool value set to true if and only if the insertion took place.

8-10) (none)

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/flat_set/insert&action=edit&section=3 "Edit section: Exceptions")] Exceptions

1-5,7) If an exception is thrown by any operation, the insertion has no effect.

| This section is incomplete  
Reason: cases 6,8-10   
---|---  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/flat_set/insert&action=edit&section=4 "Edit section: Complexity")] Complexity

1,2) Logarithmic in [`size()`](size.html "cpp/container/flat set/size"), plus the cost of insertion into `_[c](../flat_set.html#c "cpp/container/flat set")_`.

3-5) Amortized constant if the insertion happens in the position just before pos, logarithmic in [`size()`](size.html "cpp/container/flat set/size") otherwise. Plus the cost of insertion into `_[c](../flat_set.html#c "cpp/container/flat set")_`.

6) N + M·log(M), where `N` is the [`size()`](size.html "cpp/container/flat set/size") before the operation and `M` is [std::distance](../../iterator/distance.html)(first, last).

7) Logarithmic in [`size()`](size.html "cpp/container/flat set/size"), plus the cost of insertion into `_[c](../flat_set.html#c "cpp/container/flat set")_`.

8) Linear in `N`, where `N` is [`size()`](size.html "cpp/container/flat set/size") after the operation.

9) N + M·log(M), where `N` is the [`size()`](size.html "cpp/container/flat set/size") before the operation and `M` is ilist.size().

10) Linear in `N`, where `N` is [`size()`](size.html "cpp/container/flat set/size") after the operation.

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/flat_set/insert&action=edit&section=5 "Edit section: Notes")] Notes

The hinted insert ([3-5](insert.html#Version_3)) does not return a boolean in order to be signature-compatible with positional insert on sequential containers, such as [std::vector::insert](../vector/insert.html "cpp/container/vector/insert"). This makes it possible to create generic inserters such as [std::inserter](../../iterator/inserter.html "cpp/iterator/inserter"). One way to check success of a hinted insert is to compare [`size()`](size.html "cpp/container/flat set/size") before and after. 

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/flat_set/insert&action=edit&section=6 "Edit section: Example")] Example

Run this code
    
    
    #include <cassert>
    #include <flat_set>
    #include <iostream>
     
    int main()
    {
        [std::flat_set](../flat_set.html)<int> set;
     
        auto result_1 = set.insert(3);
        [assert](../../error/assert.html)(result_1.first != set.end()); // it is a valid iterator
        [assert](../../error/assert.html)(*result_1.first == 3);
        if (result_1.second)
            [std::cout](../../io/cout.html) << "insert done\n";
     
        auto result_2 = set.insert(3);
        [assert](../../error/assert.html)(result_2.first == result_1.first); // the same iterator
        [assert](../../error/assert.html)(*result_2.first == 3);
        if (!result_2.second)
            [std::cout](../../io/cout.html) << "no insertion\n";
    }

Output: 
    
    
    insert done
    no insertion

### [[edit](https://en.cppreference.com/mwiki/index.php?title=cpp/container/flat_set/insert&action=edit&section=7 "Edit section: See also")] See also

[ emplace](emplace.html "cpp/container/flat set/emplace") |  constructs element in-place   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_emplace&action=edit)  
---|---  
[ emplace_hint](emplace_hint.html "cpp/container/flat set/emplace hint") |  constructs elements in-place using a hint   
(public member function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/container/dsc_emplace_hint&action=edit)  
[ inserter](../../iterator/inserter.html "cpp/iterator/inserter") |  creates a [std::insert_iterator](../../iterator/insert_iterator.html "cpp/iterator/insert iterator") of type inferred from the argument   
(function template) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:cpp/iterator/dsc_inserter&action=edit)
