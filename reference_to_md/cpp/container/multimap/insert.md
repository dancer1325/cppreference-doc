[C++](../../../cpp.html "cpp")

[Compiler support](../../compiler_support.html "cpp/compiler support")  
---  
[Freestanding and hosted](../../freestanding.html "cpp/freestanding")  
[Language](../../language.html "cpp/language")  
[Standard library](../../standard_library.html "cpp/standard library")  
[Standard library headers](../../headers.html "cpp/header")  
[Named requirements](../../iterator/concepts.html "cpp/named req")  
[Feature test macros](../../experimental/feature_test.html "cpp/feature test") (C++20)  
[Language support library](../../utility.html#Language_support "cpp/utility")  
[Concepts library](../../concepts.html "cpp/concepts") (C++20)  
[Diagnostics library](../../error.html "cpp/error")  
[Memory management library](../../memory.html "cpp/memory")  
[Metaprogramming library](../../meta.html "cpp/meta") (C++11)  
[General utilities library](../../utility.html "cpp/utility")  
[Containers library](../../container.html "cpp/container")  
[Iterators library](../../iterator.html "cpp/iterator")  
[Ranges library](../../ranges.html "cpp/ranges") (C++20)  
[Algorithms library](../../algorithm.html "cpp/algorithm")  
[Strings library](../../string.html "cpp/string")  
[Text processing library](../../text.html "cpp/text")  
[Numerics library](../../numeric.html "cpp/numeric")  
[Date and time library](../../chrono.html "cpp/chrono")  
[Input/output library](../../io.html "cpp/io")  
[Filesystem library](../../filesystem.html "cpp/filesystem") (C++17)  
[Concurrency support library](../../atomic.html "cpp/thread") (C++11)  
[Execution control library](../../experimental/execution.html "cpp/execution") (C++26)  
[Technical specifications](../../experimental.html "cpp/experimental")  
[Symbols index](../../symbol_index.html "cpp/symbol index")  
[External libraries](../../links/libs.html "cpp/links/libs")  
  


[Containers library](../../container.html "cpp/container")

[_node-handle_](../node_handle.html "cpp/container/node handle")(C++17)  
---  
[Sequence](../../container.html#Sequence_containers "cpp/container")  
[array](../array.html "cpp/container/array")(C++11)  
[vector](../vector.html "cpp/container/vector")  
[vector<bool>](../vector_bool.html "cpp/container/vector bool")  
[inplace_vector](../inplace_vector.html "cpp/container/inplace vector")(C++26)  
[hive](https://en.cppreference.com/mwiki/index.php?title=cpp/container/hive&action=edit&redlink=1 "cpp/container/hive \(page does not exist\)")(C++26)  
[deque](../deque.html "cpp/container/deque")  
[forward_list](../forward_list.html "cpp/container/forward list")(C++11)  
[list](../list.html "cpp/container/list")  
[Associative](../../container.html#Associative_containers "cpp/container")  
[set](../set.html "cpp/container/set")  
[multiset](../multiset.html "cpp/container/multiset")  
[map](../map.html "cpp/container/map")  
[multimap](../multimap.html "cpp/container/multimap")  
[Unordered associative](../../container.html#Unordered_associative_containers "cpp/container")  
[unordered_set](../unordered_set.html "cpp/container/unordered set")(C++11)  
[unordered_multiset](../unordered_multiset.html "cpp/container/unordered multiset")(C++11)  
[unordered_map](../unordered_map.html "cpp/container/unordered map")(C++11)  
[unordered_multimap](../unordered_multimap.html "cpp/container/unordered multimap")(C++11)  
[Adaptors](../../container.html#Container_adaptors "cpp/container")  
[stack](../stack.html "cpp/container/stack")  
[queue](../queue.html "cpp/container/queue")  
[priority_queue](../priority_queue.html "cpp/container/priority queue")  
[flat_set](../flat_set.html "cpp/container/flat set")(C++23)  
[flat_multiset](../flat_multiset.html "cpp/container/flat multiset")(C++23)  
[flat_map](../flat_map.html "cpp/container/flat map")(C++23)  
[flat_multimap](../flat_multimap.html "cpp/container/flat multimap")(C++23)  
[Views](../../container.html#Views "cpp/container")  
[span](../span.html "cpp/container/span")(C++20)  
[mdspan](../mdspan.html "cpp/container/mdspan")(C++23)  
Tables  
[Iterator invalidation](../../container.html#Iterator_invalidation "cpp/container")  
[Member function table](../../container.html#Member_function_table "cpp/container")  
[Non-member function table](../../container.html#Non-member_function_table "cpp/container")  
  


[`std::multimap`](../multimap.html "cpp/container/multimap")

[Member functions](../multimap.html#Member_functions "cpp/container/multimap")  
---  
|  | [multimap::multimap](multimap.html "cpp/container/multimap/multimap")  
---  
[multimap::~multimap](~multimap.html "cpp/container/multimap/~multimap")` `  
  
| [multimap::operator=](operator=.html "cpp/container/multimap/operator=")  
---  
[multimap::get_allocator](get_allocator.html "cpp/container/multimap/get allocator")  
  
|  | [Iterators](../multimap.html#Iterators "cpp/container/multimap")  
---  
[multimap::beginmultimap::cbegin](begin.html "cpp/container/multimap/begin")(C++11)  
[multimap::endmultimap::cend](end.html "cpp/container/multimap/end")(C++11)  
[multimap::rbeginmultimap::crbegin](rbegin.html "cpp/container/multimap/rbegin")(C++11)` `  
[multimap::rendmultimap::crend](rend.html "cpp/container/multimap/rend")(C++11)  
[Capacity](../multimap.html#Capacity "cpp/container/multimap")  
[multimap::size](size.html "cpp/container/multimap/size")  
[multimap::max_size](max_size.html "cpp/container/multimap/max size")  
[multimap::empty](empty.html "cpp/container/multimap/empty")  
[Observers](../multimap.html#Observers "cpp/container/multimap")  
[multimap::key_comp](key_comp.html "cpp/container/multimap/key comp")  
[multimap::value_comp](value_comp.html "cpp/container/multimap/value comp")  
  
| [Modifiers](../multimap.html#Modifiers "cpp/container/multimap")  
---  
[multimap::clear](clear.html "cpp/container/multimap/clear")  
**multimap::insert**  
[multimap::erase](erase.html "cpp/container/multimap/erase")  
[multimap::swap](swap.html "cpp/container/multimap/swap")  
[multimap::merge](merge.html "cpp/container/multimap/merge")(C++17)  
[multimap::insert_range](insert_range.html "cpp/container/multimap/insert range")(C++23)  
[multimap::emplace](emplace.html "cpp/container/multimap/emplace")(C++11)  
[multimap::emplace_hint](emplace_hint.html "cpp/container/multimap/emplace hint")(C++11)  
[multimap::extract](extract.html "cpp/container/multimap/extract")(C++17)  
[Lookup](../multimap.html#Lookup "cpp/container/multimap")  
[multimap::count](count.html "cpp/container/multimap/count")  
[multimap::find](find.html "cpp/container/multimap/find")  
[multimap::contains](contains.html "cpp/container/multimap/contains")(C++20)  
[multimap::equal_range](equal_range.html "cpp/container/multimap/equal range")  
[multimap::lower_bound](lower_bound.html "cpp/container/multimap/lower bound")  
[multimap::upper_bound](upper_bound.html "cpp/container/multimap/upper bound")  
  
[Non-member functions](../multimap.html#Non-member_functions "cpp/container/multimap")  
|  | [operator==operator<=>](operator_cmp.html "cpp/container/multimap/operator cmp")(C++20)  
---  
[std::swap(std::multimap)](swap2.html "cpp/container/multimap/swap2")  
[erase_if(std::multimap)](erase_if.html "cpp/container/multimap/erase if")(C++20)` `  
  
  
  
| [operator!=operator<operator>operator<=operator>=](operator_cmp.html "cpp/container/multimap/operator cmp")(until C++20)(until C++20)(until C++20)(until C++20)(until C++20)  
---  
  
[Deduction guides](deduction_guides.html "cpp/container/multimap/deduction guides")(C++17)  
  


iterator insert( const value_type& value ); |  (1)  |   
---|---|---  
iterator insert( value_type&& value ); |  (2)  |  (since C++17)  
template< class P >  
iterator insert( P&& value ); |  (3)  |  (since C++11)  
| (4) |   
iterator insert( iterator pos, const value_type& value ); |  | (until C++11)  
iterator insert( const_iterator pos, const value_type& value ); |  |  (since C++11)  
iterator insert( const_iterator pos, value_type&& value ); |  (5)  |  (since C++17)  
template< class P >  
iterator insert( const_iterator pos, P&& value ); |  (6)  |  (since C++11)  
template< class InputIt >  
void insert( InputIt first, InputIt last ); |  (7)  |   
void insert( [std::initializer_list](../../utility/initializer_list.html)<value_type> ilist ); |  (8)  |  (since C++11)  
iterator insert( node_type&& nh ); |  (9)  |  (since C++17)  
iterator insert( const_iterator pos, node_type&& nh ); |  (10)  |  (since C++17)  
| |   
  
Inserts element(s) into the container. 

1-3) Inserts value. If the container has elements with equivalent key, inserts at the upper bound of that range.

Overload (3) is equivalent to emplace([std::forward](../../utility/forward.html)<P>(value)) and only participates in overload resolution if [std::is_constructible](../../types/is_constructible.html)<value_type, P&&>::value == true.

4-6) Inserts value in the position as close as possible to the position just prior to pos.

Overload (6) is equivalent to emplace_hint(hint, [std::forward](../../utility/forward.html)<P>(value)) and only participates in overload resolution if [std::is_constructible](../../types/is_constructible.html)<value_type, P&&>::value == true.

7) Inserts elements from range `[`first`, `last`)`.

8) Inserts elements from initializer list ilist.

9) If nh is an empty [node handle](../node_handle.html "cpp/container/node handle"), does nothing. Otherwise, inserts the element owned by nh into the container and returns an iterator pointing at the inserted element. If a range containing elements with keys equivalent to nh.key() exists in the container, the element is inserted at the end of that range. The behavior is undefined if nh is not empty and get_allocator() != nh.get_allocator().

10) If nh is an empty [node handle](../node_handle.html "cpp/container/node handle"), does nothing and returns the end iterator. Otherwise, inserts the element owned by nh into the container, and returns the iterator pointing to the element with key equivalent to nh.key(). The element is inserted as close as possible to the position just prior to pos. The behavior is undefined if nh is not empty and get_allocator() != nh.get_allocator().

No iterators or references are invalidated. If the insertion is successful, pointers and references to the element obtained while it is held in the node handle are invalidated, and pointers and references obtained to that element before it was extracted become valid.(since C++17)

## Contents

  * [1 Parameters](insert.html#Parameters)
  * [2 Return value](insert.html#Return_value)
  * [3 Exceptions](insert.html#Exceptions)
  * [4 Complexity](insert.html#Complexity)
  * [5 Example](insert.html#Example)
  * [6 Defect reports](insert.html#Defect_reports)
  * [7 See also](insert.html#See_also)

  
---  
  
### Parameters

pos  |  \-  |  iterator to the position before which the new element will be inserted   
---|---|---  
value  |  \-  |  element value to insert   
first, last  |  \-  |  the pair of iterators defining the source [range](../../iterator.html#Ranges "cpp/iterator") of elements to insert   
ilist  |  \-  |  initializer list to insert the values from   
nh  |  \-  |  a compatible [node handle](../node_handle.html "cpp/container/node handle")  
Type requirements   
-`InputIt` must meet the requirements of [LegacyInputIterator](../../named_req/InputIterator.html "cpp/named req/InputIterator").   
  
### Return value

1-6) An iterator to the inserted element.

7,8) (none)

9,10) End iterator if nh was empty, iterator pointing to the inserted element otherwise.

### Exceptions

1-6) If an exception is thrown by any operation, the insertion has no effect.

7,8) No exception safety guarantee.

9,10) If an exception is thrown by any operation, the insertion has no effect.

### Complexity

1-3) `O(log(size()))`

4-6) Amortized constant if the insertion happens in the position just before pos, `O(log(size()))` otherwise.

7,8) `O(N·log(size() + N))`, where `N` is the number of elements to insert.

9) `O(log(size()))`

10) Amortized constant if the insertion happens in the position just before pos, `O(log(size()))` otherwise.

### Example

Run this code
    
    
    #include <functional>
    #include <iostream>
    #include <map>
    #include <string>
    #include <string_view>
    #include <utility>
     
    template<class M>
    void print(const [std::string_view](../../string/basic_string_view.html) rem, const M& mmap)
    {
        [std::cout](../../io/cout.html) << rem << ' ';
        for (const auto& e : mmap)
            [std::cout](../../io/cout.html) << '{' << e.first << ',' << e.second << "} ";
        [std::cout](../../io/cout.html) << '\n';
    }
     
    int main()
    {
        // list-initialize
        [std::multimap](../multimap.html)<int, [std::string](../../string/basic_string.html), [std::greater](../../utility/functional/greater.html)<int>> mmap
            {{2, "foo"}, {2, "bar"}, {3, "baz"}, {1, "abc"}, {5, "def"}};
        print("#1", mmap);
     
        // insert using value_type
        mmap.insert(decltype(mmap)::value_type(5, "pqr"));
        print("#2", mmap);
     
        // insert using pair
        mmap.insert([std::pair](../../utility/pair.html){6, "uvw"});
        print("#3", mmap);
     
        mmap.insert({7, "xyz"});
        print("#4", mmap);
     
        // insert using initializer_list
        mmap.insert({{5, "one"}, {5, "two"}});
        print("#5", mmap);
     
        // insert using a pair of iterators
        mmap.clear();
        const auto il = {[std::pair](../../utility/pair.html){1, "ä"}, {2, "ё"}, {2, "ö"}, {3, "ü"}};
        mmap.insert(il.begin(), il.end());
        print("#6", mmap);
    }

Output: 
    
    
    #1 {5,def} {3,baz} {2,foo} {2,bar} {1,abc}
    #2 {5,def} {5,pqr} {3,baz} {2,foo} {2,bar} {1,abc}
    #3 {6,uvw} {5,def} {5,pqr} {3,baz} {2,foo} {2,bar} {1,abc}
    #4 {7,xyz} {6,uvw} {5,def} {5,pqr} {3,baz} {2,foo} {2,bar} {1,abc}
    #5 {7,xyz} {6,uvw} {5,def} {5,pqr} {5,one} {5,two} {3,baz} {2,foo} {2,bar} {1,abc}
    #6 {3,ü} {2,ё} {2,ö} {1,ä}

### Defect reports

The following behavior-changing defect reports were applied retroactively to previously published C++ standards. 

DR  | Applied to  | Behavior as published  | Correct behavior   
---|---|---|---  
[LWG 233](https://cplusplus.github.io/LWG/issue233) | C++98  | pos was just a hint, it could be totally ignored  | the insertion is required to  
be as close as possible to the  
position just prior to pos  
[LWG 264](https://cplusplus.github.io/LWG/issue264) | C++98  | the complexity of overload (5) was required to be linear if  
the range `[`first`, `last`)` is sorted according to `Compare` | removed the linear requirement  
in this special case   
[LWG 371](https://cplusplus.github.io/LWG/issue371) | C++98  | the order of equivalent elements  
was not guaranteed to be preserved  | required to be preserved   
[LWG 2005](https://cplusplus.github.io/LWG/issue2005) | C++11  | overloads (3,6) were poorly described  | improved the description   
  
### See also

[ emplace](emplace.html "cpp/container/multimap/emplace")(C++11) |  constructs element in-place   
(public member function)   
---|---  
[ emplace_hint](emplace_hint.html "cpp/container/multimap/emplace hint")(C++11) |  constructs elements in-place using a hint   
(public member function)   
[ inserter](../../iterator/inserter.html "cpp/iterator/inserter") |  creates a [std::insert_iterator](../../iterator/insert_iterator.html "cpp/iterator/insert iterator") of type inferred from the argument   
(function template) 
