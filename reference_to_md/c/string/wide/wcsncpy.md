[ C](../../../c.html "c")

[Compiler support](../../compiler_support.html "c/compiler support")  
---  
[Language](../../language.html "c/language")  
[Headers](../../header.html "c/header")  
[Type support](../../types.html "c/types")  
[Program utilities](../../program.html "c/program")  
[Variadic function support](../../variadic.html "c/variadic")  
[Error handling](../../error.html "c/error")  
[Dynamic memory management](../../memory.html "c/memory")  
[Strings library](../../string.html "c/string")  
[Algorithms](../../algorithm.html "c/algorithm")  
[Numerics](../../numeric.html "c/numeric")  
[Date and time utilities](../../chrono.html "c/chrono")  
[Input/output support](../../io.html "c/io")  
[Localization support](../../locale.html "c/locale")  
[Concurrency support](../../thread.html "c/thread") (C11)  
[Technical Specifications](../../experimental.html "c/experimental")  
[Symbol index](../../index.html "c/symbol index")  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:c/navbar_content&action=edit)

[ Strings library](../../string.html "c/string")

[Null-terminated byte strings](../byte.html "c/string/byte")  
---  
[Null-terminated multibyte strings](../multibyte.html "c/string/multibyte")  
[Null-terminated wide strings](../wide.html "c/string/wide")  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:c/string/navbar_content&action=edit)

[ Null-terminated wide strings](../wide.html "c/string/wide")

| [Functions](../wide.html#Functions "c/string/wide")  
---  
[Character classification](../wide.html#Character_classification "c/string/wide")  
| [iswalnum](iswalnum.html "c/string/wide/iswalnum")(C95)  
---  
[iswalpha](iswalpha.html "c/string/wide/iswalpha")(C95)  
[iswlower](iswlower.html "c/string/wide/iswlower")(C95)  
[iswupper](iswupper.html "c/string/wide/iswupper")(C95)  
[iswdigit](iswdigit.html "c/string/wide/iswdigit")(C95)  
[iswxdigit](iswxdigit.html "c/string/wide/iswxdigit")(C95)` `  
[iswblank](iswblank.html "c/string/wide/iswblank")(C99)  
  
| [iswctype](iswctype.html "c/string/wide/iswctype")(C95)  
---  
[iswcntrl](iswcntrl.html "c/string/wide/iswcntrl")(C95)  
[iswgraph](iswgraph.html "c/string/wide/iswgraph")(C95)  
[iswspace](iswspace.html "c/string/wide/iswspace")(C95)  
[iswprint](iswprint.html "c/string/wide/iswprint")(C95)  
[iswpunct](iswpunct.html "c/string/wide/iswpunct")(C95)  
[wctype](wctype.html "c/string/wide/wctype")(C95)  
  
[Character manipulation](../wide.html#Character_manipulation "c/string/wide")  
| [towlower](towlower.html "c/string/wide/towlower")(C95)  
---  
[towupper](towupper.html "c/string/wide/towupper")(C95)  
  
| [wctrans](wctrans.html "c/string/wide/wctrans")(C95)  
---  
[towctrans](towctrans.html "c/string/wide/towctrans")(C95)  
  
[Conversions to numeric formats](../wide.html#Conversions_to_numeric_formats "c/string/wide")  
| [wcstolwcstoll](wcstol.html "c/string/wide/wcstol")(C95)(C99)  
---  
[wcstofwcstodwcstold](wcstof.html "c/string/wide/wcstof")(C99)(C95)(C99)  
  
| [wcstoulwcstoull](wcstoul.html "c/string/wide/wcstoul")(C95)(C99)  
---  
[wcstoimaxwcstoumax](wcstoimax.html "c/string/wide/wcstoimax")(C99)(C99)` `  
  
  
  
[String manipulation](../wide.html#String_manipulation "c/string/wide")  
| [wcscpywcscpy_s](wcscpy.html "c/string/wide/wcscpy")(C95)(C11)  
---  
**wcsncpy wcsncpy_s**(C95)(C11)  
[wcsxfrm](wcsxfrm.html "c/string/wide/wcsxfrm")(C95)  
  
| [wcscatwcscat_s](wcscat.html "c/string/wide/wcscat")(C95)(C11)  
---  
[wcsncatwcsncat_s](wcsncat.html "c/string/wide/wcsncat")(C95)(C11)  
  
  
  
| [String examination](../wide.html#String_examination "c/string/wide")  
---  
| [wcslenwcsnlen_s](wcslen.html "c/string/wide/wcslen")(C95)(C11)  
---  
[wcsstr](wcsstr.html "c/string/wide/wcsstr")(C95)  
[wcscmp](wcscmp.html "c/string/wide/wcscmp")(C95)  
[wcsncmp](wcsncmp.html "c/string/wide/wcsncmp")(C95)  
[wcscoll](wcscoll.html "c/string/wide/wcscoll")(C95)  
[wcschr](wcschr.html "c/string/wide/wcschr")(C95)  
  
| [wcsrchr](wcsrchr.html "c/string/wide/wcsrchr")(C95)  
---  
[wcspbrk](wcspbrk.html "c/string/wide/wcspbrk")(C95)  
[wcsspn](wcsspn.html "c/string/wide/wcsspn")(C95)  
[wcscspn](wcscspn.html "c/string/wide/wcscspn")(C95)  
[wcstokwcstok_s](wcstok.html "c/string/wide/wcstok")(C95)(C11)  
  
  
  
[Array manipulation](../wide.html#Wide_character_array_manipulation "c/string/wide")  
| [wmemcpywmemcpy_s](wmemcpy.html "c/string/wide/wmemcpy")(C95)(C11)  
---  
[wmemmovewmemmove_s](wmemmove.html "c/string/wide/wmemmove")(C95)(C11)` `  
  
| [wmemcmp](wmemcmp.html "c/string/wide/wmemcmp")(C95)  
---  
[wmemchr](wmemchr.html "c/string/wide/wmemchr")(C95)  
[wmemset](wmemset.html "c/string/wide/wmemset")(C95)  
  
  
  
[Types](../wide.html#Types "c/string/wide")  
[wchar_t  
wint_t](../wide.html#Types "c/string/wide")(C95)  
[wctrans_t  
wctype_t](../wide.html#Types "c/string/wide")(C95)(C95)  
[Macros](../wide.html#Macros "c/string/wide")  
[WCHAR_MIN  
WCHAR_MAX](../wide.html#Macros "c/string/wide")(C95)(C95)  
[WEOF](../wide.html#Macros "c/string/wide")(C95)  
  
[[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:c/string/wide/navbar_content&action=edit)

Defined in header `[`<wchar.h>`](../../header/wchar.html "c/header/wchar")` |  |   
---|---|---  
| (1) |   
wchar_t* wcsncpy( wchar_t* dest, const wchar_t* src, [size_t](../../types/size_t.html) count ); |  |  (since C95)   
(until C99)  
wchar_t *wcsncpy( wchar_t *restrict dest, const wchar_t *restrict src, [size_t](../../types/size_t.html) count ); |  |  (since C99)  
errno_t wcsncpy_s( wchar_t *restrict dest, rsize_t destsz,  
const wchar_t *restrict src, rsize_t count); |  (2)  |  (since C11)  
| |   
  
1) Copies at most `count` characters of the wide string pointed to by `src` (including the terminating null wide character) to wide character array pointed to by `dest`. 

If `count` is reached before the entire string `src` was copied, the resulting wide character array is not null-terminated.

If, after copying the terminating null wide character from `src`, `count` is not reached, additional null wide characters are written to `dest` until the total of `count` characters have been written.

If the strings overlap, the behavior is undefined.

2) Same as (1), except that the function does not continue writing zeroes into the destination array to pad up to `count`, it stops after writing the terminating null character (if there was no null in the source, it writes one at dest[count] and then stops). Also, the following errors are detected at runtime and call the currently installed [constraint handler](../../error/set_constraint_handler_s.html "c/error/set constraint handler s") function: 

    

  * `src` or `dest` is a null pointer 
  * `destsz` or `count` is zero or greater than RSIZE_MAX/sizeof(wchar_t)
  * `count` is greater or equal `destsz`, but `destsz` is less or equal wcsnlen_s(src, count), in other words, truncation would occur 
  * overlap would occur between the source and the destination strings 


    As with all bounds-checked functions, `wcsncpy_s` is only guaranteed to be available if __STDC_LIB_EXT1__ is defined by the implementation and if the user defines __STDC_WANT_LIB_EXT1__ to the integer constant 1 before including [`<wchar.h>`](../../header/wchar.html "c/header/wchar").

## Contents

  * [1 Parameters](wcsncpy.html#Parameters)
  * [2 Return value](wcsncpy.html#Return_value)
  * [3 Notes](wcsncpy.html#Notes)
  * [4 Example](wcsncpy.html#Example)
  * [5 References](wcsncpy.html#References)
  * [6 See also](wcsncpy.html#See_also)

  
---  
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=c/string/wide/wcsncpy&action=edit&section=1 "Edit section: Parameters")] Parameters

dest  |  \-  |  pointer to the wide character array to copy to   
---|---|---  
src  |  \-  |  pointer to the wide string to copy from   
count  |  \-  |  maximum number of wide characters to copy   
destsz  |  \-  |  the size of the destination buffer   
  
### [[edit](https://en.cppreference.com/mwiki/index.php?title=c/string/wide/wcsncpy&action=edit&section=2 "Edit section: Return value")] Return value

1) returns a copy of `dest`

2) returns zero on success, returns non-zero on error. Also, on error, writes L'\0' to dest[0] (unless `dest` is a null pointer or `destsz` is zero or greater than RSIZE_MAX/sizeof(wchar_t)) and may clobber the rest of the destination array with unspecified values.

### [[edit](https://en.cppreference.com/mwiki/index.php?title=c/string/wide/wcsncpy&action=edit&section=3 "Edit section: Notes")] Notes

In typical usage, `count` is the number of elements in the destination array. 

Although truncation to fit the destination buffer is a security risk and therefore a runtime constraints violation for `wcsncpy_s`, it is possible to get the truncating behavior by specifying `count` equal to the size of the destination array minus one: it will copy the first `count` wide characters and append the null wide terminator as always: wcsncpy_s(dst, sizeof dst / sizeof *dst, src, (sizeof dst / sizeof *dst)-1);

### [[edit](https://en.cppreference.com/mwiki/index.php?title=c/string/wide/wcsncpy&action=edit&section=4 "Edit section: Example")] Example

Run this code
    
    
    #include <stdio.h>
    #include <wchar.h>
    #include <locale.h>
     
    int main(void)
    {
        const wchar_t src[] = L"わゐ";
        wchar_t dest[6] = {L'あ', L'い', L'う', L'え', L'お'};
     
        wcsncpy(dest, src, 4); // this will copy わゐ and repeat L'\0' two times
     
        [puts](../../io/puts.html)("The contents of dest are: ");
        [setlocale](../../locale/setlocale.html)([LC_ALL](../../locale/LC_categories.html), "en_US.utf8");
     
        const long dest_size = sizeof dest / sizeof *dest;
        for(wchar_t* p = dest; p-dest != dest_size; ++p) {
            *p ? [printf](../../io/fprintf.html)("%lc ", *p)
               : [printf](../../io/fprintf.html)("\\0 ");
        }
    }

Possible output: 
    
    
    The contents of dest are: 
    わ ゐ \0 \0 お \0

### [[edit](https://en.cppreference.com/mwiki/index.php?title=c/string/wide/wcsncpy&action=edit&section=5 "Edit section: References")] References

  * C17 standard (ISO/IEC 9899:2018): 



    

  * 7.29.4.2.2 The wcsncpy function (p: 314) 



    

  * K.3.9.2.1.2 The wcsncpy_s function (p: 464) 



  * C11 standard (ISO/IEC 9899:2011): 



    

  * 7.29.4.2.2 The wcsncpy function (p: 431) 



    

  * K.3.9.2.1.2 The wcsncpy_s function (p: 640-641) 



  * C99 standard (ISO/IEC 9899:1999): 



    

  * 7.24.4.2.2 The wcsncpy function (p: 377) 



### [[edit](https://en.cppreference.com/mwiki/index.php?title=c/string/wide/wcsncpy&action=edit&section=6 "Edit section: See also")] See also

[ wcscpywcscpy_s](wcscpy.html "c/string/wide/wcscpy")(C95)(C11) |  copies one wide string to another   
(function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:c/string/wide/dsc_wcscpy&action=edit)  
---|---  
[ wmemcpywmemcpy_s](wmemcpy.html "c/string/wide/wmemcpy")(C95)(C11) |  copies a certain amount of wide characters between two non-overlapping arrays   
(function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:c/string/wide/dsc_wmemcpy&action=edit)  
[ strncpystrncpy_s](../byte/strncpy.html "c/string/byte/strncpy")(C11) |  copies a certain amount of characters from one string to another   
(function) [[edit]](https://en.cppreference.com/mwiki/index.php?title=Template:c/string/byte/dsc_strncpy&action=edit)  
[C++ documentation](../../../cpp/string/wide/wcsncpy.html "cpp/string/wide/wcsncpy") for wcsncpy
